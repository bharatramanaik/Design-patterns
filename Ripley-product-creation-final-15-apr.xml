<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<template encoding-version="1.3">
    <description></description>
    <groupId>8929e563-0195-1000-8b7a-7f1fad45347e</groupId>
    <name>Ripley-product-creation-final</name>
    <snippet>
        <controllerServices>
            <id>480b2bf7-beb4-30ac-0000-000000000000</id>
            <parentGroupId>28ae84ea-4357-30f8-0000-000000000000</parentGroupId>
            <versionedComponentId>14e1ef81-377b-37a4-a486-6ac6084a048c</versionedComponentId>
            <bulletinLevel>WARN</bulletinLevel>
            <bundle>
                <artifact>nifi-dbcp-service-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <comments></comments>
            <descriptors>
                <entry>
                    <key>Database Connection URL</key>
                    <value>
                        <name>Database Connection URL</name>
                    </value>
                </entry>
                <entry>
                    <key>Database Driver Class Name</key>
                    <value>
                        <name>Database Driver Class Name</name>
                    </value>
                </entry>
                <entry>
                    <key>database-driver-locations</key>
                    <value>
                        <name>database-driver-locations</name>
                    </value>
                </entry>
                <entry>
                    <key>kerberos-user-service</key>
                    <value>
                        <identifiesControllerService>org.apache.nifi.kerberos.KerberosUserService</identifiesControllerService>
                        <name>kerberos-user-service</name>
                    </value>
                </entry>
                <entry>
                    <key>kerberos-credentials-service</key>
                    <value>
                        <identifiesControllerService>org.apache.nifi.kerberos.KerberosCredentialsService</identifiesControllerService>
                        <name>kerberos-credentials-service</name>
                    </value>
                </entry>
                <entry>
                    <key>kerberos-principal</key>
                    <value>
                        <name>kerberos-principal</name>
                    </value>
                </entry>
                <entry>
                    <key>kerberos-password</key>
                    <value>
                        <name>kerberos-password</name>
                    </value>
                </entry>
                <entry>
                    <key>Database User</key>
                    <value>
                        <name>Database User</name>
                    </value>
                </entry>
                <entry>
                    <key>Password</key>
                    <value>
                        <name>Password</name>
                    </value>
                </entry>
                <entry>
                    <key>Max Wait Time</key>
                    <value>
                        <name>Max Wait Time</name>
                    </value>
                </entry>
                <entry>
                    <key>Max Total Connections</key>
                    <value>
                        <name>Max Total Connections</name>
                    </value>
                </entry>
                <entry>
                    <key>Validation-query</key>
                    <value>
                        <name>Validation-query</name>
                    </value>
                </entry>
                <entry>
                    <key>dbcp-min-idle-conns</key>
                    <value>
                        <name>dbcp-min-idle-conns</name>
                    </value>
                </entry>
                <entry>
                    <key>dbcp-max-idle-conns</key>
                    <value>
                        <name>dbcp-max-idle-conns</name>
                    </value>
                </entry>
                <entry>
                    <key>dbcp-max-conn-lifetime</key>
                    <value>
                        <name>dbcp-max-conn-lifetime</name>
                    </value>
                </entry>
                <entry>
                    <key>dbcp-time-between-eviction-runs</key>
                    <value>
                        <name>dbcp-time-between-eviction-runs</name>
                    </value>
                </entry>
                <entry>
                    <key>dbcp-min-evictable-idle-time</key>
                    <value>
                        <name>dbcp-min-evictable-idle-time</name>
                    </value>
                </entry>
                <entry>
                    <key>dbcp-soft-min-evictable-idle-time</key>
                    <value>
                        <name>dbcp-soft-min-evictable-idle-time</name>
                    </value>
                </entry>
            </descriptors>
            <name>DBCPConnectionPool</name>
            <persistsState>false</persistsState>
            <properties>
                <entry>
                    <key>Database Connection URL</key>
                    <value>jdbc:postgresql://10.10.9.146:5432/nifi</value>
                </entry>
                <entry>
                    <key>Database Driver Class Name</key>
                    <value>org.postgresql.Driver</value>
                </entry>
                <entry>
                    <key>database-driver-locations</key>
                    <value>/opt/nifi-1.23.2/lib/postgresql-42.2.23.jar</value>
                </entry>
                <entry>
                    <key>kerberos-user-service</key>
                </entry>
                <entry>
                    <key>kerberos-credentials-service</key>
                </entry>
                <entry>
                    <key>kerberos-principal</key>
                </entry>
                <entry>
                    <key>kerberos-password</key>
                </entry>
                <entry>
                    <key>Database User</key>
                    <value>nifiuser</value>
                </entry>
                <entry>
                    <key>Password</key>
                </entry>
                <entry>
                    <key>Max Wait Time</key>
                    <value>500 millis</value>
                </entry>
                <entry>
                    <key>Max Total Connections</key>
                    <value>8</value>
                </entry>
                <entry>
                    <key>Validation-query</key>
                </entry>
                <entry>
                    <key>dbcp-min-idle-conns</key>
                    <value>0</value>
                </entry>
                <entry>
                    <key>dbcp-max-idle-conns</key>
                    <value>8</value>
                </entry>
                <entry>
                    <key>dbcp-max-conn-lifetime</key>
                    <value>-1</value>
                </entry>
                <entry>
                    <key>dbcp-time-between-eviction-runs</key>
                    <value>-1</value>
                </entry>
                <entry>
                    <key>dbcp-min-evictable-idle-time</key>
                    <value>30 mins</value>
                </entry>
                <entry>
                    <key>dbcp-soft-min-evictable-idle-time</key>
                    <value>-1</value>
                </entry>
            </properties>
            <state>DISABLED</state>
            <type>org.apache.nifi.dbcp.DBCPConnectionPool</type>
        </controllerServices>
        <controllerServices>
            <id>7680def1-e024-3f0a-0000-000000000000</id>
            <parentGroupId>28ae84ea-4357-30f8-0000-000000000000</parentGroupId>
            <versionedComponentId>7680def1-e024-3f0a-9ca5-f7e2f9bb0f0f</versionedComponentId>
            <bulletinLevel>WARN</bulletinLevel>
            <bundle>
                <artifact>nifi-record-serialization-services-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <comments></comments>
            <descriptors>
                <entry>
                    <key>schema-access-strategy</key>
                    <value>
                        <name>schema-access-strategy</name>
                    </value>
                </entry>
                <entry>
                    <key>schema-registry</key>
                    <value>
                        <dependencies>
                            <dependentValues>confluent-encoded</dependentValues>
                            <dependentValues>schema-name</dependentValues>
                            <dependentValues>hwx-schema-ref-attributes</dependentValues>
                            <dependentValues>hwx-content-encoded-schema</dependentValues>
                            <propertyName>schema-access-strategy</propertyName>
                        </dependencies>
                        <identifiesControllerService>org.apache.nifi.schemaregistry.services.SchemaRegistry</identifiesControllerService>
                        <name>schema-registry</name>
                    </value>
                </entry>
                <entry>
                    <key>schema-name</key>
                    <value>
                        <dependencies>
                            <dependentValues>schema-name</dependentValues>
                            <propertyName>schema-access-strategy</propertyName>
                        </dependencies>
                        <name>schema-name</name>
                    </value>
                </entry>
                <entry>
                    <key>schema-version</key>
                    <value>
                        <dependencies>
                            <dependentValues>schema-name</dependentValues>
                            <propertyName>schema-access-strategy</propertyName>
                        </dependencies>
                        <name>schema-version</name>
                    </value>
                </entry>
                <entry>
                    <key>schema-branch</key>
                    <value>
                        <dependencies>
                            <dependentValues>schema-name</dependentValues>
                            <propertyName>schema-access-strategy</propertyName>
                        </dependencies>
                        <name>schema-branch</name>
                    </value>
                </entry>
                <entry>
                    <key>schema-text</key>
                    <value>
                        <dependencies>
                            <dependentValues>schema-text-property</dependentValues>
                            <propertyName>schema-access-strategy</propertyName>
                        </dependencies>
                        <name>schema-text</name>
                    </value>
                </entry>
                <entry>
                    <key>schema-inference-cache</key>
                    <value>
                        <dependencies>
                            <dependentValues>infer-schema</dependentValues>
                            <propertyName>schema-access-strategy</propertyName>
                        </dependencies>
                        <identifiesControllerService>org.apache.nifi.serialization.RecordSchemaCacheService</identifiesControllerService>
                        <name>schema-inference-cache</name>
                    </value>
                </entry>
                <entry>
                    <key>starting-field-strategy</key>
                    <value>
                        <name>starting-field-strategy</name>
                    </value>
                </entry>
                <entry>
                    <key>starting-field-name</key>
                    <value>
                        <dependencies>
                            <dependentValues>NESTED_FIELD</dependentValues>
                            <propertyName>starting-field-strategy</propertyName>
                        </dependencies>
                        <name>starting-field-name</name>
                    </value>
                </entry>
                <entry>
                    <key>schema-application-strategy</key>
                    <value>
                        <dependencies>
                            <dependentValues>confluent-encoded</dependentValues>
                            <dependentValues>schema-name</dependentValues>
                            <dependentValues>schema-text-property</dependentValues>
                            <dependentValues>hwx-schema-ref-attributes</dependentValues>
                            <dependentValues>hwx-content-encoded-schema</dependentValues>
                            <propertyName>schema-access-strategy</propertyName>
                        </dependencies>
                        <dependencies>
                            <dependentValues>NESTED_FIELD</dependentValues>
                            <propertyName>starting-field-strategy</propertyName>
                        </dependencies>
                        <name>schema-application-strategy</name>
                    </value>
                </entry>
                <entry>
                    <key>Max String Length</key>
                    <value>
                        <name>Max String Length</name>
                    </value>
                </entry>
                <entry>
                    <key>Allow Comments</key>
                    <value>
                        <name>Allow Comments</name>
                    </value>
                </entry>
                <entry>
                    <key>Date Format</key>
                    <value>
                        <name>Date Format</name>
                    </value>
                </entry>
                <entry>
                    <key>Time Format</key>
                    <value>
                        <name>Time Format</name>
                    </value>
                </entry>
                <entry>
                    <key>Timestamp Format</key>
                    <value>
                        <name>Timestamp Format</name>
                    </value>
                </entry>
            </descriptors>
            <name>JsonTreeReader</name>
            <persistsState>false</persistsState>
            <properties>
                <entry>
                    <key>schema-access-strategy</key>
                    <value>infer-schema</value>
                </entry>
                <entry>
                    <key>schema-registry</key>
                </entry>
                <entry>
                    <key>schema-name</key>
                    <value>${schema.name}</value>
                </entry>
                <entry>
                    <key>schema-version</key>
                </entry>
                <entry>
                    <key>schema-branch</key>
                </entry>
                <entry>
                    <key>schema-text</key>
                    <value>${avro.schema}</value>
                </entry>
                <entry>
                    <key>schema-inference-cache</key>
                </entry>
                <entry>
                    <key>starting-field-strategy</key>
                    <value>ROOT_NODE</value>
                </entry>
                <entry>
                    <key>starting-field-name</key>
                </entry>
                <entry>
                    <key>schema-application-strategy</key>
                    <value>SELECTED_PART</value>
                </entry>
                <entry>
                    <key>Max String Length</key>
                    <value>20 MB</value>
                </entry>
                <entry>
                    <key>Allow Comments</key>
                    <value>false</value>
                </entry>
                <entry>
                    <key>Date Format</key>
                </entry>
                <entry>
                    <key>Time Format</key>
                </entry>
                <entry>
                    <key>Timestamp Format</key>
                </entry>
            </properties>
            <state>ENABLED</state>
            <type>org.apache.nifi.json.JsonTreeReader</type>
        </controllerServices>
        <controllerServices>
            <id>9fb23311-aa4a-3398-0000-000000000000</id>
            <parentGroupId>28ae84ea-4357-30f8-0000-000000000000</parentGroupId>
            <versionedComponentId>9fb23311-aa4a-3398-b867-81458ef0912a</versionedComponentId>
            <bulletinLevel>WARN</bulletinLevel>
            <bundle>
                <artifact>nifi-record-serialization-services-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <comments></comments>
            <descriptors>
                <entry>
                    <key>Schema Write Strategy</key>
                    <value>
                        <name>Schema Write Strategy</name>
                    </value>
                </entry>
                <entry>
                    <key>schema-cache</key>
                    <value>
                        <identifiesControllerService>org.apache.nifi.serialization.RecordSchemaCacheService</identifiesControllerService>
                        <name>schema-cache</name>
                    </value>
                </entry>
                <entry>
                    <key>schema-protocol-version</key>
                    <value>
                        <dependencies>
                            <dependentValues>hwx-schema-ref-attributes</dependentValues>
                            <dependentValues>hwx-content-encoded-schema</dependentValues>
                            <propertyName>Schema Write Strategy</propertyName>
                        </dependencies>
                        <name>schema-protocol-version</name>
                    </value>
                </entry>
                <entry>
                    <key>schema-access-strategy</key>
                    <value>
                        <name>schema-access-strategy</name>
                    </value>
                </entry>
                <entry>
                    <key>schema-registry</key>
                    <value>
                        <dependencies>
                            <dependentValues>confluent-encoded</dependentValues>
                            <dependentValues>schema-name</dependentValues>
                            <dependentValues>hwx-schema-ref-attributes</dependentValues>
                            <dependentValues>hwx-content-encoded-schema</dependentValues>
                            <propertyName>schema-access-strategy</propertyName>
                        </dependencies>
                        <identifiesControllerService>org.apache.nifi.schemaregistry.services.SchemaRegistry</identifiesControllerService>
                        <name>schema-registry</name>
                    </value>
                </entry>
                <entry>
                    <key>schema-name</key>
                    <value>
                        <dependencies>
                            <dependentValues>schema-name</dependentValues>
                            <propertyName>schema-access-strategy</propertyName>
                        </dependencies>
                        <name>schema-name</name>
                    </value>
                </entry>
                <entry>
                    <key>schema-version</key>
                    <value>
                        <dependencies>
                            <dependentValues>schema-name</dependentValues>
                            <propertyName>schema-access-strategy</propertyName>
                        </dependencies>
                        <name>schema-version</name>
                    </value>
                </entry>
                <entry>
                    <key>schema-branch</key>
                    <value>
                        <dependencies>
                            <dependentValues>schema-name</dependentValues>
                            <propertyName>schema-access-strategy</propertyName>
                        </dependencies>
                        <name>schema-branch</name>
                    </value>
                </entry>
                <entry>
                    <key>schema-text</key>
                    <value>
                        <dependencies>
                            <dependentValues>schema-text-property</dependentValues>
                            <propertyName>schema-access-strategy</propertyName>
                        </dependencies>
                        <name>schema-text</name>
                    </value>
                </entry>
                <entry>
                    <key>Date Format</key>
                    <value>
                        <name>Date Format</name>
                    </value>
                </entry>
                <entry>
                    <key>Time Format</key>
                    <value>
                        <name>Time Format</name>
                    </value>
                </entry>
                <entry>
                    <key>Timestamp Format</key>
                    <value>
                        <name>Timestamp Format</name>
                    </value>
                </entry>
                <entry>
                    <key>CSV Format</key>
                    <value>
                        <name>CSV Format</name>
                    </value>
                </entry>
                <entry>
                    <key>Value Separator</key>
                    <value>
                        <dependencies>
                            <dependentValues>custom</dependentValues>
                            <propertyName>CSV Format</propertyName>
                        </dependencies>
                        <name>Value Separator</name>
                    </value>
                </entry>
                <entry>
                    <key>Include Header Line</key>
                    <value>
                        <name>Include Header Line</name>
                    </value>
                </entry>
                <entry>
                    <key>Quote Character</key>
                    <value>
                        <dependencies>
                            <dependentValues>custom</dependentValues>
                            <propertyName>CSV Format</propertyName>
                        </dependencies>
                        <name>Quote Character</name>
                    </value>
                </entry>
                <entry>
                    <key>Escape Character</key>
                    <value>
                        <dependencies>
                            <dependentValues>custom</dependentValues>
                            <propertyName>CSV Format</propertyName>
                        </dependencies>
                        <name>Escape Character</name>
                    </value>
                </entry>
                <entry>
                    <key>Comment Marker</key>
                    <value>
                        <dependencies>
                            <dependentValues>custom</dependentValues>
                            <propertyName>CSV Format</propertyName>
                        </dependencies>
                        <name>Comment Marker</name>
                    </value>
                </entry>
                <entry>
                    <key>Null String</key>
                    <value>
                        <dependencies>
                            <dependentValues>custom</dependentValues>
                            <propertyName>CSV Format</propertyName>
                        </dependencies>
                        <name>Null String</name>
                    </value>
                </entry>
                <entry>
                    <key>Trim Fields</key>
                    <value>
                        <dependencies>
                            <dependentValues>custom</dependentValues>
                            <propertyName>CSV Format</propertyName>
                        </dependencies>
                        <name>Trim Fields</name>
                    </value>
                </entry>
                <entry>
                    <key>Quote Mode</key>
                    <value>
                        <dependencies>
                            <dependentValues>custom</dependentValues>
                            <propertyName>CSV Format</propertyName>
                        </dependencies>
                        <name>Quote Mode</name>
                    </value>
                </entry>
                <entry>
                    <key>Record Separator</key>
                    <value>
                        <dependencies>
                            <dependentValues>custom</dependentValues>
                            <propertyName>CSV Format</propertyName>
                        </dependencies>
                        <name>Record Separator</name>
                    </value>
                </entry>
                <entry>
                    <key>Include Trailing Delimiter</key>
                    <value>
                        <dependencies>
                            <dependentValues>custom</dependentValues>
                            <propertyName>CSV Format</propertyName>
                        </dependencies>
                        <name>Include Trailing Delimiter</name>
                    </value>
                </entry>
                <entry>
                    <key>csvutils-character-set</key>
                    <value>
                        <name>csvutils-character-set</name>
                    </value>
                </entry>
            </descriptors>
            <name>CSVRecordSetWriter</name>
            <persistsState>false</persistsState>
            <properties>
                <entry>
                    <key>Schema Write Strategy</key>
                    <value>no-schema</value>
                </entry>
                <entry>
                    <key>schema-cache</key>
                </entry>
                <entry>
                    <key>schema-protocol-version</key>
                    <value>1</value>
                </entry>
                <entry>
                    <key>schema-access-strategy</key>
                    <value>inherit-record-schema</value>
                </entry>
                <entry>
                    <key>schema-registry</key>
                </entry>
                <entry>
                    <key>schema-name</key>
                    <value>${schema.name}</value>
                </entry>
                <entry>
                    <key>schema-version</key>
                </entry>
                <entry>
                    <key>schema-branch</key>
                </entry>
                <entry>
                    <key>schema-text</key>
                    <value>${avro.schema}</value>
                </entry>
                <entry>
                    <key>Date Format</key>
                </entry>
                <entry>
                    <key>Time Format</key>
                </entry>
                <entry>
                    <key>Timestamp Format</key>
                </entry>
                <entry>
                    <key>CSV Format</key>
                    <value>custom</value>
                </entry>
                <entry>
                    <key>Value Separator</key>
                    <value>;</value>
                </entry>
                <entry>
                    <key>Include Header Line</key>
                    <value>true</value>
                </entry>
                <entry>
                    <key>Quote Character</key>
                    <value>"</value>
                </entry>
                <entry>
                    <key>Escape Character</key>
                    <value>\</value>
                </entry>
                <entry>
                    <key>Comment Marker</key>
                </entry>
                <entry>
                    <key>Null String</key>
                </entry>
                <entry>
                    <key>Trim Fields</key>
                    <value>true</value>
                </entry>
                <entry>
                    <key>Quote Mode</key>
                    <value>MINIMAL</value>
                </entry>
                <entry>
                    <key>Record Separator</key>
                    <value>\n</value>
                </entry>
                <entry>
                    <key>Include Trailing Delimiter</key>
                    <value>false</value>
                </entry>
                <entry>
                    <key>csvutils-character-set</key>
                    <value>UTF-8</value>
                </entry>
            </properties>
            <state>ENABLED</state>
            <type>org.apache.nifi.csv.CSVRecordSetWriter</type>
        </controllerServices>
        <processGroups>
            <id>7e5f32d7-88e1-3276-0000-000000000000</id>
            <parentGroupId>28ae84ea-4357-30f8-0000-000000000000</parentGroupId>
            <position>
                <x>0.0</x>
                <y>0.0</y>
            </position>
            <versionedComponentId>7e5f32d7-88e1-3276-ba22-6ab72906ac22</versionedComponentId>
            <comments></comments>
            <contents>
                <connections>
                    <id>26a30902-0c57-3bf0-0000-000000000000</id>
                    <parentGroupId>7e5f32d7-88e1-3276-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>7e5f32d7-88e1-3276-0000-000000000000</groupId>
                        <id>9c75520c-1cc6-39e2-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>d3656d22-fb4b-356c-b2fc-52a1b901f9d3</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>7e5f32d7-88e1-3276-0000-000000000000</groupId>
                        <id>32c526f2-6175-3e88-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>34e09b78-0625-35eb-bcb1-ecb650fa16a5</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>30646d73-7962-3892-0000-000000000000</id>
                    <parentGroupId>7e5f32d7-88e1-3276-0000-000000000000</parentGroupId>
                    <versionedComponentId>addffa31-7acd-371c-9056-2359b8f42f12</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>7e5f32d7-88e1-3276-0000-000000000000</groupId>
                        <id>9c75520c-1cc6-39e2-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>d3656d22-fb4b-356c-b2fc-52a1b901f9d3</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>7e5f32d7-88e1-3276-0000-000000000000</groupId>
                        <id>255edd10-3d17-390a-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>c6e61b9e-f142-3967-99e0-150706cb7032</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>b7941400-662f-352e-0000-000000000000</id>
                    <parentGroupId>7e5f32d7-88e1-3276-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>11b60afa-6ffd-3be1-0000-000000000000</groupId>
                        <id>016019e3-c475-3720-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>failure</selectedRelationships>
                    <selectedRelationships>unmatched</selectedRelationships>
                    <source>
                        <groupId>7e5f32d7-88e1-3276-0000-000000000000</groupId>
                        <id>9c75520c-1cc6-39e2-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>d3656d22-fb4b-356c-b2fc-52a1b901f9d3</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>bdfa4898-8fd8-3a69-0000-000000000000</id>
                    <parentGroupId>7e5f32d7-88e1-3276-0000-000000000000</parentGroupId>
                    <versionedComponentId>bdfa4898-8fd8-3a69-9245-75d787231152</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>7e5f32d7-88e1-3276-0000-000000000000</groupId>
                        <id>59d0252e-7a85-3e45-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>59d0252e-7a85-3e45-b34a-d81e9c108cf3</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>matched</selectedRelationships>
                    <source>
                        <groupId>7e5f32d7-88e1-3276-0000-000000000000</groupId>
                        <id>9c75520c-1cc6-39e2-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>d3656d22-fb4b-356c-b2fc-52a1b901f9d3</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>c04984a2-cab6-3deb-0000-000000000000</id>
                    <parentGroupId>7e5f32d7-88e1-3276-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>11b60afa-6ffd-3be1-0000-000000000000</groupId>
                        <id>016019e3-c475-3720-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>unmatched</selectedRelationships>
                    <source>
                        <groupId>7e5f32d7-88e1-3276-0000-000000000000</groupId>
                        <id>59d0252e-7a85-3e45-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>59d0252e-7a85-3e45-b34a-d81e9c108cf3</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>e361484a-b1e4-3d40-0000-000000000000</id>
                    <parentGroupId>7e5f32d7-88e1-3276-0000-000000000000</parentGroupId>
                    <versionedComponentId>e361484a-b1e4-3d40-9d76-ad0e7bbe779f</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>facd6c3f-6d37-3efc-0000-000000000000</groupId>
                        <id>c71fe618-32ea-3c4a-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                        <versionedComponentId>aa73eb5e-6a7a-3011-bbaa-7337204bc6b7</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>matched</selectedRelationships>
                    <source>
                        <groupId>7e5f32d7-88e1-3276-0000-000000000000</groupId>
                        <id>59d0252e-7a85-3e45-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>59d0252e-7a85-3e45-b34a-d81e9c108cf3</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <processGroups>
                    <id>11b60afa-6ffd-3be1-0000-000000000000</id>
                    <parentGroupId>7e5f32d7-88e1-3276-0000-000000000000</parentGroupId>
                    <position>
                        <x>352.0</x>
                        <y>-352.0</y>
                    </position>
                    <comments></comments>
                    <contents>
                        <connections>
                            <id>07f9c2c0-c70e-3a72-0000-000000000000</id>
                            <parentGroupId>11b60afa-6ffd-3be1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>11b60afa-6ffd-3be1-0000-000000000000</groupId>
<id>c0e0dc37-a7e3-33a5-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>11b60afa-6ffd-3be1-0000-000000000000</groupId>
<id>d2a57cb0-c89c-3133-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>1693e782-6586-3d33-0000-000000000000</id>
                            <parentGroupId>11b60afa-6ffd-3be1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>11b60afa-6ffd-3be1-0000-000000000000</groupId>
<id>c0e0dc37-a7e3-33a5-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>11b60afa-6ffd-3be1-0000-000000000000</groupId>
<id>5b8feddb-3958-3bed-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>8b6df204-6d25-3782-0000-000000000000</id>
                            <parentGroupId>11b60afa-6ffd-3be1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>11b60afa-6ffd-3be1-0000-000000000000</groupId>
<id>5b8feddb-3958-3bed-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>11b60afa-6ffd-3be1-0000-000000000000</groupId>
<id>016019e3-c475-3720-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>9580b514-506b-3776-0000-000000000000</id>
                            <parentGroupId>11b60afa-6ffd-3be1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>11b60afa-6ffd-3be1-0000-000000000000</groupId>
<id>d2a57cb0-c89c-3133-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>11b60afa-6ffd-3be1-0000-000000000000</groupId>
<id>016019e3-c475-3720-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <inputPorts>
                            <id>016019e3-c475-3720-0000-000000000000</id>
                            <parentGroupId>11b60afa-6ffd-3be1-0000-000000000000</parentGroupId>
                            <position>
<x>368.0</x>
<y>-192.0</y>
                            </position>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>failure</name>
                            <state>STOPPED</state>
                            <type>INPUT_PORT</type>
                        </inputPorts>
                        <processors>
                            <id>5b8feddb-3958-3bed-0000-000000000000</id>
                            <parentGroupId>11b60afa-6ffd-3be1-0000-000000000000</parentGroupId>
                            <position>
<x>640.0</x>
<y>-64.0</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.26.0</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Database Connection Pooling Service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.dbcp.DBCPService</identifiesControllerService>
            <name>Database Connection Pooling Service</name>
        </value>
    </entry>
    <entry>
        <key>sql-pre-query</key>
        <value>
            <name>sql-pre-query</name>
        </value>
    </entry>
    <entry>
        <key>SQL select query</key>
        <value>
            <name>SQL select query</name>
        </value>
    </entry>
    <entry>
        <key>sql-post-query</key>
        <value>
            <name>sql-post-query</name>
        </value>
    </entry>
    <entry>
        <key>Max Wait Time</key>
        <value>
            <name>Max Wait Time</name>
        </value>
    </entry>
    <entry>
        <key>dbf-normalize</key>
        <value>
            <name>dbf-normalize</name>
        </value>
    </entry>
    <entry>
        <key>dbf-user-logical-types</key>
        <value>
            <name>dbf-user-logical-types</name>
        </value>
    </entry>
    <entry>
        <key>compression-format</key>
        <value>
            <name>compression-format</name>
        </value>
    </entry>
    <entry>
        <key>dbf-default-precision</key>
        <value>
            <name>dbf-default-precision</name>
        </value>
    </entry>
    <entry>
        <key>dbf-default-scale</key>
        <value>
            <name>dbf-default-scale</name>
        </value>
    </entry>
    <entry>
        <key>esql-max-rows</key>
        <value>
            <name>esql-max-rows</name>
        </value>
    </entry>
    <entry>
        <key>esql-output-batch-size</key>
        <value>
            <name>esql-output-batch-size</name>
        </value>
    </entry>
    <entry>
        <key>esql-fetch-size</key>
        <value>
            <name>esql-fetch-size</name>
        </value>
    </entry>
    <entry>
        <key>esql-auto-commit</key>
        <value>
            <name>esql-auto-commit</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Database Connection Pooling Service</key>
        <value>480b2bf7-beb4-30ac-0000-000000000000</value>
    </entry>
    <entry>
        <key>sql-pre-query</key>
    </entry>
    <entry>
        <key>SQL select query</key>
        <value>UPDATE file_processing_log SET updated_at = '${now():format("yyyy-MM-dd HH:mm:ss")}', updated_by = 'nifi', status = '${status}', error_message ='${invokehttp.status.message}' WHERE order_no = '${orderNumber}' AND application = 'ejje-nebula-forward-order-creation';</value>
    </entry>
    <entry>
        <key>sql-post-query</key>
    </entry>
    <entry>
        <key>Max Wait Time</key>
        <value>0 seconds</value>
    </entry>
    <entry>
        <key>dbf-normalize</key>
        <value>false</value>
    </entry>
    <entry>
        <key>dbf-user-logical-types</key>
        <value>false</value>
    </entry>
    <entry>
        <key>compression-format</key>
        <value>NONE</value>
    </entry>
    <entry>
        <key>dbf-default-precision</key>
        <value>10</value>
    </entry>
    <entry>
        <key>dbf-default-scale</key>
        <value>0</value>
    </entry>
    <entry>
        <key>esql-max-rows</key>
        <value>0</value>
    </entry>
    <entry>
        <key>esql-output-batch-size</key>
        <value>0</value>
    </entry>
    <entry>
        <key>esql-fetch-size</key>
        <value>0</value>
    </entry>
    <entry>
        <key>esql-auto-commit</key>
        <value>true</value>
    </entry>
</properties>
<retryCount>10</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>ExecuteSQL</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteSQL</type>
                        </processors>
                        <processors>
                            <id>c0e0dc37-a7e3-33a5-0000-000000000000</id>
                            <parentGroupId>11b60afa-6ffd-3be1-0000-000000000000</parentGroupId>
                            <position>
<x>288.0</x>
<y>168.0</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.26.0</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Log Level</key>
        <value>
            <name>Log Level</name>
        </value>
    </entry>
    <entry>
        <key>Log Payload</key>
        <value>
            <name>Log Payload</name>
        </value>
    </entry>
    <entry>
        <key>Attributes to Log</key>
        <value>
            <name>Attributes to Log</name>
        </value>
    </entry>
    <entry>
        <key>attributes-to-log-regex</key>
        <value>
            <name>attributes-to-log-regex</name>
        </value>
    </entry>
    <entry>
        <key>Attributes to Ignore</key>
        <value>
            <name>Attributes to Ignore</name>
        </value>
    </entry>
    <entry>
        <key>attributes-to-ignore-regex</key>
        <value>
            <name>attributes-to-ignore-regex</name>
        </value>
    </entry>
    <entry>
        <key>Log FlowFile Properties</key>
        <value>
            <name>Log FlowFile Properties</name>
        </value>
    </entry>
    <entry>
        <key>Output Format</key>
        <value>
            <name>Output Format</name>
        </value>
    </entry>
    <entry>
        <key>Log prefix</key>
        <value>
            <name>Log prefix</name>
        </value>
    </entry>
    <entry>
        <key>character-set</key>
        <value>
            <name>character-set</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Log Level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>Log Payload</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Attributes to Log</key>
    </entry>
    <entry>
        <key>attributes-to-log-regex</key>
        <value>.*</value>
    </entry>
    <entry>
        <key>Attributes to Ignore</key>
    </entry>
    <entry>
        <key>attributes-to-ignore-regex</key>
    </entry>
    <entry>
        <key>Log FlowFile Properties</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Output Format</key>
        <value>Line per Attribute</value>
    </entry>
    <entry>
        <key>Log prefix</key>
    </entry>
    <entry>
        <key>character-set</key>
        <value>UTF-8</value>
    </entry>
</properties>
<retryCount>10</retryCount>
<runDurationMillis>25</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>LogAttribute</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogAttribute</type>
                        </processors>
                        <processors>
                            <id>d2a57cb0-c89c-3133-0000-000000000000</id>
                            <parentGroupId>11b60afa-6ffd-3be1-0000-000000000000</parentGroupId>
                            <position>
<x>16.0</x>
<y>-72.0</y>
                            </position>
                            <bundle>
<artifact>nifi-kafka-2-6-nar</artifact>
<group>org.apache.nifi</group>
<version>1.26.0</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>bootstrap.servers</key>
        <value>
            <name>bootstrap.servers</name>
        </value>
    </entry>
    <entry>
        <key>topic</key>
        <value>
            <name>topic</name>
        </value>
    </entry>
    <entry>
        <key>use-transactions</key>
        <value>
            <name>use-transactions</name>
        </value>
    </entry>
    <entry>
        <key>transactional-id-prefix</key>
        <value>
            <dependencies>
                <dependentValues>true</dependentValues>
                <propertyName>use-transactions</propertyName>
            </dependencies>
            <name>transactional-id-prefix</name>
        </value>
    </entry>
    <entry>
        <key>message-demarcator</key>
        <value>
            <name>message-demarcator</name>
        </value>
    </entry>
    <entry>
        <key>Failure Strategy</key>
        <value>
            <name>Failure Strategy</name>
        </value>
    </entry>
    <entry>
        <key>acks</key>
        <value>
            <name>acks</name>
        </value>
    </entry>
    <entry>
        <key>attribute-name-regex</key>
        <value>
            <name>attribute-name-regex</name>
        </value>
    </entry>
    <entry>
        <key>message-header-encoding</key>
        <value>
            <name>message-header-encoding</name>
        </value>
    </entry>
    <entry>
        <key>security.protocol</key>
        <value>
            <name>security.protocol</name>
        </value>
    </entry>
    <entry>
        <key>sasl.mechanism</key>
        <value>
            <name>sasl.mechanism</name>
        </value>
    </entry>
    <entry>
        <key>kerberos-credentials-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.kerberos.KerberosCredentialsService</identifiesControllerService>
            <name>kerberos-credentials-service</name>
        </value>
    </entry>
    <entry>
        <key>kerberos-user-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.kerberos.SelfContainedKerberosUserService</identifiesControllerService>
            <name>kerberos-user-service</name>
        </value>
    </entry>
    <entry>
        <key>sasl.kerberos.service.name</key>
        <value>
            <name>sasl.kerberos.service.name</name>
        </value>
    </entry>
    <entry>
        <key>sasl.kerberos.principal</key>
        <value>
            <name>sasl.kerberos.principal</name>
        </value>
    </entry>
    <entry>
        <key>sasl.kerberos.keytab</key>
        <value>
            <name>sasl.kerberos.keytab</name>
        </value>
    </entry>
    <entry>
        <key>sasl.username</key>
        <value>
            <dependencies>
                <dependentValues>PLAIN</dependentValues>
                <dependentValues>SCRAM-SHA-512</dependentValues>
                <dependentValues>SCRAM-SHA-256</dependentValues>
                <propertyName>sasl.mechanism</propertyName>
            </dependencies>
            <name>sasl.username</name>
        </value>
    </entry>
    <entry>
        <key>sasl.password</key>
        <value>
            <dependencies>
                <dependentValues>PLAIN</dependentValues>
                <dependentValues>SCRAM-SHA-512</dependentValues>
                <dependentValues>SCRAM-SHA-256</dependentValues>
                <propertyName>sasl.mechanism</propertyName>
            </dependencies>
            <name>sasl.password</name>
        </value>
    </entry>
    <entry>
        <key>aws.profile.name</key>
        <value>
            <dependencies>
                <dependentValues>AWS_MSK_IAM</dependentValues>
                <propertyName>sasl.mechanism</propertyName>
            </dependencies>
            <name>aws.profile.name</name>
        </value>
    </entry>
    <entry>
        <key>sasl.token.auth</key>
        <value>
            <dependencies>
                <dependentValues>SCRAM-SHA-512</dependentValues>
                <dependentValues>SCRAM-SHA-256</dependentValues>
                <propertyName>sasl.mechanism</propertyName>
            </dependencies>
            <name>sasl.token.auth</name>
        </value>
    </entry>
    <entry>
        <key>ssl.context.service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
            <name>ssl.context.service</name>
        </value>
    </entry>
    <entry>
        <key>kafka-key</key>
        <value>
            <name>kafka-key</name>
        </value>
    </entry>
    <entry>
        <key>key-attribute-encoding</key>
        <value>
            <name>key-attribute-encoding</name>
        </value>
    </entry>
    <entry>
        <key>max.request.size</key>
        <value>
            <name>max.request.size</name>
        </value>
    </entry>
    <entry>
        <key>ack.wait.time</key>
        <value>
            <name>ack.wait.time</name>
        </value>
    </entry>
    <entry>
        <key>max.block.ms</key>
        <value>
            <name>max.block.ms</name>
        </value>
    </entry>
    <entry>
        <key>partitioner.class</key>
        <value>
            <name>partitioner.class</name>
        </value>
    </entry>
    <entry>
        <key>partition</key>
        <value>
            <name>partition</name>
        </value>
    </entry>
    <entry>
        <key>compression.type</key>
        <value>
            <name>compression.type</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>bootstrap.servers</key>
        <value>#{kafka_broker}</value>
    </entry>
    <entry>
        <key>topic</key>
        <value>#{kafka_failed_topic}</value>
    </entry>
    <entry>
        <key>use-transactions</key>
        <value>false</value>
    </entry>
    <entry>
        <key>transactional-id-prefix</key>
        <value>trans</value>
    </entry>
    <entry>
        <key>message-demarcator</key>
    </entry>
    <entry>
        <key>Failure Strategy</key>
        <value>Route to Failure</value>
    </entry>
    <entry>
        <key>acks</key>
        <value>all</value>
    </entry>
    <entry>
        <key>attribute-name-regex</key>
    </entry>
    <entry>
        <key>message-header-encoding</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>security.protocol</key>
        <value>PLAINTEXT</value>
    </entry>
    <entry>
        <key>sasl.mechanism</key>
        <value>GSSAPI</value>
    </entry>
    <entry>
        <key>kerberos-credentials-service</key>
    </entry>
    <entry>
        <key>kerberos-user-service</key>
    </entry>
    <entry>
        <key>sasl.kerberos.service.name</key>
    </entry>
    <entry>
        <key>sasl.kerberos.principal</key>
    </entry>
    <entry>
        <key>sasl.kerberos.keytab</key>
    </entry>
    <entry>
        <key>sasl.username</key>
    </entry>
    <entry>
        <key>sasl.password</key>
    </entry>
    <entry>
        <key>aws.profile.name</key>
    </entry>
    <entry>
        <key>sasl.token.auth</key>
        <value>false</value>
    </entry>
    <entry>
        <key>ssl.context.service</key>
    </entry>
    <entry>
        <key>kafka-key</key>
    </entry>
    <entry>
        <key>key-attribute-encoding</key>
        <value>utf-8</value>
    </entry>
    <entry>
        <key>max.request.size</key>
        <value>1 MB</value>
    </entry>
    <entry>
        <key>ack.wait.time</key>
        <value>30 secs</value>
    </entry>
    <entry>
        <key>max.block.ms</key>
        <value>30 sec</value>
    </entry>
    <entry>
        <key>partitioner.class</key>
        <value>org.apache.kafka.clients.producer.internals.DefaultPartitioner</value>
    </entry>
    <entry>
        <key>partition</key>
        <value>0</value>
    </entry>
    <entry>
        <key>compression.type</key>
        <value>gzip</value>
    </entry>
</properties>
<retryCount>10</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>FailedPublishKafka</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6</type>
                        </processors>
                    </contents>
                    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                    <logFileSuffix></logFileSuffix>
                    <name>Failure logging and publishing</name>
                    <variables/>
                </processGroups>
                <processGroups>
                    <id>facd6c3f-6d37-3efc-0000-000000000000</id>
                    <parentGroupId>7e5f32d7-88e1-3276-0000-000000000000</parentGroupId>
                    <position>
                        <x>984.0</x>
                        <y>8.0</y>
                    </position>
                    <versionedComponentId>f97ecf7f-a628-3cc7-9e46-da4dc0e01e71</versionedComponentId>
                    <comments></comments>
                    <contents>
                        <connections>
                            <id>8704eaee-6ede-357e-0000-000000000000</id>
                            <parentGroupId>facd6c3f-6d37-3efc-0000-000000000000</parentGroupId>
                            <versionedComponentId>8704eaee-6ede-357e-b0af-0de4696b4c4a</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
<id>e0fa613b-87fa-3bbe-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>c5dd8283-bcf2-3fb8-9be7-d43b449f26d4</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>facd6c3f-6d37-3efc-0000-000000000000</groupId>
<id>564212c9-ee43-386b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>03a16738-c521-3d30-9fb1-b37cc924880d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>95e79660-6837-3b80-0000-000000000000</id>
                            <parentGroupId>facd6c3f-6d37-3efc-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>839d9d6b-9c0d-3cd6-0000-000000000000</groupId>
<id>f8551293-f9ca-372f-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>facd6c3f-6d37-3efc-0000-000000000000</groupId>
<id>564212c9-ee43-386b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>03a16738-c521-3d30-9fb1-b37cc924880d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>9764af02-9e99-3681-0000-000000000000</id>
                            <parentGroupId>facd6c3f-6d37-3efc-0000-000000000000</parentGroupId>
                            <versionedComponentId>1a571652-da68-3004-898c-ee96b3aae4bd</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
<id>0cee8d1e-0d07-3e30-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>0f63fa69-7c0d-36a1-b982-521a0ab47bf5</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>ba384dd4-42ab-3c9f-0000-000000000000</groupId>
<id>2c355d30-5121-334f-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>1834958d-5cce-3162-8866-c81b1f9f9812</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c15fc68d-73ac-3677-0000-000000000000</id>
                            <parentGroupId>facd6c3f-6d37-3efc-0000-000000000000</parentGroupId>
                            <versionedComponentId>439bad78-ac4f-341e-911c-0b21ff4d51f4</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>ba384dd4-42ab-3c9f-0000-000000000000</groupId>
<id>2a186d44-6a5a-308c-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>56b07d89-e60d-3ef5-8098-76eb32226c95</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>f4675caf-377f-341d-0000-000000000000</groupId>
<id>7b8b23ae-1092-3f1d-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>62debb22-d2bf-3031-be70-58d5d18f5ff6</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>df4ccd8a-8aa5-3253-0000-000000000000</id>
                            <parentGroupId>facd6c3f-6d37-3efc-0000-000000000000</parentGroupId>
                            <versionedComponentId>df4ccd8a-8aa5-3253-a69f-a58028654add</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>f4675caf-377f-341d-0000-000000000000</groupId>
<id>23f17e51-dcdf-366f-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>77a5804d-befc-3101-aa67-a1c01fc79064</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
<id>8eec1307-b80c-3156-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>7ff4f782-d13a-35dc-abf6-4c198153a3e1</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f4211c3a-9faf-3356-0000-000000000000</id>
                            <parentGroupId>facd6c3f-6d37-3efc-0000-000000000000</parentGroupId>
                            <versionedComponentId>c7f3b33d-14ff-3821-b377-001678dbdc86</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>facd6c3f-6d37-3efc-0000-000000000000</groupId>
<id>564212c9-ee43-386b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>03a16738-c521-3d30-9fb1-b37cc924880d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>facd6c3f-6d37-3efc-0000-000000000000</groupId>
<id>c71fe618-32ea-3c4a-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>aa73eb5e-6a7a-3011-bbaa-7337204bc6b7</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <inputPorts>
                            <id>c71fe618-32ea-3c4a-0000-000000000000</id>
                            <parentGroupId>facd6c3f-6d37-3efc-0000-000000000000</parentGroupId>
                            <position>
<x>720.0</x>
<y>-488.0</y>
                            </position>
                            <versionedComponentId>aa73eb5e-6a7a-3011-bbaa-7337204bc6b7</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>Product creation</name>
                            <state>STOPPED</state>
                            <type>INPUT_PORT</type>
                        </inputPorts>
                        <processGroups>
                            <id>004a96b2-ed21-3423-0000-000000000000</id>
                            <parentGroupId>facd6c3f-6d37-3efc-0000-000000000000</parentGroupId>
                            <position>
<x>648.0</x>
<y>744.0</y>
                            </position>
                            <versionedComponentId>37720b44-504b-35b1-8770-6ea3f950095c</versionedComponentId>
                            <comments></comments>
                            <contents>
<connections>
    <id>0010bd9d-7adb-3d16-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <versionedComponentId>0010bd9d-7adb-3d16-9ea0-0c306a98ef1e</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>e82f07a5-6442-36c3-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>e82f07a5-6442-36c3-b2af-6dd6d215d692</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>cc432afa-7605-33f8-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>cc432afa-7605-33f8-b2f0-25cb69face1f</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>01598e1b-66eb-3e8a-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>cb264aed-f1c7-3667-0000-000000000000</groupId>
        <id>f8f9eded-3451-3d23-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>Failure</selectedRelationships>
    <selectedRelationships>No Retry</selectedRelationships>
    <source>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>e82f07a5-6442-36c3-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>e82f07a5-6442-36c3-b2af-6dd6d215d692</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>0f502829-33a8-31b8-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <versionedComponentId>0f502829-33a8-31b8-9934-ba6a8f9cd7ac</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>cc432afa-7605-33f8-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>cc432afa-7605-33f8-b2f0-25cb69face1f</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>Original</selectedRelationships>
    <selectedRelationships>Response</selectedRelationships>
    <source>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>f0b4c201-61f0-3ea5-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>50555b8a-91d1-3f4b-b967-ae3a03c5c651</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>3c1da349-8e2f-38ca-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <versionedComponentId>3c1da349-8e2f-38ca-86e5-398b3399288a</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>456.0</x>
        <y>280.0</y>
    </bends>
    <destination>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>ab172f44-a570-3c78-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>2c39670f-0a8b-3b79-b679-d23857d3fe74</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>Retry</selectedRelationships>
    <source>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>f0b4c201-61f0-3ea5-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>50555b8a-91d1-3f4b-b967-ae3a03c5c651</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>520b3052-92cb-3dfb-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>dfbb52dd-d071-3f05-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>retries_exceeded</selectedRelationships>
    <source>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>ab172f44-a570-3c78-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>2c39670f-0a8b-3b79-b679-d23857d3fe74</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>61ce2938-933c-3d03-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>546a72af-69ae-3e4c-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>529f4732-3cd8-307f-a499-71ad735edddf</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>dfbb52dd-d071-3f05-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>6ad58dac-3568-38c7-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <versionedComponentId>5e7fbcb4-ba82-3b9c-9030-5af193437792</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>f0b4c201-61f0-3ea5-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>50555b8a-91d1-3f4b-b967-ae3a03c5c651</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>0cee8d1e-0d07-3e30-0000-000000000000</id>
        <type>INPUT_PORT</type>
        <versionedComponentId>0f63fa69-7c0d-36a1-b982-521a0ab47bf5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>6f032337-4311-36da-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>de6aa7fe-f49f-3903-0000-000000000000</groupId>
        <id>3bada571-52d8-3b84-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <source>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>8be16c72-12ca-3ac4-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>8556cb90-32da-3c16-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>de6aa7fe-f49f-3903-0000-000000000000</groupId>
        <id>3bada571-52d8-3b84-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <source>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>cc432afa-7605-33f8-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>cc432afa-7605-33f8-b2f0-25cb69face1f</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>85b6ea2b-653a-3604-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>de6aa7fe-f49f-3903-0000-000000000000</groupId>
        <id>3bada571-52d8-3b84-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <source>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>546a72af-69ae-3e4c-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>529f4732-3cd8-307f-a499-71ad735edddf</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>9f60f611-b83f-347c-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>8be16c72-12ca-3ac4-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>51259ed1-43af-3a01-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>9ff2a1b7-a18a-37be-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>f0b4c201-61f0-3ea5-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>50555b8a-91d1-3f4b-b967-ae3a03c5c651</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>retry</selectedRelationships>
    <source>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>ab172f44-a570-3c78-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>2c39670f-0a8b-3b79-b679-d23857d3fe74</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>a4edad0c-6127-3b12-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>51259ed1-43af-3a01-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>retries_exceeded</selectedRelationships>
    <source>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>0d31d823-e6bd-3fc6-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>a98419fe-3d17-3291-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <versionedComponentId>a98419fe-3d17-3291-a06c-01ad18269270</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>801bef4b-a9aa-33a7-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>801bef4b-a9aa-33a7-84f0-88abb392057e</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>Response</selectedRelationships>
    <source>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>e82f07a5-6442-36c3-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>e82f07a5-6442-36c3-b2af-6dd6d215d692</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>bd86a4b5-a80a-30d1-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>cb264aed-f1c7-3667-0000-000000000000</groupId>
        <id>f8f9eded-3451-3d23-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>Failure</selectedRelationships>
    <selectedRelationships>No Retry</selectedRelationships>
    <source>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>f0b4c201-61f0-3ea5-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>50555b8a-91d1-3f4b-b967-ae3a03c5c651</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>cf4afd98-0a04-3e46-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>e82f07a5-6442-36c3-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>e82f07a5-6442-36c3-b2af-6dd6d215d692</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>0</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>retry</selectedRelationships>
    <source>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>0d31d823-e6bd-3fc6-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>f6ac5bef-1ffe-3b81-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>464.0</x>
        <y>776.0</y>
    </bends>
    <destination>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>0d31d823-e6bd-3fc6-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>Retry</selectedRelationships>
    <source>
        <groupId>004a96b2-ed21-3423-0000-000000000000</groupId>
        <id>e82f07a5-6442-36c3-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>e82f07a5-6442-36c3-b2af-6dd6d215d692</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>0cee8d1e-0d07-3e30-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <position>
        <x>648.0</x>
        <y>184.0</y>
    </position>
    <versionedComponentId>0f63fa69-7c0d-36a1-b982-521a0ab47bf5</versionedComponentId>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>Product creation </name>
    <state>STOPPED</state>
    <type>INPUT_PORT</type>
</inputPorts>
<processGroups>
    <id>cb264aed-f1c7-3667-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <position>
        <x>1184.0</x>
        <y>488.0</y>
    </position>
    <comments></comments>
    <contents>
        <connections>
            <id>379d98d6-61b5-3f86-0000-000000000000</id>
            <parentGroupId>cb264aed-f1c7-3667-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>cb264aed-f1c7-3667-0000-000000000000</groupId>
                <id>a198b67e-496d-3759-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>cb264aed-f1c7-3667-0000-000000000000</groupId>
                <id>c8a11c96-7c82-3b96-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>45867e10-2d4a-39e8-0000-000000000000</id>
            <parentGroupId>cb264aed-f1c7-3667-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>cb264aed-f1c7-3667-0000-000000000000</groupId>
                <id>c8a11c96-7c82-3b96-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>cb264aed-f1c7-3667-0000-000000000000</groupId>
                <id>f8f9eded-3451-3d23-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>6f33302f-7003-3335-0000-000000000000</id>
            <parentGroupId>cb264aed-f1c7-3667-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>cb264aed-f1c7-3667-0000-000000000000</groupId>
                <id>a198b67e-496d-3759-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>cb264aed-f1c7-3667-0000-000000000000</groupId>
                <id>01a163cb-6c0e-3b47-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>832f9064-cad6-3a56-0000-000000000000</id>
            <parentGroupId>cb264aed-f1c7-3667-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>cb264aed-f1c7-3667-0000-000000000000</groupId>
                <id>a198b67e-496d-3759-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>cb264aed-f1c7-3667-0000-000000000000</groupId>
                <id>92580bfd-0ff4-3b77-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>e5f96901-76bf-35fb-0000-000000000000</id>
            <parentGroupId>cb264aed-f1c7-3667-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>cb264aed-f1c7-3667-0000-000000000000</groupId>
                <id>01a163cb-6c0e-3b47-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>cb264aed-f1c7-3667-0000-000000000000</groupId>
                <id>f8f9eded-3451-3d23-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>fa6547f0-6094-3875-0000-000000000000</id>
            <parentGroupId>cb264aed-f1c7-3667-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>cb264aed-f1c7-3667-0000-000000000000</groupId>
                <id>92580bfd-0ff4-3b77-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>success</selectedRelationships>
            <source>
                <groupId>cb264aed-f1c7-3667-0000-000000000000</groupId>
                <id>c8a11c96-7c82-3b96-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <inputPorts>
            <id>f8f9eded-3451-3d23-0000-000000000000</id>
            <parentGroupId>cb264aed-f1c7-3667-0000-000000000000</parentGroupId>
            <position>
                <x>296.0</x>
                <y>-200.0</y>
            </position>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <name>failure</name>
            <state>STOPPED</state>
            <type>INPUT_PORT</type>
        </inputPorts>
        <processors>
            <id>01a163cb-6c0e-3b47-0000-000000000000</id>
            <parentGroupId>cb264aed-f1c7-3667-0000-000000000000</parentGroupId>
            <position>
                <x>16.0</x>
                <y>-72.0</y>
            </position>
            <bundle>
                <artifact>nifi-kafka-2-6-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>
                            <name>bootstrap.servers</name>
                        </value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>
                            <name>topic</name>
                        </value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>
                            <name>use-transactions</name>
                        </value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>
                            <dependencies>
<dependentValues>true</dependentValues>
<propertyName>use-transactions</propertyName>
                            </dependencies>
                            <name>transactional-id-prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                        <value>
                            <name>message-demarcator</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>
                            <name>Failure Strategy</name>
                        </value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>
                            <name>acks</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                        <value>
                            <name>attribute-name-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>
                            <name>message-header-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>
                            <name>security.protocol</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>
                            <name>sasl.mechanism</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.KerberosCredentialsService</identifiesControllerService>
                            <name>kerberos-credentials-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.SelfContainedKerberosUserService</identifiesControllerService>
                            <name>kerberos-user-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                        <value>
                            <name>sasl.kerberos.service.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                        <value>
                            <name>sasl.kerberos.principal</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                        <value>
                            <name>sasl.kerberos.keytab</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.username</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.password</name>
                        </value>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                        <value>
                            <dependencies>
<dependentValues>AWS_MSK_IAM</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>aws.profile.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>
                            <dependencies>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.token.auth</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                            <name>ssl.context.service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                        <value>
                            <name>kafka-key</name>
                        </value>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>
                            <name>key-attribute-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>
                            <name>max.request.size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>
                            <name>ack.wait.time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>
                            <name>max.block.ms</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>
                            <name>partitioner.class</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>
                            <name>partition</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>
                            <name>compression.type</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>#{kafka_broker}</value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>#{kafka_failed_topic}</value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>trans</value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>Route to Failure</value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>all</value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>UTF-8</value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>PLAINTEXT</value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>GSSAPI</value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>utf-8</value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>1 MB</value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>30 secs</value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>30 sec</value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>org.apache.kafka.clients.producer.internals.DefaultPartitioner</value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>gzip</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>FailedPublishKafka</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6</type>
        </processors>
        <processors>
            <id>92580bfd-0ff4-3b77-0000-000000000000</id>
            <parentGroupId>cb264aed-f1c7-3667-0000-000000000000</parentGroupId>
            <position>
                <x>720.0</x>
                <y>208.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.dbcp.DBCPService</identifiesControllerService>
                            <name>Database Connection Pooling Service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                        <value>
                            <name>sql-pre-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>
                            <name>SQL select query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                        <value>
                            <name>sql-post-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>
                            <name>Max Wait Time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>
                            <name>dbf-normalize</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>
                            <name>dbf-user-logical-types</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>
                            <name>compression-format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>
                            <name>dbf-default-precision</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>
                            <name>dbf-default-scale</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>
                            <name>esql-max-rows</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>
                            <name>esql-output-batch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>
                            <name>esql-fetch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>
                            <name>esql-auto-commit</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>480b2bf7-beb4-30ac-0000-000000000000</value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>UPDATE file_processing_log SET updated_at = '${now():format("yyyy-MM-dd HH:mm:ss")}', updated_by = 'nifi', status = '${status}', error_message ='${invokehttp.status.message}' WHERE order_no = '${orderNumber}' AND application = 'ejje-nebula-forward-order-creation';</value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>0 seconds</value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>NONE</value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>10</value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>true</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>ExecuteSQL</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.ExecuteSQL</type>
        </processors>
        <processors>
            <id>a198b67e-496d-3759-0000-000000000000</id>
            <parentGroupId>cb264aed-f1c7-3667-0000-000000000000</parentGroupId>
            <position>
                <x>16.0</x>
                <y>192.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Log Level</key>
                        <value>
                            <name>Log Level</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>
                            <name>Log Payload</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                        <value>
                            <name>Attributes to Log</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>
                            <name>attributes-to-log-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                        <value>
                            <name>Attributes to Ignore</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                        <value>
                            <name>attributes-to-ignore-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>
                            <name>Log FlowFile Properties</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>
                            <name>Output Format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                        <value>
                            <name>Log prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>
                            <name>character-set</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Log Level</key>
                        <value>info</value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>.*</value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>true</value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>Line per Attribute</value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>UTF-8</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>25</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>LogAttribute</name>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.LogAttribute</type>
        </processors>
        <processors>
            <id>c8a11c96-7c82-3b96-0000-000000000000</id>
            <parentGroupId>cb264aed-f1c7-3667-0000-000000000000</parentGroupId>
            <position>
                <x>720.0</x>
                <y>-72.0</y>
            </position>
            <bundle>
                <artifact>nifi-scripting-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Script Engine</key>
                        <value>
                            <name>Script Engine</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Script File</key>
                        <value>
                            <name>Script File</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Script Body</key>
                        <value>
                            <name>Script Body</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Module Directory</key>
                        <value>
                            <name>Module Directory</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Script Engine</key>
                        <value>Groovy</value>
                    </entry>
                    <entry>
                        <key>Script File</key>
                    </entry>
                    <entry>
                        <key>Script Body</key>
                        <value>import org.apache.nifi.processor.io.StreamCallback
import org.apache.commons.io.IOUtils
import java.nio.charset.StandardCharsets

flowFile = session.get()
if (!flowFile) return

def statusCode = flowFile.getAttribute('invokehttp.status.code')

if (statusCode == '200') {
    flowFile = session.putAttribute(flowFile, 'status', 'Success')
} else if (statusCode.startsWith('4')) {
    flowFile = session.putAttribute(flowFile, 'status', 'Failure')
} else if (statusCode.startsWith('5')) {
    flowFile = session.putAttribute(flowFile, 'status', 'Retry')
} else {
    flowFile = session.putAttribute(flowFile, 'status', 'Unknown')
}

session.transfer(flowFile, REL_SUCCESS)</value>
                    </entry>
                    <entry>
                        <key>Module Directory</key>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>ExecuteScript</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.script.ExecuteScript</type>
        </processors>
    </contents>
    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
    <logFileSuffix></logFileSuffix>
    <name>Failure logging and publishing-invokehttp</name>
    <variables/>
</processGroups>
<processGroups>
    <id>de6aa7fe-f49f-3903-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <position>
        <x>-864.0</x>
        <y>496.0</y>
    </position>
    <comments></comments>
    <contents>
        <connections>
            <id>0537e2ad-e6ed-377d-0000-000000000000</id>
            <parentGroupId>de6aa7fe-f49f-3903-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>de6aa7fe-f49f-3903-0000-000000000000</groupId>
                <id>dcfd92fd-1d95-3720-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>de6aa7fe-f49f-3903-0000-000000000000</groupId>
                <id>1005c001-e32f-34ff-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>6a5c4899-73b1-3cb6-0000-000000000000</id>
            <parentGroupId>de6aa7fe-f49f-3903-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>de6aa7fe-f49f-3903-0000-000000000000</groupId>
                <id>1005c001-e32f-34ff-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>de6aa7fe-f49f-3903-0000-000000000000</groupId>
                <id>3bada571-52d8-3b84-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>6dffcb60-21c7-3909-0000-000000000000</id>
            <parentGroupId>de6aa7fe-f49f-3903-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>de6aa7fe-f49f-3903-0000-000000000000</groupId>
                <id>dcfd92fd-1d95-3720-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>de6aa7fe-f49f-3903-0000-000000000000</groupId>
                <id>75082813-6aaa-38e4-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>940be4d0-e9f7-31cf-0000-000000000000</id>
            <parentGroupId>de6aa7fe-f49f-3903-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>de6aa7fe-f49f-3903-0000-000000000000</groupId>
                <id>75082813-6aaa-38e4-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>de6aa7fe-f49f-3903-0000-000000000000</groupId>
                <id>3bada571-52d8-3b84-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <inputPorts>
            <id>3bada571-52d8-3b84-0000-000000000000</id>
            <parentGroupId>de6aa7fe-f49f-3903-0000-000000000000</parentGroupId>
            <position>
                <x>368.0</x>
                <y>-192.0</y>
            </position>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <name>failure</name>
            <state>STOPPED</state>
            <type>INPUT_PORT</type>
        </inputPorts>
        <processors>
            <id>1005c001-e32f-34ff-0000-000000000000</id>
            <parentGroupId>de6aa7fe-f49f-3903-0000-000000000000</parentGroupId>
            <position>
                <x>640.0</x>
                <y>-64.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.dbcp.DBCPService</identifiesControllerService>
                            <name>Database Connection Pooling Service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                        <value>
                            <name>sql-pre-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>
                            <name>SQL select query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                        <value>
                            <name>sql-post-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>
                            <name>Max Wait Time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>
                            <name>dbf-normalize</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>
                            <name>dbf-user-logical-types</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>
                            <name>compression-format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>
                            <name>dbf-default-precision</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>
                            <name>dbf-default-scale</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>
                            <name>esql-max-rows</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>
                            <name>esql-output-batch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>
                            <name>esql-fetch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>
                            <name>esql-auto-commit</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>480b2bf7-beb4-30ac-0000-000000000000</value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>UPDATE file_processing_log SET updated_at = '${now():format("yyyy-MM-dd HH:mm:ss")}', updated_by = 'nifi', status = '${status}', error_message ='${invokehttp.status.message}' WHERE order_no = '${orderNumber}' AND application = 'ejje-nebula-forward-order-creation';</value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>0 seconds</value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>NONE</value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>10</value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>true</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>ExecuteSQL</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.ExecuteSQL</type>
        </processors>
        <processors>
            <id>75082813-6aaa-38e4-0000-000000000000</id>
            <parentGroupId>de6aa7fe-f49f-3903-0000-000000000000</parentGroupId>
            <position>
                <x>16.0</x>
                <y>-72.0</y>
            </position>
            <bundle>
                <artifact>nifi-kafka-2-6-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>
                            <name>bootstrap.servers</name>
                        </value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>
                            <name>topic</name>
                        </value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>
                            <name>use-transactions</name>
                        </value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>
                            <dependencies>
<dependentValues>true</dependentValues>
<propertyName>use-transactions</propertyName>
                            </dependencies>
                            <name>transactional-id-prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                        <value>
                            <name>message-demarcator</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>
                            <name>Failure Strategy</name>
                        </value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>
                            <name>acks</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                        <value>
                            <name>attribute-name-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>
                            <name>message-header-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>
                            <name>security.protocol</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>
                            <name>sasl.mechanism</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.KerberosCredentialsService</identifiesControllerService>
                            <name>kerberos-credentials-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.SelfContainedKerberosUserService</identifiesControllerService>
                            <name>kerberos-user-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                        <value>
                            <name>sasl.kerberos.service.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                        <value>
                            <name>sasl.kerberos.principal</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                        <value>
                            <name>sasl.kerberos.keytab</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.username</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.password</name>
                        </value>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                        <value>
                            <dependencies>
<dependentValues>AWS_MSK_IAM</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>aws.profile.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>
                            <dependencies>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.token.auth</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                            <name>ssl.context.service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                        <value>
                            <name>kafka-key</name>
                        </value>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>
                            <name>key-attribute-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>
                            <name>max.request.size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>
                            <name>ack.wait.time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>
                            <name>max.block.ms</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>
                            <name>partitioner.class</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>
                            <name>partition</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>
                            <name>compression.type</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>#{kafka_broker}</value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>#{kafka_failed_topic}</value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>trans</value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>Route to Failure</value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>all</value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>UTF-8</value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>PLAINTEXT</value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>GSSAPI</value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>utf-8</value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>1 MB</value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>30 secs</value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>30 sec</value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>org.apache.kafka.clients.producer.internals.DefaultPartitioner</value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>gzip</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>FailedPublishKafka</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6</type>
        </processors>
        <processors>
            <id>dcfd92fd-1d95-3720-0000-000000000000</id>
            <parentGroupId>de6aa7fe-f49f-3903-0000-000000000000</parentGroupId>
            <position>
                <x>288.0</x>
                <y>168.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Log Level</key>
                        <value>
                            <name>Log Level</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>
                            <name>Log Payload</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                        <value>
                            <name>Attributes to Log</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>
                            <name>attributes-to-log-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                        <value>
                            <name>Attributes to Ignore</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                        <value>
                            <name>attributes-to-ignore-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>
                            <name>Log FlowFile Properties</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>
                            <name>Output Format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                        <value>
                            <name>Log prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>
                            <name>character-set</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Log Level</key>
                        <value>info</value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>.*</value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>true</value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>Line per Attribute</value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>UTF-8</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>25</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>LogAttribute</name>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.LogAttribute</type>
        </processors>
    </contents>
    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
    <logFileSuffix></logFileSuffix>
    <name>Failure logging and publishing</name>
    <variables/>
</processGroups>
<processors>
    <id>0d31d823-e6bd-3fc6-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <position>
        <x>-24.0</x>
        <y>776.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>retry-attribute</key>
                <value>
                    <name>retry-attribute</name>
                </value>
            </entry>
            <entry>
                <key>maximum-retries</key>
                <value>
                    <name>maximum-retries</name>
                </value>
            </entry>
            <entry>
                <key>penalize-retries</key>
                <value>
                    <name>penalize-retries</name>
                </value>
            </entry>
            <entry>
                <key>Fail on Non-numerical Overwrite</key>
                <value>
                    <name>Fail on Non-numerical Overwrite</name>
                </value>
            </entry>
            <entry>
                <key>reuse-mode</key>
                <value>
                    <name>reuse-mode</name>
                </value>
            </entry>
            <entry>
                <key>Retry Interval</key>
                <value>
                    <name>Retry Interval</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>retry-attribute</key>
                <value>flowfile.retries</value>
            </entry>
            <entry>
                <key>maximum-retries</key>
                <value>3</value>
            </entry>
            <entry>
                <key>penalize-retries</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Fail on Non-numerical Overwrite</key>
                <value>false</value>
            </entry>
            <entry>
                <key>reuse-mode</key>
                <value>fail</value>
            </entry>
            <entry>
                <key>Retry Interval</key>
                <value>50000ms</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>RetryFlowFile</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>retries_exceeded</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>retry</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.RetryFlowFile</type>
</processors>
<processors>
    <id>51259ed1-43af-3a01-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <position>
        <x>-416.0</x>
        <y>776.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>filename</key>
                <value>
                    <name>filename</name>
                </value>
            </entry>
            <entry>
                <key>mime.type</key>
                <value>
                    <name>mime.type</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>filename</key>
                <value>${articleId} - ChannelUpdateFailure</value>
            </entry>
            <entry>
                <key>mime.type</key>
                <value>application/json; charset=utf-8</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>25</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>546a72af-69ae-3e4c-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <position>
        <x>-848.0</x>
        <y>280.0</y>
    </position>
    <versionedComponentId>529f4732-3cd8-307f-a499-71ad735edddf</versionedComponentId>
    <bundle>
        <artifact>nifi-aws-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Queue URL</key>
                <value>
                    <name>Queue URL</name>
                </value>
            </entry>
            <entry>
                <key>Access Key</key>
                <value>
                    <name>Access Key</name>
                </value>
            </entry>
            <entry>
                <key>Secret Key</key>
                <value>
                    <name>Secret Key</name>
                </value>
            </entry>
            <entry>
                <key>Credentials File</key>
                <value>
                    <name>Credentials File</name>
                </value>
            </entry>
            <entry>
                <key>AWS Credentials Provider service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderService</identifiesControllerService>
                    <name>AWS Credentials Provider service</name>
                </value>
            </entry>
            <entry>
                <key>SSL Context Service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                    <name>SSL Context Service</name>
                </value>
            </entry>
            <entry>
                <key>Region</key>
                <value>
                    <name>Region</name>
                </value>
            </entry>
            <entry>
                <key>Delay</key>
                <value>
                    <name>Delay</name>
                </value>
            </entry>
            <entry>
                <key>Communications Timeout</key>
                <value>
                    <name>Communications Timeout</name>
                </value>
            </entry>
            <entry>
                <key>Endpoint Override URL</key>
                <value>
                    <name>Endpoint Override URL</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Host</key>
                <value>
                    <name>Proxy Host</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Host Port</key>
                <value>
                    <name>Proxy Host Port</name>
                </value>
            </entry>
            <entry>
                <key>proxy-user-name</key>
                <value>
                    <name>proxy-user-name</name>
                </value>
            </entry>
            <entry>
                <key>proxy-user-password</key>
                <value>
                    <name>proxy-user-password</name>
                </value>
            </entry>
            <entry>
                <key>message-group-id</key>
                <value>
                    <name>message-group-id</name>
                </value>
            </entry>
            <entry>
                <key>deduplication-message-id</key>
                <value>
                    <name>deduplication-message-id</name>
                </value>
            </entry>
            <entry>
                <key>businessGroupId</key>
                <value>
                    <name>businessGroupId</name>
                </value>
            </entry>
            <entry>
                <key>entityType</key>
                <value>
                    <name>entityType</name>
                </value>
            </entry>
            <entry>
                <key>eventType</key>
                <value>
                    <name>eventType</name>
                </value>
            </entry>
            <entry>
                <key>tenantId</key>
                <value>
                    <name>tenantId</name>
                </value>
            </entry>
            <entry>
                <key>traceId</key>
                <value>
                    <name>traceId</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Queue URL</key>
                <value>#{sqs_url}</value>
            </entry>
            <entry>
                <key>Access Key</key>
            </entry>
            <entry>
                <key>Secret Key</key>
            </entry>
            <entry>
                <key>Credentials File</key>
            </entry>
            <entry>
                <key>AWS Credentials Provider service</key>
            </entry>
            <entry>
                <key>SSL Context Service</key>
            </entry>
            <entry>
                <key>Region</key>
                <value>us-west-2</value>
            </entry>
            <entry>
                <key>Delay</key>
                <value>0 secs</value>
            </entry>
            <entry>
                <key>Communications Timeout</key>
                <value>30 secs</value>
            </entry>
            <entry>
                <key>Endpoint Override URL</key>
            </entry>
            <entry>
                <key>Proxy Host</key>
            </entry>
            <entry>
                <key>Proxy Host Port</key>
            </entry>
            <entry>
                <key>proxy-user-name</key>
            </entry>
            <entry>
                <key>proxy-user-password</key>
            </entry>
            <entry>
                <key>message-group-id</key>
                <value>test</value>
            </entry>
            <entry>
                <key>deduplication-message-id</key>
                <value>${UUID()}</value>
            </entry>
            <entry>
                <key>businessGroupId</key>
                <value>${businessGroupId}</value>
            </entry>
            <entry>
                <key>entityType</key>
                <value>${entityType}</value>
            </entry>
            <entry>
                <key>eventType</key>
                <value>${eventType}</value>
            </entry>
            <entry>
                <key>tenantId</key>
                <value>${tenantId}</value>
            </entry>
            <entry>
                <key>traceId</key>
                <value>${traceId}</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>PutSQS</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.aws.sqs.PutSQS</type>
</processors>
<processors>
    <id>801bef4b-a9aa-33a7-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <position>
        <x>592.0</x>
        <y>1024.0</y>
    </position>
    <versionedComponentId>801bef4b-a9aa-33a7-84f0-88abb392057e</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Log Level</key>
                <value>
                    <name>Log Level</name>
                </value>
            </entry>
            <entry>
                <key>Log Payload</key>
                <value>
                    <name>Log Payload</name>
                </value>
            </entry>
            <entry>
                <key>Attributes to Log</key>
                <value>
                    <name>Attributes to Log</name>
                </value>
            </entry>
            <entry>
                <key>attributes-to-log-regex</key>
                <value>
                    <name>attributes-to-log-regex</name>
                </value>
            </entry>
            <entry>
                <key>Attributes to Ignore</key>
                <value>
                    <name>Attributes to Ignore</name>
                </value>
            </entry>
            <entry>
                <key>attributes-to-ignore-regex</key>
                <value>
                    <name>attributes-to-ignore-regex</name>
                </value>
            </entry>
            <entry>
                <key>Log FlowFile Properties</key>
                <value>
                    <name>Log FlowFile Properties</name>
                </value>
            </entry>
            <entry>
                <key>Output Format</key>
                <value>
                    <name>Output Format</name>
                </value>
            </entry>
            <entry>
                <key>Log prefix</key>
                <value>
                    <name>Log prefix</name>
                </value>
            </entry>
            <entry>
                <key>character-set</key>
                <value>
                    <name>character-set</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Log Level</key>
                <value>info</value>
            </entry>
            <entry>
                <key>Log Payload</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Attributes to Log</key>
            </entry>
            <entry>
                <key>attributes-to-log-regex</key>
                <value>.*</value>
            </entry>
            <entry>
                <key>Attributes to Ignore</key>
            </entry>
            <entry>
                <key>attributes-to-ignore-regex</key>
            </entry>
            <entry>
                <key>Log FlowFile Properties</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Output Format</key>
                <value>Line per Attribute</value>
            </entry>
            <entry>
                <key>Log prefix</key>
            </entry>
            <entry>
                <key>character-set</key>
                <value>UTF-8</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>25</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>LogAttribute</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogAttribute</type>
</processors>
<processors>
    <id>8be16c72-12ca-3ac4-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <position>
        <x>-848.0</x>
        <y>776.0</y>
    </position>
    <bundle>
        <artifact>nifi-aws-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Queue URL</key>
                <value>
                    <name>Queue URL</name>
                </value>
            </entry>
            <entry>
                <key>Access Key</key>
                <value>
                    <name>Access Key</name>
                </value>
            </entry>
            <entry>
                <key>Secret Key</key>
                <value>
                    <name>Secret Key</name>
                </value>
            </entry>
            <entry>
                <key>Credentials File</key>
                <value>
                    <name>Credentials File</name>
                </value>
            </entry>
            <entry>
                <key>AWS Credentials Provider service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderService</identifiesControllerService>
                    <name>AWS Credentials Provider service</name>
                </value>
            </entry>
            <entry>
                <key>SSL Context Service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                    <name>SSL Context Service</name>
                </value>
            </entry>
            <entry>
                <key>Region</key>
                <value>
                    <name>Region</name>
                </value>
            </entry>
            <entry>
                <key>Delay</key>
                <value>
                    <name>Delay</name>
                </value>
            </entry>
            <entry>
                <key>Communications Timeout</key>
                <value>
                    <name>Communications Timeout</name>
                </value>
            </entry>
            <entry>
                <key>Endpoint Override URL</key>
                <value>
                    <name>Endpoint Override URL</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Host</key>
                <value>
                    <name>Proxy Host</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Host Port</key>
                <value>
                    <name>Proxy Host Port</name>
                </value>
            </entry>
            <entry>
                <key>proxy-user-name</key>
                <value>
                    <name>proxy-user-name</name>
                </value>
            </entry>
            <entry>
                <key>proxy-user-password</key>
                <value>
                    <name>proxy-user-password</name>
                </value>
            </entry>
            <entry>
                <key>message-group-id</key>
                <value>
                    <name>message-group-id</name>
                </value>
            </entry>
            <entry>
                <key>deduplication-message-id</key>
                <value>
                    <name>deduplication-message-id</name>
                </value>
            </entry>
            <entry>
                <key>businessGroupId</key>
                <value>
                    <name>businessGroupId</name>
                </value>
            </entry>
            <entry>
                <key>entityType</key>
                <value>
                    <name>entityType</name>
                </value>
            </entry>
            <entry>
                <key>eventType</key>
                <value>
                    <name>eventType</name>
                </value>
            </entry>
            <entry>
                <key>tenantId</key>
                <value>
                    <name>tenantId</name>
                </value>
            </entry>
            <entry>
                <key>traceId</key>
                <value>
                    <name>traceId</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Queue URL</key>
                <value>#{sqs_url}</value>
            </entry>
            <entry>
                <key>Access Key</key>
            </entry>
            <entry>
                <key>Secret Key</key>
            </entry>
            <entry>
                <key>Credentials File</key>
            </entry>
            <entry>
                <key>AWS Credentials Provider service</key>
            </entry>
            <entry>
                <key>SSL Context Service</key>
            </entry>
            <entry>
                <key>Region</key>
                <value>us-west-2</value>
            </entry>
            <entry>
                <key>Delay</key>
                <value>0 secs</value>
            </entry>
            <entry>
                <key>Communications Timeout</key>
                <value>30 secs</value>
            </entry>
            <entry>
                <key>Endpoint Override URL</key>
            </entry>
            <entry>
                <key>Proxy Host</key>
            </entry>
            <entry>
                <key>Proxy Host Port</key>
            </entry>
            <entry>
                <key>proxy-user-name</key>
            </entry>
            <entry>
                <key>proxy-user-password</key>
            </entry>
            <entry>
                <key>message-group-id</key>
                <value>test</value>
            </entry>
            <entry>
                <key>deduplication-message-id</key>
                <value>${UUID()}</value>
            </entry>
            <entry>
                <key>businessGroupId</key>
                <value>${businessGroupId}</value>
            </entry>
            <entry>
                <key>entityType</key>
                <value>${entityType}</value>
            </entry>
            <entry>
                <key>eventType</key>
                <value>${eventType}</value>
            </entry>
            <entry>
                <key>tenantId</key>
                <value>${tenantId}</value>
            </entry>
            <entry>
                <key>traceId</key>
                <value>${traceId}</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>PutSQS</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.aws.sqs.PutSQS</type>
</processors>
<processors>
    <id>ab172f44-a570-3c78-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <position>
        <x>-16.0</x>
        <y>288.0</y>
    </position>
    <versionedComponentId>2c39670f-0a8b-3b79-b679-d23857d3fe74</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>retry-attribute</key>
                <value>
                    <name>retry-attribute</name>
                </value>
            </entry>
            <entry>
                <key>maximum-retries</key>
                <value>
                    <name>maximum-retries</name>
                </value>
            </entry>
            <entry>
                <key>penalize-retries</key>
                <value>
                    <name>penalize-retries</name>
                </value>
            </entry>
            <entry>
                <key>Fail on Non-numerical Overwrite</key>
                <value>
                    <name>Fail on Non-numerical Overwrite</name>
                </value>
            </entry>
            <entry>
                <key>reuse-mode</key>
                <value>
                    <name>reuse-mode</name>
                </value>
            </entry>
            <entry>
                <key>Retry Interval</key>
                <value>
                    <name>Retry Interval</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>retry-attribute</key>
                <value>flowfile.retries</value>
            </entry>
            <entry>
                <key>maximum-retries</key>
                <value>3</value>
            </entry>
            <entry>
                <key>penalize-retries</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Fail on Non-numerical Overwrite</key>
                <value>false</value>
            </entry>
            <entry>
                <key>reuse-mode</key>
                <value>fail</value>
            </entry>
            <entry>
                <key>Retry Interval</key>
                <value>50000ms</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>RetryFlowFile</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>retries_exceeded</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>retry</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.RetryFlowFile</type>
</processors>
<processors>
    <id>cc432afa-7605-33f8-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <position>
        <x>592.0</x>
        <y>512.0</y>
    </position>
    <versionedComponentId>cc432afa-7605-33f8-b2f0-25cb69face1f</versionedComponentId>
    <bundle>
        <artifact>nifi-scripting-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Script Engine</key>
                <value>
                    <name>Script Engine</name>
                </value>
            </entry>
            <entry>
                <key>Script File</key>
                <value>
                    <name>Script File</name>
                </value>
            </entry>
            <entry>
                <key>Script Body</key>
                <value>
                    <name>Script Body</name>
                </value>
            </entry>
            <entry>
                <key>Module Directory</key>
                <value>
                    <name>Module Directory</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Script Engine</key>
                <value>Groovy</value>
            </entry>
            <entry>
                <key>Script File</key>
            </entry>
            <entry>
                <key>Script Body</key>
                <value>import org.apache.nifi.processor.io.StreamCallback  
import org.apache.nifi.processor.io.OutputStreamCallback
import org.apache.nifi.processor.io.InputStreamCallback
import org.apache.commons.io.IOUtils
import groovy.json.JsonSlurper
import groovy.json.JsonOutput
import java.nio.charset.StandardCharsets

// Get the incoming FlowFile
flowFile = session.get()
if (!flowFile) return

try {
    // --- 1. Parse the filteredPayload attribute for channel details and variants ---
    def filteredPayload = flowFile.getAttribute("filteredPayload")
    if (!filteredPayload) {
        throw new Exception("Missing filteredPayload attribute")
    }
    def flowJson = new JsonSlurper().parseText(filteredPayload)
    
    // --- 2. Parse the createProductResponse attribute and build a SKU map ---
    def createProductResponseAttr = flowFile.getAttribute("createProductResponse")
    if (!createProductResponseAttr) {
        throw new Exception("Missing createProductResponse attribute")
    }
    def createResponseJson = new JsonSlurper().parseText(createProductResponseAttr)
    
    // The top-level 'id' is the product_id (common for all variants)
    // def productId = createResponseJson.id
    
    // // Build a map from SKU -&gt; [ variantId, inventoryId ]
    // def variantMap = [:]
    // def edges = createResponseJson.variants?.edges
    // if (edges instanceof List) {
    //     edges.each { edge -&gt;
    //         def node = edge.node
    //         def sku = node.sku
    //         if (sku) {
    //             variantMap[sku] = [ 
    //                 variantId: node.id, 
    //                 inventoryId: node.inventory_details?.id
    //             ]
    //         }
    //     }
    // }

    


    
    // --- 3. Iterate over each variant in the filteredPayload and lookup by SKU ---
    if (flowJson.variants instanceof List) {
        flowJson.variants.each { variant -&gt;
            def newFlowFile = null
            try {
                def skuFlow = variant.sku_id
                // def match = variantMap[skuFlow]
                
                if (skuFlow) {
                    // --- 4. Process all channel data for the variant ---
                    def updatedChannels = []
                    
                    // Check if variant.channels is a List
                    if (variant.channels instanceof List) {
                        variant.channels.each { ch -&gt;
                            if (ch.channel_name == "RIPLEY") {
                                // Update only the RIPLEY channel with additional_attributes
                                updatedChannels &lt;&lt; [
                                    channel_id:   ch.channel_id,
                                    country_code: ch.country_code,
                                    channel_type: ch.channel_type,
                                    channel_name: ch.channel_name,
                                    is_active:    ch.is_active != null ? ch.is_active.toString() : "false",
                                    additional_attributes: [
                                        [ name: "import_id",   value: createResponseJson.import_id ],
                                        [ name: "product_import_id",   value: createResponseJson.product_import_id ]
                                    ]
                                ]
                            } else {
                                // Keep the channel unchanged
                                updatedChannels &lt;&lt; ch
                            }
                        }
                    } else {
                        // If channels is not a list, use it as is (or initialize as an empty list)
                        updatedChannels = variant.channels ? [ variant.channels ] : []
                    }
                    
                    // --- 5. Build the update API payload using the updated channels ---
                    def updateRequest = [ channels: updatedChannels ]

                    // --- 6. Create a new FlowFile for this variant's update payload ---
                    newFlowFile = session.create(flowFile)
                    newFlowFile = session.write(newFlowFile, { outputStream -&gt;
                        outputStream.write(JsonOutput.toJson(updateRequest).getBytes(StandardCharsets.UTF_8))
                    } as OutputStreamCallback)
                    
                    if(skuFlow != null &amp;&amp; skuFlow.toString().trim()){
                        newFlowFile = session.putAttribute(newFlowFile, "sku_id", skuFlow)
                    }
                    
                    session.transfer(newFlowFile, REL_SUCCESS)
                    
                } else {
                    log.error("No matching SKU found in createProductResponse for SKU: " + skuFlow)
                }
            } catch (Exception innerEx) {
                log.error("Error processing variant with SKU: " + variant?.sku_id, innerEx)
                if (newFlowFile != null) {
                    session.remove(newFlowFile)
                }
            }
        }
    } else {
        throw new Exception("No variants found in filteredPayload")
    }
    
    // Remove the original FlowFile after processing all variants successfully
    session.remove(flowFile)
    
} catch (Exception e) {
    log.error("Error processing update payloads", e)
    flowFile = session.putAttribute(flowFile, "error", "true")
    session.transfer(flowFile, REL_FAILURE)
}</value>
            </entry>
            <entry>
                <key>Module Directory</key>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>ExecuteScript</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.script.ExecuteScript</type>
</processors>
<processors>
    <id>dfbb52dd-d071-3f05-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <position>
        <x>-440.0</x>
        <y>288.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>filename</key>
                <value>
                    <name>filename</name>
                </value>
            </entry>
            <entry>
                <key>mime.type</key>
                <value>
                    <name>mime.type</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>filename</key>
                <value>${articleId} - ProductCreationFailure</value>
            </entry>
            <entry>
                <key>mime.type</key>
                <value>application/json; charset=utf-8</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>25</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>e82f07a5-6442-36c3-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <position>
        <x>592.0</x>
        <y>784.0</y>
    </position>
    <versionedComponentId>e82f07a5-6442-36c3-b2af-6dd6d215d692</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>HTTP Method</key>
                <value>
                    <name>HTTP Method</name>
                </value>
            </entry>
            <entry>
                <key>Remote URL</key>
                <value>
                    <name>Remote URL</name>
                </value>
            </entry>
            <entry>
                <key>disable-http2</key>
                <value>
                    <name>disable-http2</name>
                </value>
            </entry>
            <entry>
                <key>SSL Context Service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                    <name>SSL Context Service</name>
                </value>
            </entry>
            <entry>
                <key>Connection Timeout</key>
                <value>
                    <name>Connection Timeout</name>
                </value>
            </entry>
            <entry>
                <key>Read Timeout</key>
                <value>
                    <name>Read Timeout</name>
                </value>
            </entry>
            <entry>
                <key>Socket Write Timeout</key>
                <value>
                    <name>Socket Write Timeout</name>
                </value>
            </entry>
            <entry>
                <key>idle-timeout</key>
                <value>
                    <name>idle-timeout</name>
                </value>
            </entry>
            <entry>
                <key>max-idle-connections</key>
                <value>
                    <name>max-idle-connections</name>
                </value>
            </entry>
            <entry>
                <key>proxy-configuration-service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.proxy.ProxyConfigurationService</identifiesControllerService>
                    <name>proxy-configuration-service</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Host</key>
                <value>
                    <name>Proxy Host</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Port</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>Proxy Port</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Type</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>Proxy Type</name>
                </value>
            </entry>
            <entry>
                <key>invokehttp-proxy-user</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>invokehttp-proxy-user</name>
                </value>
            </entry>
            <entry>
                <key>invokehttp-proxy-password</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>invokehttp-proxy-password</name>
                </value>
            </entry>
            <entry>
                <key>oauth2-access-token-provider</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.oauth2.OAuth2AccessTokenProvider</identifiesControllerService>
                    <name>oauth2-access-token-provider</name>
                </value>
            </entry>
            <entry>
                <key>Basic Authentication Username</key>
                <value>
                    <name>Basic Authentication Username</name>
                </value>
            </entry>
            <entry>
                <key>Basic Authentication Password</key>
                <value>
                    <name>Basic Authentication Password</name>
                </value>
            </entry>
            <entry>
                <key>Digest Authentication</key>
                <value>
                    <dependencies>
                        <propertyName>Basic Authentication Username</propertyName>
                    </dependencies>
                    <name>Digest Authentication</name>
                </value>
            </entry>
            <entry>
                <key>Penalize on "No Retry"</key>
                <value>
                    <name>Penalize on "No Retry"</name>
                </value>
            </entry>
            <entry>
                <key>send-message-body</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>send-message-body</name>
                </value>
            </entry>
            <entry>
                <key>form-body-form-name</key>
                <value>
                    <dependencies>
                        <dependentValues>true</dependentValues>
                        <propertyName>send-message-body</propertyName>
                    </dependencies>
                    <name>form-body-form-name</name>
                </value>
            </entry>
            <entry>
                <key>set-form-filename</key>
                <value>
                    <dependencies>
                        <propertyName>form-body-form-name</propertyName>
                    </dependencies>
                    <name>set-form-filename</name>
                </value>
            </entry>
            <entry>
                <key>Use Chunked Encoding</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>Use Chunked Encoding</name>
                </value>
            </entry>
            <entry>
                <key>Content-Encoding</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>Content-Encoding</name>
                </value>
            </entry>
            <entry>
                <key>Content-Type</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>Content-Type</name>
                </value>
            </entry>
            <entry>
                <key>Include Date Header</key>
                <value>
                    <name>Include Date Header</name>
                </value>
            </entry>
            <entry>
                <key>Attributes to Send</key>
                <value>
                    <name>Attributes to Send</name>
                </value>
            </entry>
            <entry>
                <key>Useragent</key>
                <value>
                    <name>Useragent</name>
                </value>
            </entry>
            <entry>
                <key>Put Response Body In Attribute</key>
                <value>
                    <name>Put Response Body In Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Max Length To Put In Attribute</key>
                <value>
                    <dependencies>
                        <propertyName>Put Response Body In Attribute</propertyName>
                    </dependencies>
                    <name>Max Length To Put In Attribute</name>
                </value>
            </entry>
            <entry>
                <key>ignore-response-content</key>
                <value>
                    <name>ignore-response-content</name>
                </value>
            </entry>
            <entry>
                <key>use-etag</key>
                <value>
                    <name>use-etag</name>
                </value>
            </entry>
            <entry>
                <key>etag-max-cache-size</key>
                <value>
                    <dependencies>
                        <dependentValues>true</dependentValues>
                        <propertyName>use-etag</propertyName>
                    </dependencies>
                    <name>etag-max-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>cookie-strategy</key>
                <value>
                    <name>cookie-strategy</name>
                </value>
            </entry>
            <entry>
                <key>Always Output Response</key>
                <value>
                    <name>Always Output Response</name>
                </value>
            </entry>
            <entry>
                <key>flow-file-naming-strategy</key>
                <value>
                    <name>flow-file-naming-strategy</name>
                </value>
            </entry>
            <entry>
                <key>Add Response Headers to Request</key>
                <value>
                    <name>Add Response Headers to Request</name>
                </value>
            </entry>
            <entry>
                <key>Follow Redirects</key>
                <value>
                    <name>Follow Redirects</name>
                </value>
            </entry>
            <entry>
                <key>Authorization</key>
                <value>
                    <name>Authorization</name>
                </value>
            </entry>
            <entry>
                <key>x-business-group-id</key>
                <value>
                    <name>x-business-group-id</name>
                </value>
            </entry>
            <entry>
                <key>x-client-id</key>
                <value>
                    <name>x-client-id</name>
                </value>
            </entry>
            <entry>
                <key>x-tenant-id</key>
                <value>
                    <name>x-tenant-id</name>
                </value>
            </entry>
            <entry>
                <key>x-trace-id</key>
                <value>
                    <name>x-trace-id</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>HTTP Method</key>
                <value>PATCH</value>
            </entry>
            <entry>
                <key>Remote URL</key>
                <value>#{update_product_channels}</value>
            </entry>
            <entry>
                <key>disable-http2</key>
                <value>False</value>
            </entry>
            <entry>
                <key>SSL Context Service</key>
            </entry>
            <entry>
                <key>Connection Timeout</key>
                <value>5 secs</value>
            </entry>
            <entry>
                <key>Read Timeout</key>
                <value>15 secs</value>
            </entry>
            <entry>
                <key>Socket Write Timeout</key>
                <value>15 secs</value>
            </entry>
            <entry>
                <key>idle-timeout</key>
                <value>5 mins</value>
            </entry>
            <entry>
                <key>max-idle-connections</key>
                <value>5</value>
            </entry>
            <entry>
                <key>proxy-configuration-service</key>
            </entry>
            <entry>
                <key>Proxy Host</key>
            </entry>
            <entry>
                <key>Proxy Port</key>
            </entry>
            <entry>
                <key>Proxy Type</key>
                <value>http</value>
            </entry>
            <entry>
                <key>invokehttp-proxy-user</key>
            </entry>
            <entry>
                <key>invokehttp-proxy-password</key>
            </entry>
            <entry>
                <key>oauth2-access-token-provider</key>
            </entry>
            <entry>
                <key>Basic Authentication Username</key>
            </entry>
            <entry>
                <key>Basic Authentication Password</key>
            </entry>
            <entry>
                <key>Digest Authentication</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Penalize on "No Retry"</key>
                <value>false</value>
            </entry>
            <entry>
                <key>send-message-body</key>
                <value>true</value>
            </entry>
            <entry>
                <key>form-body-form-name</key>
            </entry>
            <entry>
                <key>set-form-filename</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Use Chunked Encoding</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Content-Encoding</key>
                <value>DISABLED</value>
            </entry>
            <entry>
                <key>Content-Type</key>
                <value>application/json</value>
            </entry>
            <entry>
                <key>Include Date Header</key>
                <value>True</value>
            </entry>
            <entry>
                <key>Attributes to Send</key>
            </entry>
            <entry>
                <key>Useragent</key>
            </entry>
            <entry>
                <key>Put Response Body In Attribute</key>
                <value></value>
            </entry>
            <entry>
                <key>Max Length To Put In Attribute</key>
                <value>102400</value>
            </entry>
            <entry>
                <key>ignore-response-content</key>
                <value>false</value>
            </entry>
            <entry>
                <key>use-etag</key>
                <value>false</value>
            </entry>
            <entry>
                <key>etag-max-cache-size</key>
                <value>10MB</value>
            </entry>
            <entry>
                <key>cookie-strategy</key>
                <value>DISABLED</value>
            </entry>
            <entry>
                <key>Always Output Response</key>
                <value>false</value>
            </entry>
            <entry>
                <key>flow-file-naming-strategy</key>
                <value>RANDOM</value>
            </entry>
            <entry>
                <key>Add Response Headers to Request</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Follow Redirects</key>
                <value>True</value>
            </entry>
            <entry>
                <key>Authorization</key>
                <value>Bearer ${Token}</value>
            </entry>
            <entry>
                <key>x-business-group-id</key>
                <value>${businessGroupId}</value>
            </entry>
            <entry>
                <key>x-client-id</key>
                <value>backend</value>
            </entry>
            <entry>
                <key>x-tenant-id</key>
                <value>${tenantId}</value>
            </entry>
            <entry>
                <key>x-trace-id</key>
                <value>${traceId}</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>update channels</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>No Retry</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>Original</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Response</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Retry</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.InvokeHTTP</type>
</processors>
<processors>
    <id>f0b4c201-61f0-3ea5-0000-000000000000</id>
    <parentGroupId>004a96b2-ed21-3423-0000-000000000000</parentGroupId>
    <position>
        <x>592.0</x>
        <y>288.0</y>
    </position>
    <versionedComponentId>50555b8a-91d1-3f4b-b967-ae3a03c5c651</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>HTTP Method</key>
                <value>
                    <name>HTTP Method</name>
                </value>
            </entry>
            <entry>
                <key>Remote URL</key>
                <value>
                    <name>Remote URL</name>
                </value>
            </entry>
            <entry>
                <key>disable-http2</key>
                <value>
                    <name>disable-http2</name>
                </value>
            </entry>
            <entry>
                <key>SSL Context Service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                    <name>SSL Context Service</name>
                </value>
            </entry>
            <entry>
                <key>Connection Timeout</key>
                <value>
                    <name>Connection Timeout</name>
                </value>
            </entry>
            <entry>
                <key>Read Timeout</key>
                <value>
                    <name>Read Timeout</name>
                </value>
            </entry>
            <entry>
                <key>Socket Write Timeout</key>
                <value>
                    <name>Socket Write Timeout</name>
                </value>
            </entry>
            <entry>
                <key>idle-timeout</key>
                <value>
                    <name>idle-timeout</name>
                </value>
            </entry>
            <entry>
                <key>max-idle-connections</key>
                <value>
                    <name>max-idle-connections</name>
                </value>
            </entry>
            <entry>
                <key>proxy-configuration-service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.proxy.ProxyConfigurationService</identifiesControllerService>
                    <name>proxy-configuration-service</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Host</key>
                <value>
                    <name>Proxy Host</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Port</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>Proxy Port</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Type</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>Proxy Type</name>
                </value>
            </entry>
            <entry>
                <key>invokehttp-proxy-user</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>invokehttp-proxy-user</name>
                </value>
            </entry>
            <entry>
                <key>invokehttp-proxy-password</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>invokehttp-proxy-password</name>
                </value>
            </entry>
            <entry>
                <key>oauth2-access-token-provider</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.oauth2.OAuth2AccessTokenProvider</identifiesControllerService>
                    <name>oauth2-access-token-provider</name>
                </value>
            </entry>
            <entry>
                <key>Basic Authentication Username</key>
                <value>
                    <name>Basic Authentication Username</name>
                </value>
            </entry>
            <entry>
                <key>Basic Authentication Password</key>
                <value>
                    <name>Basic Authentication Password</name>
                </value>
            </entry>
            <entry>
                <key>Digest Authentication</key>
                <value>
                    <dependencies>
                        <propertyName>Basic Authentication Username</propertyName>
                    </dependencies>
                    <name>Digest Authentication</name>
                </value>
            </entry>
            <entry>
                <key>Penalize on "No Retry"</key>
                <value>
                    <name>Penalize on "No Retry"</name>
                </value>
            </entry>
            <entry>
                <key>send-message-body</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>send-message-body</name>
                </value>
            </entry>
            <entry>
                <key>form-body-form-name</key>
                <value>
                    <dependencies>
                        <dependentValues>true</dependentValues>
                        <propertyName>send-message-body</propertyName>
                    </dependencies>
                    <name>form-body-form-name</name>
                </value>
            </entry>
            <entry>
                <key>set-form-filename</key>
                <value>
                    <dependencies>
                        <propertyName>form-body-form-name</propertyName>
                    </dependencies>
                    <name>set-form-filename</name>
                </value>
            </entry>
            <entry>
                <key>Use Chunked Encoding</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>Use Chunked Encoding</name>
                </value>
            </entry>
            <entry>
                <key>Content-Encoding</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>Content-Encoding</name>
                </value>
            </entry>
            <entry>
                <key>Content-Type</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>Content-Type</name>
                </value>
            </entry>
            <entry>
                <key>Include Date Header</key>
                <value>
                    <name>Include Date Header</name>
                </value>
            </entry>
            <entry>
                <key>Attributes to Send</key>
                <value>
                    <name>Attributes to Send</name>
                </value>
            </entry>
            <entry>
                <key>Useragent</key>
                <value>
                    <name>Useragent</name>
                </value>
            </entry>
            <entry>
                <key>Put Response Body In Attribute</key>
                <value>
                    <name>Put Response Body In Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Max Length To Put In Attribute</key>
                <value>
                    <dependencies>
                        <propertyName>Put Response Body In Attribute</propertyName>
                    </dependencies>
                    <name>Max Length To Put In Attribute</name>
                </value>
            </entry>
            <entry>
                <key>ignore-response-content</key>
                <value>
                    <name>ignore-response-content</name>
                </value>
            </entry>
            <entry>
                <key>use-etag</key>
                <value>
                    <name>use-etag</name>
                </value>
            </entry>
            <entry>
                <key>etag-max-cache-size</key>
                <value>
                    <dependencies>
                        <dependentValues>true</dependentValues>
                        <propertyName>use-etag</propertyName>
                    </dependencies>
                    <name>etag-max-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>cookie-strategy</key>
                <value>
                    <name>cookie-strategy</name>
                </value>
            </entry>
            <entry>
                <key>Always Output Response</key>
                <value>
                    <name>Always Output Response</name>
                </value>
            </entry>
            <entry>
                <key>flow-file-naming-strategy</key>
                <value>
                    <name>flow-file-naming-strategy</name>
                </value>
            </entry>
            <entry>
                <key>Add Response Headers to Request</key>
                <value>
                    <name>Add Response Headers to Request</name>
                </value>
            </entry>
            <entry>
                <key>Follow Redirects</key>
                <value>
                    <name>Follow Redirects</name>
                </value>
            </entry>
            <entry>
                <key>Authorization</key>
                <value>
                    <name>Authorization</name>
                </value>
            </entry>
            <entry>
                <key>x-business-group-id</key>
                <value>
                    <name>x-business-group-id</name>
                </value>
            </entry>
            <entry>
                <key>x-client-id</key>
                <value>
                    <name>x-client-id</name>
                </value>
            </entry>
            <entry>
                <key>x-tenant-id</key>
                <value>
                    <name>x-tenant-id</name>
                </value>
            </entry>
            <entry>
                <key>x-trace-id</key>
                <value>
                    <name>x-trace-id</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>HTTP Method</key>
                <value>POST</value>
            </entry>
            <entry>
                <key>Remote URL</key>
                <value>#{product_creation_url}</value>
            </entry>
            <entry>
                <key>disable-http2</key>
                <value>False</value>
            </entry>
            <entry>
                <key>SSL Context Service</key>
            </entry>
            <entry>
                <key>Connection Timeout</key>
                <value>5 secs</value>
            </entry>
            <entry>
                <key>Read Timeout</key>
                <value>15 secs</value>
            </entry>
            <entry>
                <key>Socket Write Timeout</key>
                <value>15 secs</value>
            </entry>
            <entry>
                <key>idle-timeout</key>
                <value>5 mins</value>
            </entry>
            <entry>
                <key>max-idle-connections</key>
                <value>5</value>
            </entry>
            <entry>
                <key>proxy-configuration-service</key>
            </entry>
            <entry>
                <key>Proxy Host</key>
            </entry>
            <entry>
                <key>Proxy Port</key>
            </entry>
            <entry>
                <key>Proxy Type</key>
                <value>http</value>
            </entry>
            <entry>
                <key>invokehttp-proxy-user</key>
            </entry>
            <entry>
                <key>invokehttp-proxy-password</key>
            </entry>
            <entry>
                <key>oauth2-access-token-provider</key>
            </entry>
            <entry>
                <key>Basic Authentication Username</key>
            </entry>
            <entry>
                <key>Basic Authentication Password</key>
            </entry>
            <entry>
                <key>Digest Authentication</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Penalize on "No Retry"</key>
                <value>false</value>
            </entry>
            <entry>
                <key>send-message-body</key>
                <value>true</value>
            </entry>
            <entry>
                <key>form-body-form-name</key>
                <value>file</value>
            </entry>
            <entry>
                <key>set-form-filename</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Use Chunked Encoding</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Content-Encoding</key>
                <value>DISABLED</value>
            </entry>
            <entry>
                <key>Content-Type</key>
                <value>multipart/form-data</value>
            </entry>
            <entry>
                <key>Include Date Header</key>
                <value>True</value>
            </entry>
            <entry>
                <key>Attributes to Send</key>
            </entry>
            <entry>
                <key>Useragent</key>
            </entry>
            <entry>
                <key>Put Response Body In Attribute</key>
                <value>createProductResponse</value>
            </entry>
            <entry>
                <key>Max Length To Put In Attribute</key>
                <value>102400</value>
            </entry>
            <entry>
                <key>ignore-response-content</key>
                <value>false</value>
            </entry>
            <entry>
                <key>use-etag</key>
                <value>false</value>
            </entry>
            <entry>
                <key>etag-max-cache-size</key>
                <value>10MB</value>
            </entry>
            <entry>
                <key>cookie-strategy</key>
                <value>DISABLED</value>
            </entry>
            <entry>
                <key>Always Output Response</key>
                <value>false</value>
            </entry>
            <entry>
                <key>flow-file-naming-strategy</key>
                <value>RANDOM</value>
            </entry>
            <entry>
                <key>Add Response Headers to Request</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Follow Redirects</key>
                <value>True</value>
            </entry>
            <entry>
                <key>Authorization</key>
                <value>Bearer ${Token}</value>
            </entry>
            <entry>
                <key>x-business-group-id</key>
                <value>${businessGroupId}</value>
            </entry>
            <entry>
                <key>x-client-id</key>
                <value>backend</value>
            </entry>
            <entry>
                <key>x-tenant-id</key>
                <value>${tenantId}</value>
            </entry>
            <entry>
                <key>x-trace-id</key>
                <value>${traceId}</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Send CSV </name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>No Retry</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Original</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Response</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Retry</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.InvokeHTTP</type>
</processors>
                            </contents>
                            <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                            <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                            <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                            <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                            <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                            <name>Product creation API call</name>
                            <variables>
<entry>
    <key>sqs_access_key</key>
    <value>fd</value>
</entry>
                            </variables>
                        </processGroups>
                        <processGroups>
                            <id>13ef3bb1-2ae0-3c17-0000-000000000000</id>
                            <parentGroupId>facd6c3f-6d37-3efc-0000-000000000000</parentGroupId>
                            <position>
<x>408.0</x>
<y>1024.0</y>
                            </position>
                            <versionedComponentId>4f2eaf78-745b-3a35-aa74-e39278019f7a</versionedComponentId>
                            <comments></comments>
                            <contents>
<connections>
    <id>0de55270-9ca8-35aa-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>22f82873-87a6-33b7-0000-000000000000</groupId>
        <id>46803b75-d8eb-3e8b-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>retries_exceeded</selectedRelationships>
    <source>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>a3ce5052-8a2f-36b0-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>15e29e64-1cb4-3a2e-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <versionedComponentId>d80a8ba4-7ffe-30d4-8681-3a53744b9c8e</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>7165ab5b-af34-38ef-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>fc850b58-5f48-33a7-b4ad-b06a7d5d319a</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>57019fba-d5eb-3acf-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>a8eaa5ce-586f-3ffb-b5d3-084972cc936b</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>24a1931d-44e7-35ed-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <versionedComponentId>24a1931d-44e7-35ed-8549-e6a22b946bc2</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>820.0</x>
        <y>101.0</y>
    </bends>
    <destination>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>5bd41fe4-eb14-3e10-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>8b570655-d7cf-3eaf-9dbf-3ec045b9f44b</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>Retry</selectedRelationships>
    <source>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>0a2bb58f-30c2-3887-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>a972c22a-3ffc-3df7-ac55-7ec3587039cf</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>451a2403-1125-36b7-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>22f82873-87a6-33b7-0000-000000000000</groupId>
        <id>46803b75-d8eb-3e8b-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <source>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>c014f6ec-5d8c-372a-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>20bfc847-0f6b-3a5c-93ef-8016e35452a5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>6a2d31f9-1864-3e9c-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>a3ce5052-8a2f-36b0-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>Retry</selectedRelationships>
    <source>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>006ee252-8ec9-3bbe-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>006ee252-8ec9-3bbe-9c07-f5704c4b931a</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>7ad22888-d0c3-3099-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>22f82873-87a6-33b7-0000-000000000000</groupId>
        <id>46803b75-d8eb-3e8b-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <source>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>d4ea8540-6885-3c97-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>d4ea8540-6885-3c97-b6ea-49a5b17b1962</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>7f970b92-9e11-3c06-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>832.0</x>
        <y>528.0</y>
    </bends>
    <destination>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>006ee252-8ec9-3bbe-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>006ee252-8ec9-3bbe-9c07-f5704c4b931a</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>retry</selectedRelationships>
    <source>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>a3ce5052-8a2f-36b0-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>97d30969-23d2-3dcb-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>614d8e4f-1dd7-33e4-0000-000000000000</groupId>
        <id>5ddf4501-25ed-3c60-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>Failure</selectedRelationships>
    <selectedRelationships>No Retry</selectedRelationships>
    <source>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>006ee252-8ec9-3bbe-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>006ee252-8ec9-3bbe-9c07-f5704c4b931a</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>9b1241f6-2657-37f4-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <versionedComponentId>84ea875b-99dd-3732-bf08-1eae0841b1f0</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>0a2bb58f-30c2-3887-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>a972c22a-3ffc-3df7-ac55-7ec3587039cf</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>retry</selectedRelationships>
    <source>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>5bd41fe4-eb14-3e10-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>8b570655-d7cf-3eaf-9dbf-3ec045b9f44b</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>9c233075-f92d-39bd-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>22f82873-87a6-33b7-0000-000000000000</groupId>
        <id>46803b75-d8eb-3e8b-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>retries_exceeded</selectedRelationships>
    <source>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>5bd41fe4-eb14-3e10-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>8b570655-d7cf-3eaf-9dbf-3ec045b9f44b</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>b94b8b77-ba7f-365d-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <versionedComponentId>b94b8b77-ba7f-365d-96fc-75f755b7bcfc</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>d4ea8540-6885-3c97-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>d4ea8540-6885-3c97-b6ea-49a5b17b1962</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>Original</selectedRelationships>
    <selectedRelationships>Response</selectedRelationships>
    <source>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>0a2bb58f-30c2-3887-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>a972c22a-3ffc-3df7-ac55-7ec3587039cf</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>cddeaf42-7b97-38c6-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <versionedComponentId>cddeaf42-7b97-38c6-b3b1-e033dd3727b3</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>62d000d1-0faa-3e21-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>62d000d1-0faa-3e21-ba56-3443e47bbb2f</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>Response</selectedRelationships>
    <source>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>006ee252-8ec9-3bbe-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>006ee252-8ec9-3bbe-9c07-f5704c4b931a</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>d6499a22-5c7c-3360-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <versionedComponentId>d6499a22-5c7c-3360-bae8-6eb8ea6ab406</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>006ee252-8ec9-3bbe-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>006ee252-8ec9-3bbe-9c07-f5704c4b931a</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>d4ea8540-6885-3c97-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>d4ea8540-6885-3c97-b6ea-49a5b17b1962</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>e4ffcff0-8cd3-3a35-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>614d8e4f-1dd7-33e4-0000-000000000000</groupId>
        <id>5ddf4501-25ed-3c60-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>Failure</selectedRelationships>
    <selectedRelationships>No Retry</selectedRelationships>
    <source>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>0a2bb58f-30c2-3887-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>a972c22a-3ffc-3df7-ac55-7ec3587039cf</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>ea776ad9-ce51-330d-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <versionedComponentId>5d63743d-2f17-37e5-874a-2b4eb551dc2f</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>0a2bb58f-30c2-3887-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>a972c22a-3ffc-3df7-ac55-7ec3587039cf</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>c014f6ec-5d8c-372a-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>20bfc847-0f6b-3a5c-93ef-8016e35452a5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>f9fe3363-25b8-3ba1-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <versionedComponentId>b64bcc70-b9c0-3941-b4b3-9366b6ef8d73</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>c014f6ec-5d8c-372a-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>20bfc847-0f6b-3a5c-93ef-8016e35452a5</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>13ef3bb1-2ae0-3c17-0000-000000000000</groupId>
        <id>7165ab5b-af34-38ef-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>fc850b58-5f48-33a7-b4ad-b06a7d5d319a</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<processGroups>
    <id>22f82873-87a6-33b7-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <position>
        <x>-296.0</x>
        <y>88.0</y>
    </position>
    <comments></comments>
    <contents>
        <connections>
            <id>6a636025-a36c-3646-0000-000000000000</id>
            <parentGroupId>22f82873-87a6-33b7-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>22f82873-87a6-33b7-0000-000000000000</groupId>
                <id>fbf09c8c-44ff-3081-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>22f82873-87a6-33b7-0000-000000000000</groupId>
                <id>cb1c701f-40c2-35eb-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>9a59cd75-87fa-39e0-0000-000000000000</id>
            <parentGroupId>22f82873-87a6-33b7-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>22f82873-87a6-33b7-0000-000000000000</groupId>
                <id>427d2cf3-0c8c-3c38-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>22f82873-87a6-33b7-0000-000000000000</groupId>
                <id>46803b75-d8eb-3e8b-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>c97b0cb3-eeb6-39f4-0000-000000000000</id>
            <parentGroupId>22f82873-87a6-33b7-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>22f82873-87a6-33b7-0000-000000000000</groupId>
                <id>fbf09c8c-44ff-3081-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>22f82873-87a6-33b7-0000-000000000000</groupId>
                <id>427d2cf3-0c8c-3c38-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>de22cdb7-38c2-3a03-0000-000000000000</id>
            <parentGroupId>22f82873-87a6-33b7-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>22f82873-87a6-33b7-0000-000000000000</groupId>
                <id>cb1c701f-40c2-35eb-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>22f82873-87a6-33b7-0000-000000000000</groupId>
                <id>46803b75-d8eb-3e8b-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <inputPorts>
            <id>46803b75-d8eb-3e8b-0000-000000000000</id>
            <parentGroupId>22f82873-87a6-33b7-0000-000000000000</parentGroupId>
            <position>
                <x>368.0</x>
                <y>-192.0</y>
            </position>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <name>failure</name>
            <state>STOPPED</state>
            <type>INPUT_PORT</type>
        </inputPorts>
        <processors>
            <id>427d2cf3-0c8c-3c38-0000-000000000000</id>
            <parentGroupId>22f82873-87a6-33b7-0000-000000000000</parentGroupId>
            <position>
                <x>640.0</x>
                <y>-64.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.dbcp.DBCPService</identifiesControllerService>
                            <name>Database Connection Pooling Service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                        <value>
                            <name>sql-pre-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>
                            <name>SQL select query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                        <value>
                            <name>sql-post-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>
                            <name>Max Wait Time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>
                            <name>dbf-normalize</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>
                            <name>dbf-user-logical-types</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>
                            <name>compression-format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>
                            <name>dbf-default-precision</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>
                            <name>dbf-default-scale</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>
                            <name>esql-max-rows</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>
                            <name>esql-output-batch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>
                            <name>esql-fetch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>
                            <name>esql-auto-commit</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>480b2bf7-beb4-30ac-0000-000000000000</value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>UPDATE file_processing_log SET updated_at = '${now():format("yyyy-MM-dd HH:mm:ss")}', updated_by = 'nifi', status = '${status}', error_message ='${invokehttp.status.message}' WHERE order_no = '${orderNumber}' AND application = 'ejje-nebula-forward-order-creation';</value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>0 seconds</value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>NONE</value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>10</value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>true</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>ExecuteSQL</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.ExecuteSQL</type>
        </processors>
        <processors>
            <id>cb1c701f-40c2-35eb-0000-000000000000</id>
            <parentGroupId>22f82873-87a6-33b7-0000-000000000000</parentGroupId>
            <position>
                <x>16.0</x>
                <y>-72.0</y>
            </position>
            <bundle>
                <artifact>nifi-kafka-2-6-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>
                            <name>bootstrap.servers</name>
                        </value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>
                            <name>topic</name>
                        </value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>
                            <name>use-transactions</name>
                        </value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>
                            <dependencies>
<dependentValues>true</dependentValues>
<propertyName>use-transactions</propertyName>
                            </dependencies>
                            <name>transactional-id-prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                        <value>
                            <name>message-demarcator</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>
                            <name>Failure Strategy</name>
                        </value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>
                            <name>acks</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                        <value>
                            <name>attribute-name-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>
                            <name>message-header-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>
                            <name>security.protocol</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>
                            <name>sasl.mechanism</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.KerberosCredentialsService</identifiesControllerService>
                            <name>kerberos-credentials-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.SelfContainedKerberosUserService</identifiesControllerService>
                            <name>kerberos-user-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                        <value>
                            <name>sasl.kerberos.service.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                        <value>
                            <name>sasl.kerberos.principal</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                        <value>
                            <name>sasl.kerberos.keytab</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.username</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.password</name>
                        </value>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                        <value>
                            <dependencies>
<dependentValues>AWS_MSK_IAM</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>aws.profile.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>
                            <dependencies>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.token.auth</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                            <name>ssl.context.service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                        <value>
                            <name>kafka-key</name>
                        </value>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>
                            <name>key-attribute-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>
                            <name>max.request.size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>
                            <name>ack.wait.time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>
                            <name>max.block.ms</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>
                            <name>partitioner.class</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>
                            <name>partition</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>
                            <name>compression.type</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>#{kafka_broker}</value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>#{kafka_failed_topic}</value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>trans</value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>Route to Failure</value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>all</value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>UTF-8</value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>PLAINTEXT</value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>GSSAPI</value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>utf-8</value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>1 MB</value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>30 secs</value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>30 sec</value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>org.apache.kafka.clients.producer.internals.DefaultPartitioner</value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>gzip</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>FailedPublishKafka</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6</type>
        </processors>
        <processors>
            <id>fbf09c8c-44ff-3081-0000-000000000000</id>
            <parentGroupId>22f82873-87a6-33b7-0000-000000000000</parentGroupId>
            <position>
                <x>288.0</x>
                <y>168.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Log Level</key>
                        <value>
                            <name>Log Level</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>
                            <name>Log Payload</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                        <value>
                            <name>Attributes to Log</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>
                            <name>attributes-to-log-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                        <value>
                            <name>Attributes to Ignore</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                        <value>
                            <name>attributes-to-ignore-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>
                            <name>Log FlowFile Properties</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>
                            <name>Output Format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                        <value>
                            <name>Log prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>
                            <name>character-set</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Log Level</key>
                        <value>info</value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>.*</value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>true</value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>Line per Attribute</value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>UTF-8</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>25</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>LogAttribute</name>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.LogAttribute</type>
        </processors>
    </contents>
    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
    <logFileSuffix></logFileSuffix>
    <name>Failure logging and publishing</name>
    <variables/>
</processGroups>
<processGroups>
    <id>614d8e4f-1dd7-33e4-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <position>
        <x>1576.0</x>
        <y>304.0</y>
    </position>
    <comments></comments>
    <contents>
        <connections>
            <id>1c47c415-300a-3db7-0000-000000000000</id>
            <parentGroupId>614d8e4f-1dd7-33e4-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>614d8e4f-1dd7-33e4-0000-000000000000</groupId>
                <id>cdd4753f-106d-348c-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>614d8e4f-1dd7-33e4-0000-000000000000</groupId>
                <id>84d66f05-d5b1-3b05-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>4ab3690f-b030-3d29-0000-000000000000</id>
            <parentGroupId>614d8e4f-1dd7-33e4-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>614d8e4f-1dd7-33e4-0000-000000000000</groupId>
                <id>fb52f568-9716-369c-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>success</selectedRelationships>
            <source>
                <groupId>614d8e4f-1dd7-33e4-0000-000000000000</groupId>
                <id>da50c05e-2068-3f7f-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>822a4666-1699-33a9-0000-000000000000</id>
            <parentGroupId>614d8e4f-1dd7-33e4-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>614d8e4f-1dd7-33e4-0000-000000000000</groupId>
                <id>cdd4753f-106d-348c-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>614d8e4f-1dd7-33e4-0000-000000000000</groupId>
                <id>fb52f568-9716-369c-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>bbf61df9-6083-3c6f-0000-000000000000</id>
            <parentGroupId>614d8e4f-1dd7-33e4-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>614d8e4f-1dd7-33e4-0000-000000000000</groupId>
                <id>84d66f05-d5b1-3b05-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>614d8e4f-1dd7-33e4-0000-000000000000</groupId>
                <id>5ddf4501-25ed-3c60-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>cc2dd7c1-c956-3db1-0000-000000000000</id>
            <parentGroupId>614d8e4f-1dd7-33e4-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>614d8e4f-1dd7-33e4-0000-000000000000</groupId>
                <id>da50c05e-2068-3f7f-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>614d8e4f-1dd7-33e4-0000-000000000000</groupId>
                <id>5ddf4501-25ed-3c60-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>f210b04d-9655-3f0e-0000-000000000000</id>
            <parentGroupId>614d8e4f-1dd7-33e4-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>614d8e4f-1dd7-33e4-0000-000000000000</groupId>
                <id>cdd4753f-106d-348c-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>614d8e4f-1dd7-33e4-0000-000000000000</groupId>
                <id>da50c05e-2068-3f7f-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <inputPorts>
            <id>5ddf4501-25ed-3c60-0000-000000000000</id>
            <parentGroupId>614d8e4f-1dd7-33e4-0000-000000000000</parentGroupId>
            <position>
                <x>296.0</x>
                <y>-200.0</y>
            </position>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <name>failure</name>
            <state>STOPPED</state>
            <type>INPUT_PORT</type>
        </inputPorts>
        <processors>
            <id>84d66f05-d5b1-3b05-0000-000000000000</id>
            <parentGroupId>614d8e4f-1dd7-33e4-0000-000000000000</parentGroupId>
            <position>
                <x>16.0</x>
                <y>-72.0</y>
            </position>
            <bundle>
                <artifact>nifi-kafka-2-6-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>
                            <name>bootstrap.servers</name>
                        </value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>
                            <name>topic</name>
                        </value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>
                            <name>use-transactions</name>
                        </value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>
                            <dependencies>
<dependentValues>true</dependentValues>
<propertyName>use-transactions</propertyName>
                            </dependencies>
                            <name>transactional-id-prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                        <value>
                            <name>message-demarcator</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>
                            <name>Failure Strategy</name>
                        </value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>
                            <name>acks</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                        <value>
                            <name>attribute-name-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>
                            <name>message-header-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>
                            <name>security.protocol</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>
                            <name>sasl.mechanism</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.KerberosCredentialsService</identifiesControllerService>
                            <name>kerberos-credentials-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.SelfContainedKerberosUserService</identifiesControllerService>
                            <name>kerberos-user-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                        <value>
                            <name>sasl.kerberos.service.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                        <value>
                            <name>sasl.kerberos.principal</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                        <value>
                            <name>sasl.kerberos.keytab</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.username</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.password</name>
                        </value>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                        <value>
                            <dependencies>
<dependentValues>AWS_MSK_IAM</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>aws.profile.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>
                            <dependencies>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.token.auth</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                            <name>ssl.context.service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                        <value>
                            <name>kafka-key</name>
                        </value>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>
                            <name>key-attribute-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>
                            <name>max.request.size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>
                            <name>ack.wait.time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>
                            <name>max.block.ms</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>
                            <name>partitioner.class</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>
                            <name>partition</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>
                            <name>compression.type</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>#{kafka_broker}</value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>#{kafka_failed_topic}</value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>trans</value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>Route to Failure</value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>all</value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>UTF-8</value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>PLAINTEXT</value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>GSSAPI</value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>utf-8</value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>1 MB</value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>30 secs</value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>30 sec</value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>org.apache.kafka.clients.producer.internals.DefaultPartitioner</value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>gzip</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>FailedPublishKafka</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6</type>
        </processors>
        <processors>
            <id>cdd4753f-106d-348c-0000-000000000000</id>
            <parentGroupId>614d8e4f-1dd7-33e4-0000-000000000000</parentGroupId>
            <position>
                <x>16.0</x>
                <y>192.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Log Level</key>
                        <value>
                            <name>Log Level</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>
                            <name>Log Payload</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                        <value>
                            <name>Attributes to Log</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>
                            <name>attributes-to-log-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                        <value>
                            <name>Attributes to Ignore</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                        <value>
                            <name>attributes-to-ignore-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>
                            <name>Log FlowFile Properties</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>
                            <name>Output Format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                        <value>
                            <name>Log prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>
                            <name>character-set</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Log Level</key>
                        <value>info</value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>.*</value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>true</value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>Line per Attribute</value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>UTF-8</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>25</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>LogAttribute</name>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.LogAttribute</type>
        </processors>
        <processors>
            <id>da50c05e-2068-3f7f-0000-000000000000</id>
            <parentGroupId>614d8e4f-1dd7-33e4-0000-000000000000</parentGroupId>
            <position>
                <x>720.0</x>
                <y>-72.0</y>
            </position>
            <bundle>
                <artifact>nifi-scripting-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Script Engine</key>
                        <value>
                            <name>Script Engine</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Script File</key>
                        <value>
                            <name>Script File</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Script Body</key>
                        <value>
                            <name>Script Body</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Module Directory</key>
                        <value>
                            <name>Module Directory</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Script Engine</key>
                        <value>Groovy</value>
                    </entry>
                    <entry>
                        <key>Script File</key>
                    </entry>
                    <entry>
                        <key>Script Body</key>
                        <value>import org.apache.nifi.processor.io.StreamCallback
import org.apache.commons.io.IOUtils
import java.nio.charset.StandardCharsets

flowFile = session.get()
if (!flowFile) return

def statusCode = flowFile.getAttribute('invokehttp.status.code')

if (statusCode == '200') {
    flowFile = session.putAttribute(flowFile, 'status', 'Success')
} else if (statusCode.startsWith('4')) {
    flowFile = session.putAttribute(flowFile, 'status', 'Failure')
} else if (statusCode.startsWith('5')) {
    flowFile = session.putAttribute(flowFile, 'status', 'Retry')
} else {
    flowFile = session.putAttribute(flowFile, 'status', 'Unknown')
}

session.transfer(flowFile, REL_SUCCESS)</value>
                    </entry>
                    <entry>
                        <key>Module Directory</key>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>ExecuteScript</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.script.ExecuteScript</type>
        </processors>
        <processors>
            <id>fb52f568-9716-369c-0000-000000000000</id>
            <parentGroupId>614d8e4f-1dd7-33e4-0000-000000000000</parentGroupId>
            <position>
                <x>720.0</x>
                <y>208.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.dbcp.DBCPService</identifiesControllerService>
                            <name>Database Connection Pooling Service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                        <value>
                            <name>sql-pre-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>
                            <name>SQL select query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                        <value>
                            <name>sql-post-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>
                            <name>Max Wait Time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>
                            <name>dbf-normalize</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>
                            <name>dbf-user-logical-types</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>
                            <name>compression-format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>
                            <name>dbf-default-precision</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>
                            <name>dbf-default-scale</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>
                            <name>esql-max-rows</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>
                            <name>esql-output-batch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>
                            <name>esql-fetch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>
                            <name>esql-auto-commit</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>480b2bf7-beb4-30ac-0000-000000000000</value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>UPDATE file_processing_log SET updated_at = '${now():format("yyyy-MM-dd HH:mm:ss")}', updated_by = 'nifi', status = '${status}', error_message ='${invokehttp.status.message}' WHERE order_no = '${orderNumber}' AND application = 'ejje-nebula-forward-order-creation';</value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>0 seconds</value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>NONE</value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>10</value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>true</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>ExecuteSQL</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.ExecuteSQL</type>
        </processors>
    </contents>
    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
    <logFileSuffix></logFileSuffix>
    <name>Failure logging and publishing-invokehttp</name>
    <variables/>
</processGroups>
<processors>
    <id>006ee252-8ec9-3bbe-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <position>
        <x>960.0</x>
        <y>552.0</y>
    </position>
    <versionedComponentId>006ee252-8ec9-3bbe-9c07-f5704c4b931a</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>HTTP Method</key>
                <value>
                    <name>HTTP Method</name>
                </value>
            </entry>
            <entry>
                <key>Remote URL</key>
                <value>
                    <name>Remote URL</name>
                </value>
            </entry>
            <entry>
                <key>disable-http2</key>
                <value>
                    <name>disable-http2</name>
                </value>
            </entry>
            <entry>
                <key>SSL Context Service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                    <name>SSL Context Service</name>
                </value>
            </entry>
            <entry>
                <key>Connection Timeout</key>
                <value>
                    <name>Connection Timeout</name>
                </value>
            </entry>
            <entry>
                <key>Read Timeout</key>
                <value>
                    <name>Read Timeout</name>
                </value>
            </entry>
            <entry>
                <key>Socket Write Timeout</key>
                <value>
                    <name>Socket Write Timeout</name>
                </value>
            </entry>
            <entry>
                <key>idle-timeout</key>
                <value>
                    <name>idle-timeout</name>
                </value>
            </entry>
            <entry>
                <key>max-idle-connections</key>
                <value>
                    <name>max-idle-connections</name>
                </value>
            </entry>
            <entry>
                <key>proxy-configuration-service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.proxy.ProxyConfigurationService</identifiesControllerService>
                    <name>proxy-configuration-service</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Host</key>
                <value>
                    <name>Proxy Host</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Port</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>Proxy Port</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Type</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>Proxy Type</name>
                </value>
            </entry>
            <entry>
                <key>invokehttp-proxy-user</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>invokehttp-proxy-user</name>
                </value>
            </entry>
            <entry>
                <key>invokehttp-proxy-password</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>invokehttp-proxy-password</name>
                </value>
            </entry>
            <entry>
                <key>oauth2-access-token-provider</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.oauth2.OAuth2AccessTokenProvider</identifiesControllerService>
                    <name>oauth2-access-token-provider</name>
                </value>
            </entry>
            <entry>
                <key>Basic Authentication Username</key>
                <value>
                    <name>Basic Authentication Username</name>
                </value>
            </entry>
            <entry>
                <key>Basic Authentication Password</key>
                <value>
                    <name>Basic Authentication Password</name>
                </value>
            </entry>
            <entry>
                <key>Digest Authentication</key>
                <value>
                    <dependencies>
                        <propertyName>Basic Authentication Username</propertyName>
                    </dependencies>
                    <name>Digest Authentication</name>
                </value>
            </entry>
            <entry>
                <key>Penalize on "No Retry"</key>
                <value>
                    <name>Penalize on "No Retry"</name>
                </value>
            </entry>
            <entry>
                <key>send-message-body</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>send-message-body</name>
                </value>
            </entry>
            <entry>
                <key>form-body-form-name</key>
                <value>
                    <dependencies>
                        <dependentValues>true</dependentValues>
                        <propertyName>send-message-body</propertyName>
                    </dependencies>
                    <name>form-body-form-name</name>
                </value>
            </entry>
            <entry>
                <key>set-form-filename</key>
                <value>
                    <dependencies>
                        <propertyName>form-body-form-name</propertyName>
                    </dependencies>
                    <name>set-form-filename</name>
                </value>
            </entry>
            <entry>
                <key>Use Chunked Encoding</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>Use Chunked Encoding</name>
                </value>
            </entry>
            <entry>
                <key>Content-Encoding</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>Content-Encoding</name>
                </value>
            </entry>
            <entry>
                <key>Content-Type</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>Content-Type</name>
                </value>
            </entry>
            <entry>
                <key>Include Date Header</key>
                <value>
                    <name>Include Date Header</name>
                </value>
            </entry>
            <entry>
                <key>Attributes to Send</key>
                <value>
                    <name>Attributes to Send</name>
                </value>
            </entry>
            <entry>
                <key>Useragent</key>
                <value>
                    <name>Useragent</name>
                </value>
            </entry>
            <entry>
                <key>Put Response Body In Attribute</key>
                <value>
                    <name>Put Response Body In Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Max Length To Put In Attribute</key>
                <value>
                    <dependencies>
                        <propertyName>Put Response Body In Attribute</propertyName>
                    </dependencies>
                    <name>Max Length To Put In Attribute</name>
                </value>
            </entry>
            <entry>
                <key>ignore-response-content</key>
                <value>
                    <name>ignore-response-content</name>
                </value>
            </entry>
            <entry>
                <key>use-etag</key>
                <value>
                    <name>use-etag</name>
                </value>
            </entry>
            <entry>
                <key>etag-max-cache-size</key>
                <value>
                    <dependencies>
                        <dependentValues>true</dependentValues>
                        <propertyName>use-etag</propertyName>
                    </dependencies>
                    <name>etag-max-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>cookie-strategy</key>
                <value>
                    <name>cookie-strategy</name>
                </value>
            </entry>
            <entry>
                <key>Always Output Response</key>
                <value>
                    <name>Always Output Response</name>
                </value>
            </entry>
            <entry>
                <key>flow-file-naming-strategy</key>
                <value>
                    <name>flow-file-naming-strategy</name>
                </value>
            </entry>
            <entry>
                <key>Add Response Headers to Request</key>
                <value>
                    <name>Add Response Headers to Request</name>
                </value>
            </entry>
            <entry>
                <key>Follow Redirects</key>
                <value>
                    <name>Follow Redirects</name>
                </value>
            </entry>
            <entry>
                <key>Authorization</key>
                <value>
                    <name>Authorization</name>
                </value>
            </entry>
            <entry>
                <key>x-business-group-id</key>
                <value>
                    <name>x-business-group-id</name>
                </value>
            </entry>
            <entry>
                <key>x-client-id</key>
                <value>
                    <name>x-client-id</name>
                </value>
            </entry>
            <entry>
                <key>x-shopify-shop-domain</key>
                <value>
                    <name>x-shopify-shop-domain</name>
                </value>
            </entry>
            <entry>
                <key>x-tenant-id</key>
                <value>
                    <name>x-tenant-id</name>
                </value>
            </entry>
            <entry>
                <key>x-trace-id</key>
                <value>
                    <name>x-trace-id</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>HTTP Method</key>
                <value>PATCH</value>
            </entry>
            <entry>
                <key>Remote URL</key>
                <value>https://api.dev.cloverbaylabs.com/nebula/product/v1/products/skus/${sku_id}/channels</value>
            </entry>
            <entry>
                <key>disable-http2</key>
                <value>False</value>
            </entry>
            <entry>
                <key>SSL Context Service</key>
            </entry>
            <entry>
                <key>Connection Timeout</key>
                <value>5 secs</value>
            </entry>
            <entry>
                <key>Read Timeout</key>
                <value>15 secs</value>
            </entry>
            <entry>
                <key>Socket Write Timeout</key>
                <value>15 secs</value>
            </entry>
            <entry>
                <key>idle-timeout</key>
                <value>5 mins</value>
            </entry>
            <entry>
                <key>max-idle-connections</key>
                <value>5</value>
            </entry>
            <entry>
                <key>proxy-configuration-service</key>
            </entry>
            <entry>
                <key>Proxy Host</key>
            </entry>
            <entry>
                <key>Proxy Port</key>
            </entry>
            <entry>
                <key>Proxy Type</key>
                <value>http</value>
            </entry>
            <entry>
                <key>invokehttp-proxy-user</key>
            </entry>
            <entry>
                <key>invokehttp-proxy-password</key>
            </entry>
            <entry>
                <key>oauth2-access-token-provider</key>
            </entry>
            <entry>
                <key>Basic Authentication Username</key>
            </entry>
            <entry>
                <key>Basic Authentication Password</key>
            </entry>
            <entry>
                <key>Digest Authentication</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Penalize on "No Retry"</key>
                <value>false</value>
            </entry>
            <entry>
                <key>send-message-body</key>
                <value>true</value>
            </entry>
            <entry>
                <key>form-body-form-name</key>
            </entry>
            <entry>
                <key>set-form-filename</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Use Chunked Encoding</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Content-Encoding</key>
                <value>DISABLED</value>
            </entry>
            <entry>
                <key>Content-Type</key>
                <value>application/json</value>
            </entry>
            <entry>
                <key>Include Date Header</key>
                <value>True</value>
            </entry>
            <entry>
                <key>Attributes to Send</key>
            </entry>
            <entry>
                <key>Useragent</key>
            </entry>
            <entry>
                <key>Put Response Body In Attribute</key>
                <value></value>
            </entry>
            <entry>
                <key>Max Length To Put In Attribute</key>
                <value>102400</value>
            </entry>
            <entry>
                <key>ignore-response-content</key>
                <value>false</value>
            </entry>
            <entry>
                <key>use-etag</key>
                <value>false</value>
            </entry>
            <entry>
                <key>etag-max-cache-size</key>
                <value>10MB</value>
            </entry>
            <entry>
                <key>cookie-strategy</key>
                <value>DISABLED</value>
            </entry>
            <entry>
                <key>Always Output Response</key>
                <value>false</value>
            </entry>
            <entry>
                <key>flow-file-naming-strategy</key>
                <value>RANDOM</value>
            </entry>
            <entry>
                <key>Add Response Headers to Request</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Follow Redirects</key>
                <value>True</value>
            </entry>
            <entry>
                <key>Authorization</key>
                <value>Bearer ${Token}</value>
            </entry>
            <entry>
                <key>x-business-group-id</key>
                <value>${businessGroupId}</value>
            </entry>
            <entry>
                <key>x-client-id</key>
                <value>backend</value>
            </entry>
            <entry>
                <key>x-shopify-shop-domain</key>
                <value>nebulacommerce.myshopify.com</value>
            </entry>
            <entry>
                <key>x-tenant-id</key>
                <value>${tenantId}</value>
            </entry>
            <entry>
                <key>x-trace-id</key>
                <value>${traceId}</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>InvokeHTTP</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>No Retry</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>Original</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Response</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Retry</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.InvokeHTTP</type>
</processors>
<processors>
    <id>0a2bb58f-30c2-3887-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <position>
        <x>960.0</x>
        <y>112.0</y>
    </position>
    <versionedComponentId>a972c22a-3ffc-3df7-ac55-7ec3587039cf</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>HTTP Method</key>
                <value>
                    <name>HTTP Method</name>
                </value>
            </entry>
            <entry>
                <key>Remote URL</key>
                <value>
                    <name>Remote URL</name>
                </value>
            </entry>
            <entry>
                <key>disable-http2</key>
                <value>
                    <name>disable-http2</name>
                </value>
            </entry>
            <entry>
                <key>SSL Context Service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                    <name>SSL Context Service</name>
                </value>
            </entry>
            <entry>
                <key>Connection Timeout</key>
                <value>
                    <name>Connection Timeout</name>
                </value>
            </entry>
            <entry>
                <key>Read Timeout</key>
                <value>
                    <name>Read Timeout</name>
                </value>
            </entry>
            <entry>
                <key>Socket Write Timeout</key>
                <value>
                    <name>Socket Write Timeout</name>
                </value>
            </entry>
            <entry>
                <key>idle-timeout</key>
                <value>
                    <name>idle-timeout</name>
                </value>
            </entry>
            <entry>
                <key>max-idle-connections</key>
                <value>
                    <name>max-idle-connections</name>
                </value>
            </entry>
            <entry>
                <key>proxy-configuration-service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.proxy.ProxyConfigurationService</identifiesControllerService>
                    <name>proxy-configuration-service</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Host</key>
                <value>
                    <name>Proxy Host</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Port</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>Proxy Port</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Type</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>Proxy Type</name>
                </value>
            </entry>
            <entry>
                <key>invokehttp-proxy-user</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>invokehttp-proxy-user</name>
                </value>
            </entry>
            <entry>
                <key>invokehttp-proxy-password</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>invokehttp-proxy-password</name>
                </value>
            </entry>
            <entry>
                <key>oauth2-access-token-provider</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.oauth2.OAuth2AccessTokenProvider</identifiesControllerService>
                    <name>oauth2-access-token-provider</name>
                </value>
            </entry>
            <entry>
                <key>Basic Authentication Username</key>
                <value>
                    <name>Basic Authentication Username</name>
                </value>
            </entry>
            <entry>
                <key>Basic Authentication Password</key>
                <value>
                    <name>Basic Authentication Password</name>
                </value>
            </entry>
            <entry>
                <key>Digest Authentication</key>
                <value>
                    <dependencies>
                        <propertyName>Basic Authentication Username</propertyName>
                    </dependencies>
                    <name>Digest Authentication</name>
                </value>
            </entry>
            <entry>
                <key>Penalize on "No Retry"</key>
                <value>
                    <name>Penalize on "No Retry"</name>
                </value>
            </entry>
            <entry>
                <key>send-message-body</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>send-message-body</name>
                </value>
            </entry>
            <entry>
                <key>form-body-form-name</key>
                <value>
                    <dependencies>
                        <dependentValues>true</dependentValues>
                        <propertyName>send-message-body</propertyName>
                    </dependencies>
                    <name>form-body-form-name</name>
                </value>
            </entry>
            <entry>
                <key>set-form-filename</key>
                <value>
                    <dependencies>
                        <propertyName>form-body-form-name</propertyName>
                    </dependencies>
                    <name>set-form-filename</name>
                </value>
            </entry>
            <entry>
                <key>Use Chunked Encoding</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>Use Chunked Encoding</name>
                </value>
            </entry>
            <entry>
                <key>Content-Encoding</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>Content-Encoding</name>
                </value>
            </entry>
            <entry>
                <key>Content-Type</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>Content-Type</name>
                </value>
            </entry>
            <entry>
                <key>Include Date Header</key>
                <value>
                    <name>Include Date Header</name>
                </value>
            </entry>
            <entry>
                <key>Attributes to Send</key>
                <value>
                    <name>Attributes to Send</name>
                </value>
            </entry>
            <entry>
                <key>Useragent</key>
                <value>
                    <name>Useragent</name>
                </value>
            </entry>
            <entry>
                <key>Put Response Body In Attribute</key>
                <value>
                    <name>Put Response Body In Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Max Length To Put In Attribute</key>
                <value>
                    <dependencies>
                        <propertyName>Put Response Body In Attribute</propertyName>
                    </dependencies>
                    <name>Max Length To Put In Attribute</name>
                </value>
            </entry>
            <entry>
                <key>ignore-response-content</key>
                <value>
                    <name>ignore-response-content</name>
                </value>
            </entry>
            <entry>
                <key>use-etag</key>
                <value>
                    <name>use-etag</name>
                </value>
            </entry>
            <entry>
                <key>etag-max-cache-size</key>
                <value>
                    <dependencies>
                        <dependentValues>true</dependentValues>
                        <propertyName>use-etag</propertyName>
                    </dependencies>
                    <name>etag-max-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>cookie-strategy</key>
                <value>
                    <name>cookie-strategy</name>
                </value>
            </entry>
            <entry>
                <key>Always Output Response</key>
                <value>
                    <name>Always Output Response</name>
                </value>
            </entry>
            <entry>
                <key>flow-file-naming-strategy</key>
                <value>
                    <name>flow-file-naming-strategy</name>
                </value>
            </entry>
            <entry>
                <key>Add Response Headers to Request</key>
                <value>
                    <name>Add Response Headers to Request</name>
                </value>
            </entry>
            <entry>
                <key>Follow Redirects</key>
                <value>
                    <name>Follow Redirects</name>
                </value>
            </entry>
            <entry>
                <key>Authorization</key>
                <value>
                    <name>Authorization</name>
                </value>
            </entry>
            <entry>
                <key>x-business-group-id</key>
                <value>
                    <name>x-business-group-id</name>
                </value>
            </entry>
            <entry>
                <key>x-client-id</key>
                <value>
                    <name>x-client-id</name>
                </value>
            </entry>
            <entry>
                <key>x-tenant-id</key>
                <value>
                    <name>x-tenant-id</name>
                </value>
            </entry>
            <entry>
                <key>x-trace-id</key>
                <value>
                    <name>x-trace-id</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>HTTP Method</key>
                <value>POST</value>
            </entry>
            <entry>
                <key>Remote URL</key>
                <value>#{product_creation_url}</value>
            </entry>
            <entry>
                <key>disable-http2</key>
                <value>False</value>
            </entry>
            <entry>
                <key>SSL Context Service</key>
            </entry>
            <entry>
                <key>Connection Timeout</key>
                <value>5 secs</value>
            </entry>
            <entry>
                <key>Read Timeout</key>
                <value>15 secs</value>
            </entry>
            <entry>
                <key>Socket Write Timeout</key>
                <value>15 secs</value>
            </entry>
            <entry>
                <key>idle-timeout</key>
                <value>5 mins</value>
            </entry>
            <entry>
                <key>max-idle-connections</key>
                <value>5</value>
            </entry>
            <entry>
                <key>proxy-configuration-service</key>
            </entry>
            <entry>
                <key>Proxy Host</key>
            </entry>
            <entry>
                <key>Proxy Port</key>
            </entry>
            <entry>
                <key>Proxy Type</key>
                <value>http</value>
            </entry>
            <entry>
                <key>invokehttp-proxy-user</key>
            </entry>
            <entry>
                <key>invokehttp-proxy-password</key>
            </entry>
            <entry>
                <key>oauth2-access-token-provider</key>
            </entry>
            <entry>
                <key>Basic Authentication Username</key>
            </entry>
            <entry>
                <key>Basic Authentication Password</key>
            </entry>
            <entry>
                <key>Digest Authentication</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Penalize on "No Retry"</key>
                <value>false</value>
            </entry>
            <entry>
                <key>send-message-body</key>
                <value>true</value>
            </entry>
            <entry>
                <key>form-body-form-name</key>
            </entry>
            <entry>
                <key>set-form-filename</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Use Chunked Encoding</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Content-Encoding</key>
                <value>DISABLED</value>
            </entry>
            <entry>
                <key>Content-Type</key>
                <value>text/csv</value>
            </entry>
            <entry>
                <key>Include Date Header</key>
                <value>True</value>
            </entry>
            <entry>
                <key>Attributes to Send</key>
            </entry>
            <entry>
                <key>Useragent</key>
            </entry>
            <entry>
                <key>Put Response Body In Attribute</key>
                <value>createProductResponse</value>
            </entry>
            <entry>
                <key>Max Length To Put In Attribute</key>
                <value>102400</value>
            </entry>
            <entry>
                <key>ignore-response-content</key>
                <value>false</value>
            </entry>
            <entry>
                <key>use-etag</key>
                <value>false</value>
            </entry>
            <entry>
                <key>etag-max-cache-size</key>
                <value>10MB</value>
            </entry>
            <entry>
                <key>cookie-strategy</key>
                <value>DISABLED</value>
            </entry>
            <entry>
                <key>Always Output Response</key>
                <value>false</value>
            </entry>
            <entry>
                <key>flow-file-naming-strategy</key>
                <value>RANDOM</value>
            </entry>
            <entry>
                <key>Add Response Headers to Request</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Follow Redirects</key>
                <value>True</value>
            </entry>
            <entry>
                <key>Authorization</key>
                <value>Bearer ${Token}</value>
            </entry>
            <entry>
                <key>x-business-group-id</key>
                <value>${businessGroupId}</value>
            </entry>
            <entry>
                <key>x-client-id</key>
                <value>backend</value>
            </entry>
            <entry>
                <key>x-tenant-id</key>
                <value>${tenantId}</value>
            </entry>
            <entry>
                <key>x-trace-id</key>
                <value>${traceId}</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Send CSV </name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>No Retry</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Original</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Response</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Retry</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.InvokeHTTP</type>
</processors>
<processors>
    <id>57019fba-d5eb-3acf-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <position>
        <x>960.0</x>
        <y>-536.0</y>
    </position>
    <versionedComponentId>a8eaa5ce-586f-3ffb-b5d3-084972cc936b</versionedComponentId>
    <bundle>
        <artifact>nifi-aws-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Queue URL</key>
                <value>
                    <name>Queue URL</name>
                </value>
            </entry>
            <entry>
                <key>Auto Delete Messages</key>
                <value>
                    <name>Auto Delete Messages</name>
                </value>
            </entry>
            <entry>
                <key>Access Key</key>
                <value>
                    <name>Access Key</name>
                </value>
            </entry>
            <entry>
                <key>Secret Key</key>
                <value>
                    <name>Secret Key</name>
                </value>
            </entry>
            <entry>
                <key>Credentials File</key>
                <value>
                    <name>Credentials File</name>
                </value>
            </entry>
            <entry>
                <key>AWS Credentials Provider service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderService</identifiesControllerService>
                    <name>AWS Credentials Provider service</name>
                </value>
            </entry>
            <entry>
                <key>SSL Context Service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                    <name>SSL Context Service</name>
                </value>
            </entry>
            <entry>
                <key>Region</key>
                <value>
                    <name>Region</name>
                </value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>
                    <name>Batch Size</name>
                </value>
            </entry>
            <entry>
                <key>Communications Timeout</key>
                <value>
                    <name>Communications Timeout</name>
                </value>
            </entry>
            <entry>
                <key>Endpoint Override URL</key>
                <value>
                    <name>Endpoint Override URL</name>
                </value>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>
                    <name>Character Set</name>
                </value>
            </entry>
            <entry>
                <key>Visibility Timeout</key>
                <value>
                    <name>Visibility Timeout</name>
                </value>
            </entry>
            <entry>
                <key>Receive Message Wait Time</key>
                <value>
                    <name>Receive Message Wait Time</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Host</key>
                <value>
                    <name>Proxy Host</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Host Port</key>
                <value>
                    <name>Proxy Host Port</name>
                </value>
            </entry>
            <entry>
                <key>proxy-user-name</key>
                <value>
                    <name>proxy-user-name</name>
                </value>
            </entry>
            <entry>
                <key>proxy-user-password</key>
                <value>
                    <name>proxy-user-password</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Queue URL</key>
                <value>#{sqs_url}</value>
            </entry>
            <entry>
                <key>Auto Delete Messages</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Access Key</key>
            </entry>
            <entry>
                <key>Secret Key</key>
            </entry>
            <entry>
                <key>Credentials File</key>
            </entry>
            <entry>
                <key>AWS Credentials Provider service</key>
            </entry>
            <entry>
                <key>SSL Context Service</key>
            </entry>
            <entry>
                <key>Region</key>
                <value>us-west-2</value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>10</value>
            </entry>
            <entry>
                <key>Communications Timeout</key>
                <value>30 secs</value>
            </entry>
            <entry>
                <key>Endpoint Override URL</key>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>Visibility Timeout</key>
                <value>15 mins</value>
            </entry>
            <entry>
                <key>Receive Message Wait Time</key>
                <value>0 sec</value>
            </entry>
            <entry>
                <key>Proxy Host</key>
            </entry>
            <entry>
                <key>Proxy Host Port</key>
            </entry>
            <entry>
                <key>proxy-user-name</key>
            </entry>
            <entry>
                <key>proxy-user-password</key>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Get from SQS</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.aws.sqs.GetSQS</type>
</processors>
<processors>
    <id>5bd41fe4-eb14-3e10-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <position>
        <x>336.0</x>
        <y>112.0</y>
    </position>
    <versionedComponentId>8b570655-d7cf-3eaf-9dbf-3ec045b9f44b</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>retry-attribute</key>
                <value>
                    <name>retry-attribute</name>
                </value>
            </entry>
            <entry>
                <key>maximum-retries</key>
                <value>
                    <name>maximum-retries</name>
                </value>
            </entry>
            <entry>
                <key>penalize-retries</key>
                <value>
                    <name>penalize-retries</name>
                </value>
            </entry>
            <entry>
                <key>Fail on Non-numerical Overwrite</key>
                <value>
                    <name>Fail on Non-numerical Overwrite</name>
                </value>
            </entry>
            <entry>
                <key>reuse-mode</key>
                <value>
                    <name>reuse-mode</name>
                </value>
            </entry>
            <entry>
                <key>Retry Interval</key>
                <value>
                    <name>Retry Interval</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>retry-attribute</key>
                <value>flowfile.retries</value>
            </entry>
            <entry>
                <key>maximum-retries</key>
                <value>3</value>
            </entry>
            <entry>
                <key>penalize-retries</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Fail on Non-numerical Overwrite</key>
                <value>false</value>
            </entry>
            <entry>
                <key>reuse-mode</key>
                <value>fail</value>
            </entry>
            <entry>
                <key>Retry Interval</key>
                <value>300000ms</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>RetryFlowFile</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>retries_exceeded</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>retry</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.RetryFlowFile</type>
</processors>
<processors>
    <id>62d000d1-0faa-3e21-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <position>
        <x>960.0</x>
        <y>776.0</y>
    </position>
    <versionedComponentId>62d000d1-0faa-3e21-ba56-3443e47bbb2f</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Log Level</key>
                <value>
                    <name>Log Level</name>
                </value>
            </entry>
            <entry>
                <key>Log Payload</key>
                <value>
                    <name>Log Payload</name>
                </value>
            </entry>
            <entry>
                <key>Attributes to Log</key>
                <value>
                    <name>Attributes to Log</name>
                </value>
            </entry>
            <entry>
                <key>attributes-to-log-regex</key>
                <value>
                    <name>attributes-to-log-regex</name>
                </value>
            </entry>
            <entry>
                <key>Attributes to Ignore</key>
                <value>
                    <name>Attributes to Ignore</name>
                </value>
            </entry>
            <entry>
                <key>attributes-to-ignore-regex</key>
                <value>
                    <name>attributes-to-ignore-regex</name>
                </value>
            </entry>
            <entry>
                <key>Log FlowFile Properties</key>
                <value>
                    <name>Log FlowFile Properties</name>
                </value>
            </entry>
            <entry>
                <key>Output Format</key>
                <value>
                    <name>Output Format</name>
                </value>
            </entry>
            <entry>
                <key>Log prefix</key>
                <value>
                    <name>Log prefix</name>
                </value>
            </entry>
            <entry>
                <key>character-set</key>
                <value>
                    <name>character-set</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Log Level</key>
                <value>info</value>
            </entry>
            <entry>
                <key>Log Payload</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Attributes to Log</key>
            </entry>
            <entry>
                <key>attributes-to-log-regex</key>
                <value>.*</value>
            </entry>
            <entry>
                <key>Attributes to Ignore</key>
            </entry>
            <entry>
                <key>attributes-to-ignore-regex</key>
            </entry>
            <entry>
                <key>Log FlowFile Properties</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Output Format</key>
                <value>Line per Attribute</value>
            </entry>
            <entry>
                <key>Log prefix</key>
            </entry>
            <entry>
                <key>character-set</key>
                <value>UTF-8</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>25</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>LogAttribute</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogAttribute</type>
</processors>
<processors>
    <id>7165ab5b-af34-38ef-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <position>
        <x>960.0</x>
        <y>-320.0</y>
    </position>
    <versionedComponentId>fc850b58-5f48-33a7-b4ad-b06a7d5d319a</versionedComponentId>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>businessGroupId</key>
                <value>
                    <name>businessGroupId</name>
                </value>
            </entry>
            <entry>
                <key>entityType</key>
                <value>
                    <name>entityType</name>
                </value>
            </entry>
            <entry>
                <key>eventType</key>
                <value>
                    <name>eventType</name>
                </value>
            </entry>
            <entry>
                <key>tenantId</key>
                <value>
                    <name>tenantId</name>
                </value>
            </entry>
            <entry>
                <key>traceId</key>
                <value>
                    <name>traceId</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>businessGroupId</key>
                <value>${sqs.businessGroupId}</value>
            </entry>
            <entry>
                <key>entityType</key>
                <value>${sqs.entityType}</value>
            </entry>
            <entry>
                <key>eventType</key>
                <value>${sqs.eventType}</value>
            </entry>
            <entry>
                <key>tenantId</key>
                <value>${sqs.tenantId}</value>
            </entry>
            <entry>
                <key>traceId</key>
                <value>${sqs.traceId}</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>25</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>a3ce5052-8a2f-36b0-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <position>
        <x>360.0</x>
        <y>544.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>retry-attribute</key>
                <value>
                    <name>retry-attribute</name>
                </value>
            </entry>
            <entry>
                <key>maximum-retries</key>
                <value>
                    <name>maximum-retries</name>
                </value>
            </entry>
            <entry>
                <key>penalize-retries</key>
                <value>
                    <name>penalize-retries</name>
                </value>
            </entry>
            <entry>
                <key>Fail on Non-numerical Overwrite</key>
                <value>
                    <name>Fail on Non-numerical Overwrite</name>
                </value>
            </entry>
            <entry>
                <key>reuse-mode</key>
                <value>
                    <name>reuse-mode</name>
                </value>
            </entry>
            <entry>
                <key>Retry Interval</key>
                <value>
                    <name>Retry Interval</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>retry-attribute</key>
                <value>flowfile.retries</value>
            </entry>
            <entry>
                <key>maximum-retries</key>
                <value>3</value>
            </entry>
            <entry>
                <key>penalize-retries</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Fail on Non-numerical Overwrite</key>
                <value>false</value>
            </entry>
            <entry>
                <key>reuse-mode</key>
                <value>fail</value>
            </entry>
            <entry>
                <key>Retry Interval</key>
                <value>300000ms</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>RetryFlowFile</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>retries_exceeded</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>retry</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.RetryFlowFile</type>
</processors>
<processors>
    <id>c014f6ec-5d8c-372a-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <position>
        <x>960.0</x>
        <y>-112.0</y>
    </position>
    <versionedComponentId>20bfc847-0f6b-3a5c-93ef-8016e35452a5</versionedComponentId>
    <bundle>
        <artifact>nifi-scripting-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Script Engine</key>
                <value>
                    <name>Script Engine</name>
                </value>
            </entry>
            <entry>
                <key>Script File</key>
                <value>
                    <name>Script File</name>
                </value>
            </entry>
            <entry>
                <key>Script Body</key>
                <value>
                    <name>Script Body</name>
                </value>
            </entry>
            <entry>
                <key>Module Directory</key>
                <value>
                    <name>Module Directory</name>
                </value>
            </entry>
            <entry>
                <key>api_token_url</key>
                <value>
                    <name>api_token_url</name>
                </value>
            </entry>
            <entry>
                <key>clientsecretrmg</key>
                <value>
                    <name>clientsecretrmg</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Script Engine</key>
                <value>Groovy</value>
            </entry>
            <entry>
                <key>Script File</key>
            </entry>
            <entry>
                <key>Script Body</key>
                <value>import java.net.HttpURLConnection
import java.net.URL
import java.nio.charset.StandardCharsets
import groovy.json.JsonSlurper
import groovy.json.JsonOutput
 
def flowFile = session.get()
if (flowFile != null) {
    try {
        // Extract required attributes from the flow file
        def tenantId = flowFile.getAttribute('tenantId')
        def businessGroupId = flowFile.getAttribute('businessGroupId')
 
        if (!tenantId || !businessGroupId) {
            log.error("Missing required attributes (tenantId, businessGroupId)")
            flowFile = session.putAttribute(flowFile, 'error', 'Missing required attributes')
            session.transfer(flowFile, REL_FAILURE)
            return
        }
       
        // Key for state management based on tenantId
        def stateKeyToken = "access_token_${tenantId}"
        def stateKeyExpiry = "token_expiry_${tenantId}"
       
        // Retrieve state (token and its expiry)
        def stateMap = context.getStateManager().getState(org.apache.nifi.components.state.Scope.CLUSTER).toMap()
        def accessToken = stateMap[stateKeyToken]
        def tokenExpiry = stateMap[stateKeyExpiry] ? Long.parseLong(stateMap[stateKeyExpiry]) : 0
        def currentTime = System.currentTimeMillis() / 1000
 
        // Check if token exists and is still valid (add some buffer time, e.g., 60 seconds)
        if (accessToken &amp;&amp; currentTime &lt; (tokenExpiry - 60)) {
            log.info("Using cached token for tenantId: ${tenantId}")
        } else {
            // Retrieve the client secret from the Parameter Context based on tenantId.
            def clientSecretPropertyName = "clientsecret${tenantId}"
            def clientSecret = context.getProperty(clientSecretPropertyName)?.evaluateAttributeExpressions()?.getValue()
           
            if (!clientSecret) {
                log.error("Missing client secret for tenantId: ${tenantId}")
                flowFile = session.putAttribute(flowFile, 'error', 'Missing client secret')
                session.transfer(flowFile, REL_FAILURE)
                return
            }
           
            def apiUrl = context.getProperty("api_token_url")?.evaluateAttributeExpressions()?.getValue()
           
            // Create JSON payload dynamically with the client secret retrieved
            def payloadJson = JsonOutput.toJson([
                client_secret: clientSecret,
                grant_type   : "client_credentials"
            ])
           
            // Make the POST request
            def connection = new URL(apiUrl).openConnection() as HttpURLConnection
            connection.requestMethod = 'POST'
            connection.setRequestProperty("x-tenant-id", tenantId)
            connection.setRequestProperty("x-client-id", "backend")
            connection.setRequestProperty("x-trace-id", UUID.randomUUID().toString()) // Generate unique trace ID
            connection.setRequestProperty("x-business-group-id", businessGroupId)
            connection.setRequestProperty("Content-Type", "application/json")
            connection.setRequestProperty("Accept", "application/json")
            connection.doOutput = true
           
            // Write the JSON payload to the request output stream
            try (def writer = new java.io.DataOutputStream(connection.outputStream)) {
                writer.write(payloadJson.getBytes(StandardCharsets.UTF_8))
            }
           
            // Read the response
            def responseCode = connection.responseCode
            def responseBody = responseCode == HttpURLConnection.HTTP_OK ? connection.inputStream.text : connection.errorStream.text
            connection.disconnect()
           
            // Parse the response and extract attributes
            def jsonResponse = new JsonSlurper().parseText(responseBody)
           
            if (jsonResponse.access_token) {
                accessToken = jsonResponse.access_token
                // Set token expiry. 'expires_in' is given in seconds.
                tokenExpiry = currentTime + jsonResponse.expires_in as long
               
                // Update state with the new token and its expiry
                def newState = [:]
                newState[stateKeyToken] = accessToken
                newState[stateKeyExpiry] = tokenExpiry.toString()
                context.getStateManager().setState(newState, org.apache.nifi.components.state.Scope.CLUSTER)
               
                log.info("Retrieved and cached new token for tenantId: ${tenantId}")
            } else {
                log.error("Access token not found in the response for tenantId: ${tenantId}. Response: ${responseBody}")
                flowFile = session.putAttribute(flowFile, 'error', 'Access token not found')
                session.transfer(flowFile, REL_FAILURE)
                return
            }
        }
       
        // Set the token as an attribute in the flow file for downstream use
        flowFile = session.putAttribute(flowFile, 'Token', accessToken)
        session.transfer(flowFile, REL_SUCCESS)
   
    } catch (Exception e) {
        log.error("Something went wrong for tenantId: ${flowFile.getAttribute('tenantId')}", e)
        flowFile = session.putAttribute(flowFile, 'error', 'true')
        session.transfer(flowFile, REL_FAILURE)
    }
}</value>
            </entry>
            <entry>
                <key>Module Directory</key>
            </entry>
            <entry>
                <key>api_token_url</key>
                <value>#{api_token_url}</value>
            </entry>
            <entry>
                <key>clientsecretrmg</key>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Get API token</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.script.ExecuteScript</type>
</processors>
<processors>
    <id>d4ea8540-6885-3c97-0000-000000000000</id>
    <parentGroupId>13ef3bb1-2ae0-3c17-0000-000000000000</parentGroupId>
    <position>
        <x>960.0</x>
        <y>344.0</y>
    </position>
    <versionedComponentId>d4ea8540-6885-3c97-b6ea-49a5b17b1962</versionedComponentId>
    <bundle>
        <artifact>nifi-scripting-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Script Engine</key>
                <value>
                    <name>Script Engine</name>
                </value>
            </entry>
            <entry>
                <key>Script File</key>
                <value>
                    <name>Script File</name>
                </value>
            </entry>
            <entry>
                <key>Script Body</key>
                <value>
                    <name>Script Body</name>
                </value>
            </entry>
            <entry>
                <key>Module Directory</key>
                <value>
                    <name>Module Directory</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Script Engine</key>
                <value>Groovy</value>
            </entry>
            <entry>
                <key>Script File</key>
            </entry>
            <entry>
                <key>Script Body</key>
                <value>import org.apache.nifi.processor.io.StreamCallback  
import org.apache.nifi.processor.io.OutputStreamCallback
import org.apache.nifi.processor.io.InputStreamCallback
import org.apache.commons.io.IOUtils
import groovy.json.JsonSlurper
import groovy.json.JsonOutput
import java.nio.charset.StandardCharsets

// Get the incoming FlowFile
flowFile = session.get()
if (!flowFile) return

try {
    // --- 1. Parse the filteredPayload attribute for channel details and variants ---
    def filteredPayload = flowFile.getAttribute("filteredPayload")
    if (!filteredPayload) {
        throw new Exception("Missing filteredPayload attribute")
    }
    def flowJson = new JsonSlurper().parseText(filteredPayload)
    
    // --- 2. Parse the createProductResponse attribute and build a SKU map ---
    def createProductResponseAttr = flowFile.getAttribute("createProductResponse")
    if (!createProductResponseAttr) {
        throw new Exception("Missing createProductResponse attribute")
    }
    def createResponseJson = new JsonSlurper().parseText(createProductResponseAttr)
    
    // The top-level 'id' is the product_id (common for all variants)
    // def productId = createResponseJson.id
    
    // // Build a map from SKU -&gt; [ variantId, inventoryId ]
    // def variantMap = [:]
    // def edges = createResponseJson.variants?.edges
    // if (edges instanceof List) {
    //     edges.each { edge -&gt;
    //         def node = edge.node
    //         def sku = node.sku
    //         if (sku) {
    //             variantMap[sku] = [ 
    //                 variantId: node.id, 
    //                 inventoryId: node.inventory_details?.id
    //             ]
    //         }
    //     }
    // }

    
    // --- 3. Iterate over each variant in the filteredPayload and lookup by SKU ---
    if (flowJson.variants instanceof List) {
        flowJson.variants.each { variant -&gt;
            def newFlowFile = null
            try {
                def skuFlow = variant.sku_id
                // def match = variantMap[skuFlow]
                
                if (skuFlow) {
                    // --- 4. Process all channel data for the variant ---
                    def updatedChannels = []
                    
                    // Check if variant.channels is a List
                    if (variant.channels instanceof List) {
                        variant.channels.each { ch -&gt;
                            if (ch.channel_name == "RIPLEY") {
                                // Update only the RIPLEY channel with additional_attributes
                                updatedChannels &lt;&lt; [
                                    channel_id:   ch.channel_id,
                                    country_code: ch.country_code,
                                    channel_type: ch.channel_type,
                                    channel_name: ch.channel_name,
                                    is_active:    ch.is_active != null ? ch.is_active.toString() : "false",
                                    additional_attributes: [
                                        // [ name: "product_id",   value: productId ],
                                        // [ name: "variant_id",   value: match.variantId ],
                                        // [ name: "inventory_id", value: match.inventoryId ],
                                        // [name: "is_product_published",      value: false],
                                        // [name: "inventory_active_at_node",  value: false]
                                    ]
                                ]
                            } else {
                                // Keep the channel unchanged
                                updatedChannels &lt;&lt; ch
                            }
                        }
                    } else {
                        // If channels is not a list, use it as is (or initialize as an empty list)
                        updatedChannels = variant.channels ? [ variant.channels ] : []
                    }
                    
                    // --- 5. Build the update API payload using the updated channels ---
                    def updateRequest = [ channels: updatedChannels ]
                    
                    // --- 6. Create a new FlowFile for this variant's update payload ---
                    newFlowFile = session.create(flowFile)
                    newFlowFile = session.write(newFlowFile, { outputStream -&gt;
                        outputStream.write(JsonOutput.toJson(updateRequest).getBytes(StandardCharsets.UTF_8))
                    } as OutputStreamCallback)
                    
                    newFlowFile = session.putAttribute(newFlowFile, "sku_id", skuFlow)
                    session.transfer(newFlowFile, REL_SUCCESS)
                    
                } else {
                    log.warn("No matching SKU found in createProductResponse for SKU: " + skuFlow)
                }
            } catch (Exception innerEx) {
                log.error("Error processing variant with SKU: " + variant?.sku_id, innerEx)
                if (newFlowFile != null) {
                    session.remove(newFlowFile)
                }
            }
        }
    } else {
        throw new Exception("No variants found in filteredPayload")
    }
    
    // Remove the original FlowFile after processing all variants successfully
    session.remove(flowFile)
    
} catch (Exception e) {
    log.error("Error processing update payloads", e)
    flowFile = session.putAttribute(flowFile, "error", "true")
    session.transfer(flowFile, REL_FAILURE)
}</value>
            </entry>
            <entry>
                <key>Module Directory</key>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>ExecuteScript</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.script.ExecuteScript</type>
</processors>
                            </contents>
                            <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                            <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                            <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                            <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                            <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                            <logFileSuffix></logFileSuffix>
                            <name>Get from SQS - product creation</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>839d9d6b-9c0d-3cd6-0000-000000000000</id>
                            <parentGroupId>facd6c3f-6d37-3efc-0000-000000000000</parentGroupId>
                            <position>
<x>24.0</x>
<y>-384.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>1f103679-df09-3620-0000-000000000000</id>
    <parentGroupId>839d9d6b-9c0d-3cd6-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>839d9d6b-9c0d-3cd6-0000-000000000000</groupId>
        <id>00258ee1-e02b-3ac2-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <source>
        <groupId>839d9d6b-9c0d-3cd6-0000-000000000000</groupId>
        <id>97134f92-1301-3957-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>a3ae67e5-3ac7-3c23-0000-000000000000</id>
    <parentGroupId>839d9d6b-9c0d-3cd6-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>839d9d6b-9c0d-3cd6-0000-000000000000</groupId>
        <id>b7af8498-343e-3ae8-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>839d9d6b-9c0d-3cd6-0000-000000000000</groupId>
        <id>f8551293-f9ca-372f-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>d0afbf6d-961c-3d26-0000-000000000000</id>
    <parentGroupId>839d9d6b-9c0d-3cd6-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>839d9d6b-9c0d-3cd6-0000-000000000000</groupId>
        <id>00258ee1-e02b-3ac2-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <source>
        <groupId>839d9d6b-9c0d-3cd6-0000-000000000000</groupId>
        <id>b7af8498-343e-3ae8-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>e63db5e2-a8a5-386f-0000-000000000000</id>
    <parentGroupId>839d9d6b-9c0d-3cd6-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>839d9d6b-9c0d-3cd6-0000-000000000000</groupId>
        <id>97134f92-1301-3957-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>839d9d6b-9c0d-3cd6-0000-000000000000</groupId>
        <id>f8551293-f9ca-372f-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>f8551293-f9ca-372f-0000-000000000000</id>
    <parentGroupId>839d9d6b-9c0d-3cd6-0000-000000000000</parentGroupId>
    <position>
        <x>368.0</x>
        <y>-192.0</y>
    </position>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>failure</name>
    <state>STOPPED</state>
    <type>INPUT_PORT</type>
</inputPorts>
<processors>
    <id>00258ee1-e02b-3ac2-0000-000000000000</id>
    <parentGroupId>839d9d6b-9c0d-3cd6-0000-000000000000</parentGroupId>
    <position>
        <x>288.0</x>
        <y>168.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Log Level</key>
                <value>
                    <name>Log Level</name>
                </value>
            </entry>
            <entry>
                <key>Log Payload</key>
                <value>
                    <name>Log Payload</name>
                </value>
            </entry>
            <entry>
                <key>Attributes to Log</key>
                <value>
                    <name>Attributes to Log</name>
                </value>
            </entry>
            <entry>
                <key>attributes-to-log-regex</key>
                <value>
                    <name>attributes-to-log-regex</name>
                </value>
            </entry>
            <entry>
                <key>Attributes to Ignore</key>
                <value>
                    <name>Attributes to Ignore</name>
                </value>
            </entry>
            <entry>
                <key>attributes-to-ignore-regex</key>
                <value>
                    <name>attributes-to-ignore-regex</name>
                </value>
            </entry>
            <entry>
                <key>Log FlowFile Properties</key>
                <value>
                    <name>Log FlowFile Properties</name>
                </value>
            </entry>
            <entry>
                <key>Output Format</key>
                <value>
                    <name>Output Format</name>
                </value>
            </entry>
            <entry>
                <key>Log prefix</key>
                <value>
                    <name>Log prefix</name>
                </value>
            </entry>
            <entry>
                <key>character-set</key>
                <value>
                    <name>character-set</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Log Level</key>
                <value>info</value>
            </entry>
            <entry>
                <key>Log Payload</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Attributes to Log</key>
            </entry>
            <entry>
                <key>attributes-to-log-regex</key>
                <value>.*</value>
            </entry>
            <entry>
                <key>Attributes to Ignore</key>
            </entry>
            <entry>
                <key>attributes-to-ignore-regex</key>
            </entry>
            <entry>
                <key>Log FlowFile Properties</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Output Format</key>
                <value>Line per Attribute</value>
            </entry>
            <entry>
                <key>Log prefix</key>
            </entry>
            <entry>
                <key>character-set</key>
                <value>UTF-8</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>25</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>LogAttribute</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogAttribute</type>
</processors>
<processors>
    <id>97134f92-1301-3957-0000-000000000000</id>
    <parentGroupId>839d9d6b-9c0d-3cd6-0000-000000000000</parentGroupId>
    <position>
        <x>16.0</x>
        <y>-72.0</y>
    </position>
    <bundle>
        <artifact>nifi-kafka-2-6-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>bootstrap.servers</key>
                <value>
                    <name>bootstrap.servers</name>
                </value>
            </entry>
            <entry>
                <key>topic</key>
                <value>
                    <name>topic</name>
                </value>
            </entry>
            <entry>
                <key>use-transactions</key>
                <value>
                    <name>use-transactions</name>
                </value>
            </entry>
            <entry>
                <key>transactional-id-prefix</key>
                <value>
                    <dependencies>
                        <dependentValues>true</dependentValues>
                        <propertyName>use-transactions</propertyName>
                    </dependencies>
                    <name>transactional-id-prefix</name>
                </value>
            </entry>
            <entry>
                <key>message-demarcator</key>
                <value>
                    <name>message-demarcator</name>
                </value>
            </entry>
            <entry>
                <key>Failure Strategy</key>
                <value>
                    <name>Failure Strategy</name>
                </value>
            </entry>
            <entry>
                <key>acks</key>
                <value>
                    <name>acks</name>
                </value>
            </entry>
            <entry>
                <key>attribute-name-regex</key>
                <value>
                    <name>attribute-name-regex</name>
                </value>
            </entry>
            <entry>
                <key>message-header-encoding</key>
                <value>
                    <name>message-header-encoding</name>
                </value>
            </entry>
            <entry>
                <key>security.protocol</key>
                <value>
                    <name>security.protocol</name>
                </value>
            </entry>
            <entry>
                <key>sasl.mechanism</key>
                <value>
                    <name>sasl.mechanism</name>
                </value>
            </entry>
            <entry>
                <key>kerberos-credentials-service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.kerberos.KerberosCredentialsService</identifiesControllerService>
                    <name>kerberos-credentials-service</name>
                </value>
            </entry>
            <entry>
                <key>kerberos-user-service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.kerberos.SelfContainedKerberosUserService</identifiesControllerService>
                    <name>kerberos-user-service</name>
                </value>
            </entry>
            <entry>
                <key>sasl.kerberos.service.name</key>
                <value>
                    <name>sasl.kerberos.service.name</name>
                </value>
            </entry>
            <entry>
                <key>sasl.kerberos.principal</key>
                <value>
                    <name>sasl.kerberos.principal</name>
                </value>
            </entry>
            <entry>
                <key>sasl.kerberos.keytab</key>
                <value>
                    <name>sasl.kerberos.keytab</name>
                </value>
            </entry>
            <entry>
                <key>sasl.username</key>
                <value>
                    <dependencies>
                        <dependentValues>PLAIN</dependentValues>
                        <dependentValues>SCRAM-SHA-512</dependentValues>
                        <dependentValues>SCRAM-SHA-256</dependentValues>
                        <propertyName>sasl.mechanism</propertyName>
                    </dependencies>
                    <name>sasl.username</name>
                </value>
            </entry>
            <entry>
                <key>sasl.password</key>
                <value>
                    <dependencies>
                        <dependentValues>PLAIN</dependentValues>
                        <dependentValues>SCRAM-SHA-512</dependentValues>
                        <dependentValues>SCRAM-SHA-256</dependentValues>
                        <propertyName>sasl.mechanism</propertyName>
                    </dependencies>
                    <name>sasl.password</name>
                </value>
            </entry>
            <entry>
                <key>aws.profile.name</key>
                <value>
                    <dependencies>
                        <dependentValues>AWS_MSK_IAM</dependentValues>
                        <propertyName>sasl.mechanism</propertyName>
                    </dependencies>
                    <name>aws.profile.name</name>
                </value>
            </entry>
            <entry>
                <key>sasl.token.auth</key>
                <value>
                    <dependencies>
                        <dependentValues>SCRAM-SHA-512</dependentValues>
                        <dependentValues>SCRAM-SHA-256</dependentValues>
                        <propertyName>sasl.mechanism</propertyName>
                    </dependencies>
                    <name>sasl.token.auth</name>
                </value>
            </entry>
            <entry>
                <key>ssl.context.service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                    <name>ssl.context.service</name>
                </value>
            </entry>
            <entry>
                <key>kafka-key</key>
                <value>
                    <name>kafka-key</name>
                </value>
            </entry>
            <entry>
                <key>key-attribute-encoding</key>
                <value>
                    <name>key-attribute-encoding</name>
                </value>
            </entry>
            <entry>
                <key>max.request.size</key>
                <value>
                    <name>max.request.size</name>
                </value>
            </entry>
            <entry>
                <key>ack.wait.time</key>
                <value>
                    <name>ack.wait.time</name>
                </value>
            </entry>
            <entry>
                <key>max.block.ms</key>
                <value>
                    <name>max.block.ms</name>
                </value>
            </entry>
            <entry>
                <key>partitioner.class</key>
                <value>
                    <name>partitioner.class</name>
                </value>
            </entry>
            <entry>
                <key>partition</key>
                <value>
                    <name>partition</name>
                </value>
            </entry>
            <entry>
                <key>compression.type</key>
                <value>
                    <name>compression.type</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>bootstrap.servers</key>
                <value>#{kafka_broker}</value>
            </entry>
            <entry>
                <key>topic</key>
                <value>#{kafka_failed_topic}</value>
            </entry>
            <entry>
                <key>use-transactions</key>
                <value>false</value>
            </entry>
            <entry>
                <key>transactional-id-prefix</key>
                <value>trans</value>
            </entry>
            <entry>
                <key>message-demarcator</key>
            </entry>
            <entry>
                <key>Failure Strategy</key>
                <value>Route to Failure</value>
            </entry>
            <entry>
                <key>acks</key>
                <value>all</value>
            </entry>
            <entry>
                <key>attribute-name-regex</key>
            </entry>
            <entry>
                <key>message-header-encoding</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>security.protocol</key>
                <value>PLAINTEXT</value>
            </entry>
            <entry>
                <key>sasl.mechanism</key>
                <value>GSSAPI</value>
            </entry>
            <entry>
                <key>kerberos-credentials-service</key>
            </entry>
            <entry>
                <key>kerberos-user-service</key>
            </entry>
            <entry>
                <key>sasl.kerberos.service.name</key>
            </entry>
            <entry>
                <key>sasl.kerberos.principal</key>
            </entry>
            <entry>
                <key>sasl.kerberos.keytab</key>
            </entry>
            <entry>
                <key>sasl.username</key>
            </entry>
            <entry>
                <key>sasl.password</key>
            </entry>
            <entry>
                <key>aws.profile.name</key>
            </entry>
            <entry>
                <key>sasl.token.auth</key>
                <value>false</value>
            </entry>
            <entry>
                <key>ssl.context.service</key>
            </entry>
            <entry>
                <key>kafka-key</key>
            </entry>
            <entry>
                <key>key-attribute-encoding</key>
                <value>utf-8</value>
            </entry>
            <entry>
                <key>max.request.size</key>
                <value>1 MB</value>
            </entry>
            <entry>
                <key>ack.wait.time</key>
                <value>30 secs</value>
            </entry>
            <entry>
                <key>max.block.ms</key>
                <value>30 sec</value>
            </entry>
            <entry>
                <key>partitioner.class</key>
                <value>org.apache.kafka.clients.producer.internals.DefaultPartitioner</value>
            </entry>
            <entry>
                <key>partition</key>
                <value>0</value>
            </entry>
            <entry>
                <key>compression.type</key>
                <value>gzip</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>FailedPublishKafka</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6</type>
</processors>
<processors>
    <id>b7af8498-343e-3ae8-0000-000000000000</id>
    <parentGroupId>839d9d6b-9c0d-3cd6-0000-000000000000</parentGroupId>
    <position>
        <x>640.0</x>
        <y>-64.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Database Connection Pooling Service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.dbcp.DBCPService</identifiesControllerService>
                    <name>Database Connection Pooling Service</name>
                </value>
            </entry>
            <entry>
                <key>sql-pre-query</key>
                <value>
                    <name>sql-pre-query</name>
                </value>
            </entry>
            <entry>
                <key>SQL select query</key>
                <value>
                    <name>SQL select query</name>
                </value>
            </entry>
            <entry>
                <key>sql-post-query</key>
                <value>
                    <name>sql-post-query</name>
                </value>
            </entry>
            <entry>
                <key>Max Wait Time</key>
                <value>
                    <name>Max Wait Time</name>
                </value>
            </entry>
            <entry>
                <key>dbf-normalize</key>
                <value>
                    <name>dbf-normalize</name>
                </value>
            </entry>
            <entry>
                <key>dbf-user-logical-types</key>
                <value>
                    <name>dbf-user-logical-types</name>
                </value>
            </entry>
            <entry>
                <key>compression-format</key>
                <value>
                    <name>compression-format</name>
                </value>
            </entry>
            <entry>
                <key>dbf-default-precision</key>
                <value>
                    <name>dbf-default-precision</name>
                </value>
            </entry>
            <entry>
                <key>dbf-default-scale</key>
                <value>
                    <name>dbf-default-scale</name>
                </value>
            </entry>
            <entry>
                <key>esql-max-rows</key>
                <value>
                    <name>esql-max-rows</name>
                </value>
            </entry>
            <entry>
                <key>esql-output-batch-size</key>
                <value>
                    <name>esql-output-batch-size</name>
                </value>
            </entry>
            <entry>
                <key>esql-fetch-size</key>
                <value>
                    <name>esql-fetch-size</name>
                </value>
            </entry>
            <entry>
                <key>esql-auto-commit</key>
                <value>
                    <name>esql-auto-commit</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Database Connection Pooling Service</key>
                <value>480b2bf7-beb4-30ac-0000-000000000000</value>
            </entry>
            <entry>
                <key>sql-pre-query</key>
            </entry>
            <entry>
                <key>SQL select query</key>
                <value>UPDATE file_processing_log SET updated_at = '${now():format("yyyy-MM-dd HH:mm:ss")}', updated_by = 'nifi', status = '${status}', error_message ='${invokehttp.status.message}' WHERE order_no = '${orderNumber}' AND application = 'ejje-nebula-forward-order-creation';</value>
            </entry>
            <entry>
                <key>sql-post-query</key>
            </entry>
            <entry>
                <key>Max Wait Time</key>
                <value>0 seconds</value>
            </entry>
            <entry>
                <key>dbf-normalize</key>
                <value>false</value>
            </entry>
            <entry>
                <key>dbf-user-logical-types</key>
                <value>false</value>
            </entry>
            <entry>
                <key>compression-format</key>
                <value>NONE</value>
            </entry>
            <entry>
                <key>dbf-default-precision</key>
                <value>10</value>
            </entry>
            <entry>
                <key>dbf-default-scale</key>
                <value>0</value>
            </entry>
            <entry>
                <key>esql-max-rows</key>
                <value>0</value>
            </entry>
            <entry>
                <key>esql-output-batch-size</key>
                <value>0</value>
            </entry>
            <entry>
                <key>esql-fetch-size</key>
                <value>0</value>
            </entry>
            <entry>
                <key>esql-auto-commit</key>
                <value>true</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>ExecuteSQL</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ExecuteSQL</type>
</processors>
                            </contents>
                            <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                            <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                            <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                            <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                            <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                            <logFileSuffix></logFileSuffix>
                            <name>Failure logging and publishing</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>9dda6cce-ba70-3dee-0000-000000000000</id>
                            <parentGroupId>facd6c3f-6d37-3efc-0000-000000000000</parentGroupId>
                            <position>
<x>960.0</x>
<y>1024.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>183774cb-5ef4-3b4e-0000-000000000000</id>
    <parentGroupId>9dda6cce-ba70-3dee-0000-000000000000</parentGroupId>
    <versionedComponentId>cddeaf42-7b97-38c6-b3b1-e033dd3727b3</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>9dda6cce-ba70-3dee-0000-000000000000</groupId>
        <id>b9366b94-0630-37ff-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>62d000d1-0faa-3e21-ba56-3443e47bbb2f</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>Response</selectedRelationships>
    <source>
        <groupId>9dda6cce-ba70-3dee-0000-000000000000</groupId>
        <id>04340d7e-f4dc-3db3-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>006ee252-8ec9-3bbe-9c07-f5704c4b931a</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>5be8e7fe-d995-36c6-0000-000000000000</id>
    <parentGroupId>9dda6cce-ba70-3dee-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>9dda6cce-ba70-3dee-0000-000000000000</groupId>
        <id>85db33a5-43a3-3a1d-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>Retry</selectedRelationships>
    <source>
        <groupId>9dda6cce-ba70-3dee-0000-000000000000</groupId>
        <id>04340d7e-f4dc-3db3-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>006ee252-8ec9-3bbe-9c07-f5704c4b931a</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>68813ae7-5def-3054-0000-000000000000</id>
    <parentGroupId>9dda6cce-ba70-3dee-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>aa49c2a7-0628-3756-0000-000000000000</groupId>
        <id>2c4636e5-4c91-3d17-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <source>
        <groupId>9dda6cce-ba70-3dee-0000-000000000000</groupId>
        <id>6eee3da0-29f1-3d75-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>20bfc847-0f6b-3a5c-93ef-8016e35452a5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>69c2f8af-6b54-3f8f-0000-000000000000</id>
    <parentGroupId>9dda6cce-ba70-3dee-0000-000000000000</parentGroupId>
    <versionedComponentId>d80a8ba4-7ffe-30d4-8681-3a53744b9c8e</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>9dda6cce-ba70-3dee-0000-000000000000</groupId>
        <id>62e565df-7423-33e9-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>fc850b58-5f48-33a7-b4ad-b06a7d5d319a</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>9dda6cce-ba70-3dee-0000-000000000000</groupId>
        <id>a8096ff8-11ef-3f66-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>a8eaa5ce-586f-3ffb-b5d3-084972cc936b</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>856fe2d3-850f-3a83-0000-000000000000</id>
    <parentGroupId>9dda6cce-ba70-3dee-0000-000000000000</parentGroupId>
    <versionedComponentId>b64bcc70-b9c0-3941-b4b3-9366b6ef8d73</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>9dda6cce-ba70-3dee-0000-000000000000</groupId>
        <id>6eee3da0-29f1-3d75-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>20bfc847-0f6b-3a5c-93ef-8016e35452a5</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>9dda6cce-ba70-3dee-0000-000000000000</groupId>
        <id>62e565df-7423-33e9-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>fc850b58-5f48-33a7-b4ad-b06a7d5d319a</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>bff96520-9f8b-34d2-0000-000000000000</id>
    <parentGroupId>9dda6cce-ba70-3dee-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>670fa110-4638-3db9-0000-000000000000</groupId>
        <id>cc3601e8-68b9-35c3-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>Failure</selectedRelationships>
    <selectedRelationships>No Retry</selectedRelationships>
    <source>
        <groupId>9dda6cce-ba70-3dee-0000-000000000000</groupId>
        <id>04340d7e-f4dc-3db3-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>006ee252-8ec9-3bbe-9c07-f5704c4b931a</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>cb73206a-682a-3b2f-0000-000000000000</id>
    <parentGroupId>9dda6cce-ba70-3dee-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>aa49c2a7-0628-3756-0000-000000000000</groupId>
        <id>2c4636e5-4c91-3d17-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>retries_exceeded</selectedRelationships>
    <source>
        <groupId>9dda6cce-ba70-3dee-0000-000000000000</groupId>
        <id>85db33a5-43a3-3a1d-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>e1453122-43a4-36a4-0000-000000000000</id>
    <parentGroupId>9dda6cce-ba70-3dee-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>9dda6cce-ba70-3dee-0000-000000000000</groupId>
        <id>04340d7e-f4dc-3db3-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>006ee252-8ec9-3bbe-9c07-f5704c4b931a</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>9dda6cce-ba70-3dee-0000-000000000000</groupId>
        <id>6eee3da0-29f1-3d75-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>20bfc847-0f6b-3a5c-93ef-8016e35452a5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>f154b2db-a938-3023-0000-000000000000</id>
    <parentGroupId>9dda6cce-ba70-3dee-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>816.0</x>
        <y>232.0</y>
    </bends>
    <destination>
        <groupId>9dda6cce-ba70-3dee-0000-000000000000</groupId>
        <id>04340d7e-f4dc-3db3-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>006ee252-8ec9-3bbe-9c07-f5704c4b931a</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>retry</selectedRelationships>
    <source>
        <groupId>9dda6cce-ba70-3dee-0000-000000000000</groupId>
        <id>85db33a5-43a3-3a1d-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<processGroups>
    <id>670fa110-4638-3db9-0000-000000000000</id>
    <parentGroupId>9dda6cce-ba70-3dee-0000-000000000000</parentGroupId>
    <position>
        <x>1560.0</x>
        <y>80.0</y>
    </position>
    <comments></comments>
    <contents>
        <connections>
            <id>457cfc83-429b-3ccb-0000-000000000000</id>
            <parentGroupId>670fa110-4638-3db9-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>670fa110-4638-3db9-0000-000000000000</groupId>
                <id>1ea7fce0-3200-3c4f-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>670fa110-4638-3db9-0000-000000000000</groupId>
                <id>858e21f1-7097-333e-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>78864975-b704-3da5-0000-000000000000</id>
            <parentGroupId>670fa110-4638-3db9-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>670fa110-4638-3db9-0000-000000000000</groupId>
                <id>3fe2e01d-1def-384c-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>670fa110-4638-3db9-0000-000000000000</groupId>
                <id>cc3601e8-68b9-35c3-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>934c83e6-772e-3e4c-0000-000000000000</id>
            <parentGroupId>670fa110-4638-3db9-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>670fa110-4638-3db9-0000-000000000000</groupId>
                <id>1ea7fce0-3200-3c4f-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>670fa110-4638-3db9-0000-000000000000</groupId>
                <id>3fe2e01d-1def-384c-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>aa30a59d-2625-3bc6-0000-000000000000</id>
            <parentGroupId>670fa110-4638-3db9-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>670fa110-4638-3db9-0000-000000000000</groupId>
                <id>858e21f1-7097-333e-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>success</selectedRelationships>
            <source>
                <groupId>670fa110-4638-3db9-0000-000000000000</groupId>
                <id>3fe2e01d-1def-384c-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>c5adfc26-ffe1-3ddf-0000-000000000000</id>
            <parentGroupId>670fa110-4638-3db9-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>670fa110-4638-3db9-0000-000000000000</groupId>
                <id>1ea7fce0-3200-3c4f-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>670fa110-4638-3db9-0000-000000000000</groupId>
                <id>4de4f1c1-f5ba-34b7-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>e51b369a-2101-3580-0000-000000000000</id>
            <parentGroupId>670fa110-4638-3db9-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>670fa110-4638-3db9-0000-000000000000</groupId>
                <id>4de4f1c1-f5ba-34b7-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>670fa110-4638-3db9-0000-000000000000</groupId>
                <id>cc3601e8-68b9-35c3-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <inputPorts>
            <id>cc3601e8-68b9-35c3-0000-000000000000</id>
            <parentGroupId>670fa110-4638-3db9-0000-000000000000</parentGroupId>
            <position>
                <x>296.0</x>
                <y>-200.0</y>
            </position>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <name>failure</name>
            <state>STOPPED</state>
            <type>INPUT_PORT</type>
        </inputPorts>
        <processors>
            <id>1ea7fce0-3200-3c4f-0000-000000000000</id>
            <parentGroupId>670fa110-4638-3db9-0000-000000000000</parentGroupId>
            <position>
                <x>16.0</x>
                <y>192.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Log Level</key>
                        <value>
                            <name>Log Level</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>
                            <name>Log Payload</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                        <value>
                            <name>Attributes to Log</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>
                            <name>attributes-to-log-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                        <value>
                            <name>Attributes to Ignore</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                        <value>
                            <name>attributes-to-ignore-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>
                            <name>Log FlowFile Properties</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>
                            <name>Output Format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                        <value>
                            <name>Log prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>
                            <name>character-set</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Log Level</key>
                        <value>info</value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>.*</value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>true</value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>Line per Attribute</value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>UTF-8</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>25</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>LogAttribute</name>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.LogAttribute</type>
        </processors>
        <processors>
            <id>3fe2e01d-1def-384c-0000-000000000000</id>
            <parentGroupId>670fa110-4638-3db9-0000-000000000000</parentGroupId>
            <position>
                <x>720.0</x>
                <y>-72.0</y>
            </position>
            <bundle>
                <artifact>nifi-scripting-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Script Engine</key>
                        <value>
                            <name>Script Engine</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Script File</key>
                        <value>
                            <name>Script File</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Script Body</key>
                        <value>
                            <name>Script Body</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Module Directory</key>
                        <value>
                            <name>Module Directory</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Script Engine</key>
                        <value>Groovy</value>
                    </entry>
                    <entry>
                        <key>Script File</key>
                    </entry>
                    <entry>
                        <key>Script Body</key>
                        <value>import org.apache.nifi.processor.io.StreamCallback
import org.apache.commons.io.IOUtils
import java.nio.charset.StandardCharsets

flowFile = session.get()
if (!flowFile) return

def statusCode = flowFile.getAttribute('invokehttp.status.code')

if (statusCode == '200') {
    flowFile = session.putAttribute(flowFile, 'status', 'Success')
} else if (statusCode.startsWith('4')) {
    flowFile = session.putAttribute(flowFile, 'status', 'Failure')
} else if (statusCode.startsWith('5')) {
    flowFile = session.putAttribute(flowFile, 'status', 'Retry')
} else {
    flowFile = session.putAttribute(flowFile, 'status', 'Unknown')
}

session.transfer(flowFile, REL_SUCCESS)</value>
                    </entry>
                    <entry>
                        <key>Module Directory</key>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>ExecuteScript</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.script.ExecuteScript</type>
        </processors>
        <processors>
            <id>4de4f1c1-f5ba-34b7-0000-000000000000</id>
            <parentGroupId>670fa110-4638-3db9-0000-000000000000</parentGroupId>
            <position>
                <x>16.0</x>
                <y>-72.0</y>
            </position>
            <bundle>
                <artifact>nifi-kafka-2-6-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>
                            <name>bootstrap.servers</name>
                        </value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>
                            <name>topic</name>
                        </value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>
                            <name>use-transactions</name>
                        </value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>
                            <dependencies>
<dependentValues>true</dependentValues>
<propertyName>use-transactions</propertyName>
                            </dependencies>
                            <name>transactional-id-prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                        <value>
                            <name>message-demarcator</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>
                            <name>Failure Strategy</name>
                        </value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>
                            <name>acks</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                        <value>
                            <name>attribute-name-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>
                            <name>message-header-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>
                            <name>security.protocol</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>
                            <name>sasl.mechanism</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.KerberosCredentialsService</identifiesControllerService>
                            <name>kerberos-credentials-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.SelfContainedKerberosUserService</identifiesControllerService>
                            <name>kerberos-user-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                        <value>
                            <name>sasl.kerberos.service.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                        <value>
                            <name>sasl.kerberos.principal</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                        <value>
                            <name>sasl.kerberos.keytab</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.username</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.password</name>
                        </value>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                        <value>
                            <dependencies>
<dependentValues>AWS_MSK_IAM</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>aws.profile.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>
                            <dependencies>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.token.auth</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                            <name>ssl.context.service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                        <value>
                            <name>kafka-key</name>
                        </value>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>
                            <name>key-attribute-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>
                            <name>max.request.size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>
                            <name>ack.wait.time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>
                            <name>max.block.ms</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>
                            <name>partitioner.class</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>
                            <name>partition</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>
                            <name>compression.type</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>#{kafka_broker}</value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>#{kafka_failed_topic}</value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>trans</value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>Route to Failure</value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>all</value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>UTF-8</value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>PLAINTEXT</value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>GSSAPI</value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>utf-8</value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>1 MB</value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>30 secs</value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>30 sec</value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>org.apache.kafka.clients.producer.internals.DefaultPartitioner</value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>gzip</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>FailedPublishKafka</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6</type>
        </processors>
        <processors>
            <id>858e21f1-7097-333e-0000-000000000000</id>
            <parentGroupId>670fa110-4638-3db9-0000-000000000000</parentGroupId>
            <position>
                <x>720.0</x>
                <y>208.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.dbcp.DBCPService</identifiesControllerService>
                            <name>Database Connection Pooling Service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                        <value>
                            <name>sql-pre-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>
                            <name>SQL select query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                        <value>
                            <name>sql-post-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>
                            <name>Max Wait Time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>
                            <name>dbf-normalize</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>
                            <name>dbf-user-logical-types</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>
                            <name>compression-format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>
                            <name>dbf-default-precision</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>
                            <name>dbf-default-scale</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>
                            <name>esql-max-rows</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>
                            <name>esql-output-batch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>
                            <name>esql-fetch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>
                            <name>esql-auto-commit</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>480b2bf7-beb4-30ac-0000-000000000000</value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>UPDATE file_processing_log SET updated_at = '${now():format("yyyy-MM-dd HH:mm:ss")}', updated_by = 'nifi', status = '${status}', error_message ='${invokehttp.status.message}' WHERE order_no = '${orderNumber}' AND application = 'ejje-nebula-forward-order-creation';</value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>0 seconds</value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>NONE</value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>10</value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>true</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>ExecuteSQL</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.ExecuteSQL</type>
        </processors>
    </contents>
    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
    <logFileSuffix></logFileSuffix>
    <name>Failure logging and publishing-invokehttp</name>
    <variables/>
</processGroups>
<processGroups>
    <id>aa49c2a7-0628-3756-0000-000000000000</id>
    <parentGroupId>9dda6cce-ba70-3dee-0000-000000000000</parentGroupId>
    <position>
        <x>304.0</x>
        <y>-144.0</y>
    </position>
    <comments></comments>
    <contents>
        <connections>
            <id>1d40381c-e7b8-301a-0000-000000000000</id>
            <parentGroupId>aa49c2a7-0628-3756-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>aa49c2a7-0628-3756-0000-000000000000</groupId>
                <id>00934b17-eb7b-38bc-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>aa49c2a7-0628-3756-0000-000000000000</groupId>
                <id>398fff0c-1325-35b8-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>21fd18a0-442a-34ce-0000-000000000000</id>
            <parentGroupId>aa49c2a7-0628-3756-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>aa49c2a7-0628-3756-0000-000000000000</groupId>
                <id>398fff0c-1325-35b8-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>aa49c2a7-0628-3756-0000-000000000000</groupId>
                <id>2c4636e5-4c91-3d17-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>aeaa3cf9-4cfa-32ee-0000-000000000000</id>
            <parentGroupId>aa49c2a7-0628-3756-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>aa49c2a7-0628-3756-0000-000000000000</groupId>
                <id>00934b17-eb7b-38bc-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>aa49c2a7-0628-3756-0000-000000000000</groupId>
                <id>9241bce6-e8e6-358a-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>d1803f54-462f-3b90-0000-000000000000</id>
            <parentGroupId>aa49c2a7-0628-3756-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>aa49c2a7-0628-3756-0000-000000000000</groupId>
                <id>9241bce6-e8e6-358a-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>aa49c2a7-0628-3756-0000-000000000000</groupId>
                <id>2c4636e5-4c91-3d17-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <inputPorts>
            <id>2c4636e5-4c91-3d17-0000-000000000000</id>
            <parentGroupId>aa49c2a7-0628-3756-0000-000000000000</parentGroupId>
            <position>
                <x>368.0</x>
                <y>-192.0</y>
            </position>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <name>failure</name>
            <state>STOPPED</state>
            <type>INPUT_PORT</type>
        </inputPorts>
        <processors>
            <id>00934b17-eb7b-38bc-0000-000000000000</id>
            <parentGroupId>aa49c2a7-0628-3756-0000-000000000000</parentGroupId>
            <position>
                <x>288.0</x>
                <y>168.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Log Level</key>
                        <value>
                            <name>Log Level</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>
                            <name>Log Payload</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                        <value>
                            <name>Attributes to Log</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>
                            <name>attributes-to-log-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                        <value>
                            <name>Attributes to Ignore</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                        <value>
                            <name>attributes-to-ignore-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>
                            <name>Log FlowFile Properties</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>
                            <name>Output Format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                        <value>
                            <name>Log prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>
                            <name>character-set</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Log Level</key>
                        <value>info</value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>.*</value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>true</value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>Line per Attribute</value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>UTF-8</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>25</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>LogAttribute</name>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.LogAttribute</type>
        </processors>
        <processors>
            <id>398fff0c-1325-35b8-0000-000000000000</id>
            <parentGroupId>aa49c2a7-0628-3756-0000-000000000000</parentGroupId>
            <position>
                <x>640.0</x>
                <y>-64.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.dbcp.DBCPService</identifiesControllerService>
                            <name>Database Connection Pooling Service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                        <value>
                            <name>sql-pre-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>
                            <name>SQL select query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                        <value>
                            <name>sql-post-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>
                            <name>Max Wait Time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>
                            <name>dbf-normalize</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>
                            <name>dbf-user-logical-types</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>
                            <name>compression-format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>
                            <name>dbf-default-precision</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>
                            <name>dbf-default-scale</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>
                            <name>esql-max-rows</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>
                            <name>esql-output-batch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>
                            <name>esql-fetch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>
                            <name>esql-auto-commit</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>480b2bf7-beb4-30ac-0000-000000000000</value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>UPDATE file_processing_log SET updated_at = '${now():format("yyyy-MM-dd HH:mm:ss")}', updated_by = 'nifi', status = '${status}', error_message ='${invokehttp.status.message}' WHERE order_no = '${orderNumber}' AND application = 'ejje-nebula-forward-order-creation';</value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>0 seconds</value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>NONE</value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>10</value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>true</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>ExecuteSQL</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.ExecuteSQL</type>
        </processors>
        <processors>
            <id>9241bce6-e8e6-358a-0000-000000000000</id>
            <parentGroupId>aa49c2a7-0628-3756-0000-000000000000</parentGroupId>
            <position>
                <x>16.0</x>
                <y>-72.0</y>
            </position>
            <bundle>
                <artifact>nifi-kafka-2-6-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>
                            <name>bootstrap.servers</name>
                        </value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>
                            <name>topic</name>
                        </value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>
                            <name>use-transactions</name>
                        </value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>
                            <dependencies>
<dependentValues>true</dependentValues>
<propertyName>use-transactions</propertyName>
                            </dependencies>
                            <name>transactional-id-prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                        <value>
                            <name>message-demarcator</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>
                            <name>Failure Strategy</name>
                        </value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>
                            <name>acks</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                        <value>
                            <name>attribute-name-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>
                            <name>message-header-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>
                            <name>security.protocol</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>
                            <name>sasl.mechanism</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.KerberosCredentialsService</identifiesControllerService>
                            <name>kerberos-credentials-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.SelfContainedKerberosUserService</identifiesControllerService>
                            <name>kerberos-user-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                        <value>
                            <name>sasl.kerberos.service.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                        <value>
                            <name>sasl.kerberos.principal</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                        <value>
                            <name>sasl.kerberos.keytab</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.username</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.password</name>
                        </value>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                        <value>
                            <dependencies>
<dependentValues>AWS_MSK_IAM</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>aws.profile.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>
                            <dependencies>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.token.auth</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                            <name>ssl.context.service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                        <value>
                            <name>kafka-key</name>
                        </value>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>
                            <name>key-attribute-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>
                            <name>max.request.size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>
                            <name>ack.wait.time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>
                            <name>max.block.ms</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>
                            <name>partitioner.class</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>
                            <name>partition</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>
                            <name>compression.type</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>#{kafka_broker}</value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>#{kafka_failed_topic}</value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>trans</value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>Route to Failure</value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>all</value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>UTF-8</value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>PLAINTEXT</value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>GSSAPI</value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>utf-8</value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>1 MB</value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>30 secs</value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>30 sec</value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>org.apache.kafka.clients.producer.internals.DefaultPartitioner</value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>gzip</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>FailedPublishKafka</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6</type>
        </processors>
    </contents>
    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
    <logFileSuffix></logFileSuffix>
    <name>Failure logging and publishing</name>
    <variables/>
</processGroups>
<processors>
    <id>04340d7e-f4dc-3db3-0000-000000000000</id>
    <parentGroupId>9dda6cce-ba70-3dee-0000-000000000000</parentGroupId>
    <position>
        <x>960.0</x>
        <y>104.0</y>
    </position>
    <versionedComponentId>006ee252-8ec9-3bbe-9c07-f5704c4b931a</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>HTTP Method</key>
                <value>
                    <name>HTTP Method</name>
                </value>
            </entry>
            <entry>
                <key>Remote URL</key>
                <value>
                    <name>Remote URL</name>
                </value>
            </entry>
            <entry>
                <key>disable-http2</key>
                <value>
                    <name>disable-http2</name>
                </value>
            </entry>
            <entry>
                <key>SSL Context Service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                    <name>SSL Context Service</name>
                </value>
            </entry>
            <entry>
                <key>Connection Timeout</key>
                <value>
                    <name>Connection Timeout</name>
                </value>
            </entry>
            <entry>
                <key>Read Timeout</key>
                <value>
                    <name>Read Timeout</name>
                </value>
            </entry>
            <entry>
                <key>Socket Write Timeout</key>
                <value>
                    <name>Socket Write Timeout</name>
                </value>
            </entry>
            <entry>
                <key>idle-timeout</key>
                <value>
                    <name>idle-timeout</name>
                </value>
            </entry>
            <entry>
                <key>max-idle-connections</key>
                <value>
                    <name>max-idle-connections</name>
                </value>
            </entry>
            <entry>
                <key>proxy-configuration-service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.proxy.ProxyConfigurationService</identifiesControllerService>
                    <name>proxy-configuration-service</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Host</key>
                <value>
                    <name>Proxy Host</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Port</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>Proxy Port</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Type</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>Proxy Type</name>
                </value>
            </entry>
            <entry>
                <key>invokehttp-proxy-user</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>invokehttp-proxy-user</name>
                </value>
            </entry>
            <entry>
                <key>invokehttp-proxy-password</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>invokehttp-proxy-password</name>
                </value>
            </entry>
            <entry>
                <key>oauth2-access-token-provider</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.oauth2.OAuth2AccessTokenProvider</identifiesControllerService>
                    <name>oauth2-access-token-provider</name>
                </value>
            </entry>
            <entry>
                <key>Basic Authentication Username</key>
                <value>
                    <name>Basic Authentication Username</name>
                </value>
            </entry>
            <entry>
                <key>Basic Authentication Password</key>
                <value>
                    <name>Basic Authentication Password</name>
                </value>
            </entry>
            <entry>
                <key>Digest Authentication</key>
                <value>
                    <dependencies>
                        <propertyName>Basic Authentication Username</propertyName>
                    </dependencies>
                    <name>Digest Authentication</name>
                </value>
            </entry>
            <entry>
                <key>Penalize on "No Retry"</key>
                <value>
                    <name>Penalize on "No Retry"</name>
                </value>
            </entry>
            <entry>
                <key>send-message-body</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>send-message-body</name>
                </value>
            </entry>
            <entry>
                <key>form-body-form-name</key>
                <value>
                    <dependencies>
                        <dependentValues>true</dependentValues>
                        <propertyName>send-message-body</propertyName>
                    </dependencies>
                    <name>form-body-form-name</name>
                </value>
            </entry>
            <entry>
                <key>set-form-filename</key>
                <value>
                    <dependencies>
                        <propertyName>form-body-form-name</propertyName>
                    </dependencies>
                    <name>set-form-filename</name>
                </value>
            </entry>
            <entry>
                <key>Use Chunked Encoding</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>Use Chunked Encoding</name>
                </value>
            </entry>
            <entry>
                <key>Content-Encoding</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>Content-Encoding</name>
                </value>
            </entry>
            <entry>
                <key>Content-Type</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>Content-Type</name>
                </value>
            </entry>
            <entry>
                <key>Include Date Header</key>
                <value>
                    <name>Include Date Header</name>
                </value>
            </entry>
            <entry>
                <key>Attributes to Send</key>
                <value>
                    <name>Attributes to Send</name>
                </value>
            </entry>
            <entry>
                <key>Useragent</key>
                <value>
                    <name>Useragent</name>
                </value>
            </entry>
            <entry>
                <key>Put Response Body In Attribute</key>
                <value>
                    <name>Put Response Body In Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Max Length To Put In Attribute</key>
                <value>
                    <dependencies>
                        <propertyName>Put Response Body In Attribute</propertyName>
                    </dependencies>
                    <name>Max Length To Put In Attribute</name>
                </value>
            </entry>
            <entry>
                <key>ignore-response-content</key>
                <value>
                    <name>ignore-response-content</name>
                </value>
            </entry>
            <entry>
                <key>use-etag</key>
                <value>
                    <name>use-etag</name>
                </value>
            </entry>
            <entry>
                <key>etag-max-cache-size</key>
                <value>
                    <dependencies>
                        <dependentValues>true</dependentValues>
                        <propertyName>use-etag</propertyName>
                    </dependencies>
                    <name>etag-max-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>cookie-strategy</key>
                <value>
                    <name>cookie-strategy</name>
                </value>
            </entry>
            <entry>
                <key>Always Output Response</key>
                <value>
                    <name>Always Output Response</name>
                </value>
            </entry>
            <entry>
                <key>flow-file-naming-strategy</key>
                <value>
                    <name>flow-file-naming-strategy</name>
                </value>
            </entry>
            <entry>
                <key>Add Response Headers to Request</key>
                <value>
                    <name>Add Response Headers to Request</name>
                </value>
            </entry>
            <entry>
                <key>Follow Redirects</key>
                <value>
                    <name>Follow Redirects</name>
                </value>
            </entry>
            <entry>
                <key>Authorization</key>
                <value>
                    <name>Authorization</name>
                </value>
            </entry>
            <entry>
                <key>x-business-group-id</key>
                <value>
                    <name>x-business-group-id</name>
                </value>
            </entry>
            <entry>
                <key>x-client-id</key>
                <value>
                    <name>x-client-id</name>
                </value>
            </entry>
            <entry>
                <key>x-shopify-shop-domain</key>
                <value>
                    <name>x-shopify-shop-domain</name>
                </value>
            </entry>
            <entry>
                <key>x-tenant-id</key>
                <value>
                    <name>x-tenant-id</name>
                </value>
            </entry>
            <entry>
                <key>x-trace-id</key>
                <value>
                    <name>x-trace-id</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>HTTP Method</key>
                <value>PATCH</value>
            </entry>
            <entry>
                <key>Remote URL</key>
                <value>https://api.dev.cloverbaylabs.com/nebula/product/v1/products/skus/${sku_id}/channels</value>
            </entry>
            <entry>
                <key>disable-http2</key>
                <value>False</value>
            </entry>
            <entry>
                <key>SSL Context Service</key>
            </entry>
            <entry>
                <key>Connection Timeout</key>
                <value>5 secs</value>
            </entry>
            <entry>
                <key>Read Timeout</key>
                <value>15 secs</value>
            </entry>
            <entry>
                <key>Socket Write Timeout</key>
                <value>15 secs</value>
            </entry>
            <entry>
                <key>idle-timeout</key>
                <value>5 mins</value>
            </entry>
            <entry>
                <key>max-idle-connections</key>
                <value>5</value>
            </entry>
            <entry>
                <key>proxy-configuration-service</key>
            </entry>
            <entry>
                <key>Proxy Host</key>
            </entry>
            <entry>
                <key>Proxy Port</key>
            </entry>
            <entry>
                <key>Proxy Type</key>
                <value>http</value>
            </entry>
            <entry>
                <key>invokehttp-proxy-user</key>
            </entry>
            <entry>
                <key>invokehttp-proxy-password</key>
            </entry>
            <entry>
                <key>oauth2-access-token-provider</key>
            </entry>
            <entry>
                <key>Basic Authentication Username</key>
            </entry>
            <entry>
                <key>Basic Authentication Password</key>
            </entry>
            <entry>
                <key>Digest Authentication</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Penalize on "No Retry"</key>
                <value>false</value>
            </entry>
            <entry>
                <key>send-message-body</key>
                <value>true</value>
            </entry>
            <entry>
                <key>form-body-form-name</key>
            </entry>
            <entry>
                <key>set-form-filename</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Use Chunked Encoding</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Content-Encoding</key>
                <value>DISABLED</value>
            </entry>
            <entry>
                <key>Content-Type</key>
                <value>application/json</value>
            </entry>
            <entry>
                <key>Include Date Header</key>
                <value>True</value>
            </entry>
            <entry>
                <key>Attributes to Send</key>
            </entry>
            <entry>
                <key>Useragent</key>
            </entry>
            <entry>
                <key>Put Response Body In Attribute</key>
                <value></value>
            </entry>
            <entry>
                <key>Max Length To Put In Attribute</key>
                <value>102400</value>
            </entry>
            <entry>
                <key>ignore-response-content</key>
                <value>false</value>
            </entry>
            <entry>
                <key>use-etag</key>
                <value>false</value>
            </entry>
            <entry>
                <key>etag-max-cache-size</key>
                <value>10MB</value>
            </entry>
            <entry>
                <key>cookie-strategy</key>
                <value>DISABLED</value>
            </entry>
            <entry>
                <key>Always Output Response</key>
                <value>false</value>
            </entry>
            <entry>
                <key>flow-file-naming-strategy</key>
                <value>RANDOM</value>
            </entry>
            <entry>
                <key>Add Response Headers to Request</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Follow Redirects</key>
                <value>True</value>
            </entry>
            <entry>
                <key>Authorization</key>
                <value>Bearer ${Token}</value>
            </entry>
            <entry>
                <key>x-business-group-id</key>
                <value>${businessGroupId}</value>
            </entry>
            <entry>
                <key>x-client-id</key>
                <value>backend</value>
            </entry>
            <entry>
                <key>x-shopify-shop-domain</key>
                <value>nebulacommerce.myshopify.com</value>
            </entry>
            <entry>
                <key>x-tenant-id</key>
                <value>${tenantId}</value>
            </entry>
            <entry>
                <key>x-trace-id</key>
                <value>${traceId}</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>update channels</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>No Retry</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>Original</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Response</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Retry</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.InvokeHTTP</type>
</processors>
<processors>
    <id>62e565df-7423-33e9-0000-000000000000</id>
    <parentGroupId>9dda6cce-ba70-3dee-0000-000000000000</parentGroupId>
    <position>
        <x>960.0</x>
        <y>-320.0</y>
    </position>
    <versionedComponentId>fc850b58-5f48-33a7-b4ad-b06a7d5d319a</versionedComponentId>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>businessGroupId</key>
                <value>
                    <name>businessGroupId</name>
                </value>
            </entry>
            <entry>
                <key>entityType</key>
                <value>
                    <name>entityType</name>
                </value>
            </entry>
            <entry>
                <key>eventType</key>
                <value>
                    <name>eventType</name>
                </value>
            </entry>
            <entry>
                <key>tenantId</key>
                <value>
                    <name>tenantId</name>
                </value>
            </entry>
            <entry>
                <key>traceId</key>
                <value>
                    <name>traceId</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>businessGroupId</key>
                <value>${sqs.businessGroupId}</value>
            </entry>
            <entry>
                <key>entityType</key>
                <value>${sqs.entityType}</value>
            </entry>
            <entry>
                <key>eventType</key>
                <value>${sqs.eventType}</value>
            </entry>
            <entry>
                <key>tenantId</key>
                <value>${sqs.tenantId}</value>
            </entry>
            <entry>
                <key>traceId</key>
                <value>${sqs.traceId}</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>25</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>6eee3da0-29f1-3d75-0000-000000000000</id>
    <parentGroupId>9dda6cce-ba70-3dee-0000-000000000000</parentGroupId>
    <position>
        <x>960.0</x>
        <y>-112.0</y>
    </position>
    <versionedComponentId>20bfc847-0f6b-3a5c-93ef-8016e35452a5</versionedComponentId>
    <bundle>
        <artifact>nifi-scripting-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Script Engine</key>
                <value>
                    <name>Script Engine</name>
                </value>
            </entry>
            <entry>
                <key>Script File</key>
                <value>
                    <name>Script File</name>
                </value>
            </entry>
            <entry>
                <key>Script Body</key>
                <value>
                    <name>Script Body</name>
                </value>
            </entry>
            <entry>
                <key>Module Directory</key>
                <value>
                    <name>Module Directory</name>
                </value>
            </entry>
            <entry>
                <key>api_token_url</key>
                <value>
                    <name>api_token_url</name>
                </value>
            </entry>
            <entry>
                <key>clientsecretrmg</key>
                <value>
                    <name>clientsecretrmg</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Script Engine</key>
                <value>Groovy</value>
            </entry>
            <entry>
                <key>Script File</key>
            </entry>
            <entry>
                <key>Script Body</key>
                <value>import java.net.HttpURLConnection
import java.net.URL
import java.nio.charset.StandardCharsets
import groovy.json.JsonSlurper
import groovy.json.JsonOutput
 
def flowFile = session.get()
if (flowFile != null) {
    try {
        // Extract required attributes from the flow file
        def tenantId = flowFile.getAttribute('tenantId')
        def businessGroupId = flowFile.getAttribute('businessGroupId')
 
        if (!tenantId || !businessGroupId) {
            log.error("Missing required attributes (tenantId, businessGroupId)")
            flowFile = session.putAttribute(flowFile, 'error', 'Missing required attributes')
            session.transfer(flowFile, REL_FAILURE)
            return
        }
       
        // Key for state management based on tenantId
        def stateKeyToken = "access_token_${tenantId}"
        def stateKeyExpiry = "token_expiry_${tenantId}"
       
        // Retrieve state (token and its expiry)
        def stateMap = context.getStateManager().getState(org.apache.nifi.components.state.Scope.CLUSTER).toMap()
        def accessToken = stateMap[stateKeyToken]
        def tokenExpiry = stateMap[stateKeyExpiry] ? Long.parseLong(stateMap[stateKeyExpiry]) : 0
        def currentTime = System.currentTimeMillis() / 1000
 
        // Check if token exists and is still valid (add some buffer time, e.g., 60 seconds)
        if (accessToken &amp;&amp; currentTime &lt; (tokenExpiry - 60)) {
            log.info("Using cached token for tenantId: ${tenantId}")
        } else {
            // Retrieve the client secret from the Parameter Context based on tenantId.
            def clientSecretPropertyName = "clientsecret${tenantId}"
            def clientSecret = context.getProperty(clientSecretPropertyName)?.evaluateAttributeExpressions()?.getValue()
           
            if (!clientSecret) {
                log.error("Missing client secret for tenantId: ${tenantId}")
                flowFile = session.putAttribute(flowFile, 'error', 'Missing client secret')
                session.transfer(flowFile, REL_FAILURE)
                return
            }
           
            def apiUrl = context.getProperty("api_token_url")?.evaluateAttributeExpressions()?.getValue()
           
            // Create JSON payload dynamically with the client secret retrieved
            def payloadJson = JsonOutput.toJson([
                client_secret: clientSecret,
                grant_type   : "client_credentials"
            ])
           
            // Make the POST request
            def connection = new URL(apiUrl).openConnection() as HttpURLConnection
            connection.requestMethod = 'POST'
            connection.setRequestProperty("x-tenant-id", tenantId)
            connection.setRequestProperty("x-client-id", "backend")
            connection.setRequestProperty("x-trace-id", UUID.randomUUID().toString()) // Generate unique trace ID
            connection.setRequestProperty("x-business-group-id", businessGroupId)
            connection.setRequestProperty("Content-Type", "application/json")
            connection.setRequestProperty("Accept", "application/json")
            connection.doOutput = true
           
            // Write the JSON payload to the request output stream
            try (def writer = new java.io.DataOutputStream(connection.outputStream)) {
                writer.write(payloadJson.getBytes(StandardCharsets.UTF_8))
            }
           
            // Read the response
            def responseCode = connection.responseCode
            def responseBody = responseCode == HttpURLConnection.HTTP_OK ? connection.inputStream.text : connection.errorStream.text
            connection.disconnect()
           
            // Parse the response and extract attributes
            def jsonResponse = new JsonSlurper().parseText(responseBody)
           
            if (jsonResponse.access_token) {
                accessToken = jsonResponse.access_token
                // Set token expiry. 'expires_in' is given in seconds.
                tokenExpiry = currentTime + jsonResponse.expires_in as long
               
                // Update state with the new token and its expiry
                def newState = [:]
                newState[stateKeyToken] = accessToken
                newState[stateKeyExpiry] = tokenExpiry.toString()
                context.getStateManager().setState(newState, org.apache.nifi.components.state.Scope.CLUSTER)
               
                log.info("Retrieved and cached new token for tenantId: ${tenantId}")
            } else {
                log.error("Access token not found in the response for tenantId: ${tenantId}. Response: ${responseBody}")
                flowFile = session.putAttribute(flowFile, 'error', 'Access token not found')
                session.transfer(flowFile, REL_FAILURE)
                return
            }
        }
       
        // Set the token as an attribute in the flow file for downstream use
        flowFile = session.putAttribute(flowFile, 'Token', accessToken)
        session.transfer(flowFile, REL_SUCCESS)
   
    } catch (Exception e) {
        log.error("Something went wrong for tenantId: ${flowFile.getAttribute('tenantId')}", e)
        flowFile = session.putAttribute(flowFile, 'error', 'true')
        session.transfer(flowFile, REL_FAILURE)
    }
}</value>
            </entry>
            <entry>
                <key>Module Directory</key>
            </entry>
            <entry>
                <key>api_token_url</key>
                <value>#{api_token_url}</value>
            </entry>
            <entry>
                <key>clientsecretrmg</key>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Get API token</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.script.ExecuteScript</type>
</processors>
<processors>
    <id>85db33a5-43a3-3a1d-0000-000000000000</id>
    <parentGroupId>9dda6cce-ba70-3dee-0000-000000000000</parentGroupId>
    <position>
        <x>320.0</x>
        <y>112.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>retry-attribute</key>
                <value>
                    <name>retry-attribute</name>
                </value>
            </entry>
            <entry>
                <key>maximum-retries</key>
                <value>
                    <name>maximum-retries</name>
                </value>
            </entry>
            <entry>
                <key>penalize-retries</key>
                <value>
                    <name>penalize-retries</name>
                </value>
            </entry>
            <entry>
                <key>Fail on Non-numerical Overwrite</key>
                <value>
                    <name>Fail on Non-numerical Overwrite</name>
                </value>
            </entry>
            <entry>
                <key>reuse-mode</key>
                <value>
                    <name>reuse-mode</name>
                </value>
            </entry>
            <entry>
                <key>Retry Interval</key>
                <value>
                    <name>Retry Interval</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>retry-attribute</key>
                <value>flowfile.retries</value>
            </entry>
            <entry>
                <key>maximum-retries</key>
                <value>3</value>
            </entry>
            <entry>
                <key>penalize-retries</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Fail on Non-numerical Overwrite</key>
                <value>false</value>
            </entry>
            <entry>
                <key>reuse-mode</key>
                <value>fail</value>
            </entry>
            <entry>
                <key>Retry Interval</key>
                <value>300000ms</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>RetryFlowFile</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>retries_exceeded</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>retry</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.RetryFlowFile</type>
</processors>
<processors>
    <id>a8096ff8-11ef-3f66-0000-000000000000</id>
    <parentGroupId>9dda6cce-ba70-3dee-0000-000000000000</parentGroupId>
    <position>
        <x>960.0</x>
        <y>-536.0</y>
    </position>
    <versionedComponentId>a8eaa5ce-586f-3ffb-b5d3-084972cc936b</versionedComponentId>
    <bundle>
        <artifact>nifi-aws-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Queue URL</key>
                <value>
                    <name>Queue URL</name>
                </value>
            </entry>
            <entry>
                <key>Auto Delete Messages</key>
                <value>
                    <name>Auto Delete Messages</name>
                </value>
            </entry>
            <entry>
                <key>Access Key</key>
                <value>
                    <name>Access Key</name>
                </value>
            </entry>
            <entry>
                <key>Secret Key</key>
                <value>
                    <name>Secret Key</name>
                </value>
            </entry>
            <entry>
                <key>Credentials File</key>
                <value>
                    <name>Credentials File</name>
                </value>
            </entry>
            <entry>
                <key>AWS Credentials Provider service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderService</identifiesControllerService>
                    <name>AWS Credentials Provider service</name>
                </value>
            </entry>
            <entry>
                <key>SSL Context Service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                    <name>SSL Context Service</name>
                </value>
            </entry>
            <entry>
                <key>Region</key>
                <value>
                    <name>Region</name>
                </value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>
                    <name>Batch Size</name>
                </value>
            </entry>
            <entry>
                <key>Communications Timeout</key>
                <value>
                    <name>Communications Timeout</name>
                </value>
            </entry>
            <entry>
                <key>Endpoint Override URL</key>
                <value>
                    <name>Endpoint Override URL</name>
                </value>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>
                    <name>Character Set</name>
                </value>
            </entry>
            <entry>
                <key>Visibility Timeout</key>
                <value>
                    <name>Visibility Timeout</name>
                </value>
            </entry>
            <entry>
                <key>Receive Message Wait Time</key>
                <value>
                    <name>Receive Message Wait Time</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Host</key>
                <value>
                    <name>Proxy Host</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Host Port</key>
                <value>
                    <name>Proxy Host Port</name>
                </value>
            </entry>
            <entry>
                <key>proxy-user-name</key>
                <value>
                    <name>proxy-user-name</name>
                </value>
            </entry>
            <entry>
                <key>proxy-user-password</key>
                <value>
                    <name>proxy-user-password</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Queue URL</key>
                <value>#{sqs_url}</value>
            </entry>
            <entry>
                <key>Auto Delete Messages</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Access Key</key>
            </entry>
            <entry>
                <key>Secret Key</key>
            </entry>
            <entry>
                <key>Credentials File</key>
            </entry>
            <entry>
                <key>AWS Credentials Provider service</key>
            </entry>
            <entry>
                <key>SSL Context Service</key>
            </entry>
            <entry>
                <key>Region</key>
                <value>us-west-2</value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>10</value>
            </entry>
            <entry>
                <key>Communications Timeout</key>
                <value>30 secs</value>
            </entry>
            <entry>
                <key>Endpoint Override URL</key>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>Visibility Timeout</key>
                <value>15 mins</value>
            </entry>
            <entry>
                <key>Receive Message Wait Time</key>
                <value>0 sec</value>
            </entry>
            <entry>
                <key>Proxy Host</key>
            </entry>
            <entry>
                <key>Proxy Host Port</key>
            </entry>
            <entry>
                <key>proxy-user-name</key>
            </entry>
            <entry>
                <key>proxy-user-password</key>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Get from SQS</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.aws.sqs.GetSQS</type>
</processors>
<processors>
    <id>b9366b94-0630-37ff-0000-000000000000</id>
    <parentGroupId>9dda6cce-ba70-3dee-0000-000000000000</parentGroupId>
    <position>
        <x>960.0</x>
        <y>328.0</y>
    </position>
    <versionedComponentId>62d000d1-0faa-3e21-ba56-3443e47bbb2f</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Log Level</key>
                <value>
                    <name>Log Level</name>
                </value>
            </entry>
            <entry>
                <key>Log Payload</key>
                <value>
                    <name>Log Payload</name>
                </value>
            </entry>
            <entry>
                <key>Attributes to Log</key>
                <value>
                    <name>Attributes to Log</name>
                </value>
            </entry>
            <entry>
                <key>attributes-to-log-regex</key>
                <value>
                    <name>attributes-to-log-regex</name>
                </value>
            </entry>
            <entry>
                <key>Attributes to Ignore</key>
                <value>
                    <name>Attributes to Ignore</name>
                </value>
            </entry>
            <entry>
                <key>attributes-to-ignore-regex</key>
                <value>
                    <name>attributes-to-ignore-regex</name>
                </value>
            </entry>
            <entry>
                <key>Log FlowFile Properties</key>
                <value>
                    <name>Log FlowFile Properties</name>
                </value>
            </entry>
            <entry>
                <key>Output Format</key>
                <value>
                    <name>Output Format</name>
                </value>
            </entry>
            <entry>
                <key>Log prefix</key>
                <value>
                    <name>Log prefix</name>
                </value>
            </entry>
            <entry>
                <key>character-set</key>
                <value>
                    <name>character-set</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Log Level</key>
                <value>info</value>
            </entry>
            <entry>
                <key>Log Payload</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Attributes to Log</key>
            </entry>
            <entry>
                <key>attributes-to-log-regex</key>
                <value>.*</value>
            </entry>
            <entry>
                <key>Attributes to Ignore</key>
            </entry>
            <entry>
                <key>attributes-to-ignore-regex</key>
            </entry>
            <entry>
                <key>Log FlowFile Properties</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Output Format</key>
                <value>Line per Attribute</value>
            </entry>
            <entry>
                <key>Log prefix</key>
            </entry>
            <entry>
                <key>character-set</key>
                <value>UTF-8</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>25</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>LogAttribute</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogAttribute</type>
</processors>
                            </contents>
                            <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                            <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                            <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                            <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                            <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                            <logFileSuffix></logFileSuffix>
                            <name>Get from SQS - update channels</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>ba384dd4-42ab-3c9f-0000-000000000000</id>
                            <parentGroupId>facd6c3f-6d37-3efc-0000-000000000000</parentGroupId>
                            <position>
<x>648.0</x>
<y>456.0</y>
                            </position>
                            <versionedComponentId>79e5eb2b-402f-3524-92b0-e863b67e2e80</versionedComponentId>
                            <comments></comments>
                            <contents>
<connections>
    <id>53988ffa-a6ae-3ba4-0000-000000000000</id>
    <parentGroupId>ba384dd4-42ab-3c9f-0000-000000000000</parentGroupId>
    <versionedComponentId>5925cb01-08c1-317b-9bd0-320ca7dc6860</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>ba384dd4-42ab-3c9f-0000-000000000000</groupId>
        <id>2c355d30-5121-334f-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
        <versionedComponentId>1834958d-5cce-3162-8866-c81b1f9f9812</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>ba384dd4-42ab-3c9f-0000-000000000000</groupId>
        <id>d7117f9b-b604-3aef-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>a831bd83-dd01-3953-a8d7-e6158ac036c9</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>99b6645a-5eee-3fef-0000-000000000000</id>
    <parentGroupId>ba384dd4-42ab-3c9f-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>ccde89d8-8968-36f5-0000-000000000000</groupId>
        <id>c7162a3f-e1bd-3636-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <source>
        <groupId>ba384dd4-42ab-3c9f-0000-000000000000</groupId>
        <id>d7117f9b-b604-3aef-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>a831bd83-dd01-3953-a8d7-e6158ac036c9</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>c833a9a1-0e26-39ac-0000-000000000000</id>
    <parentGroupId>ba384dd4-42ab-3c9f-0000-000000000000</parentGroupId>
    <versionedComponentId>1760d28c-5dbd-3f2e-a006-3188dc110a17</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>ba384dd4-42ab-3c9f-0000-000000000000</groupId>
        <id>d7117f9b-b604-3aef-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>a831bd83-dd01-3953-a8d7-e6158ac036c9</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>ba384dd4-42ab-3c9f-0000-000000000000</groupId>
        <id>2a186d44-6a5a-308c-0000-000000000000</id>
        <type>INPUT_PORT</type>
        <versionedComponentId>56b07d89-e60d-3ef5-8098-76eb32226c95</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>2a186d44-6a5a-308c-0000-000000000000</id>
    <parentGroupId>ba384dd4-42ab-3c9f-0000-000000000000</parentGroupId>
    <position>
        <x>800.0</x>
        <y>24.0</y>
    </position>
    <versionedComponentId>56b07d89-e60d-3ef5-8098-76eb32226c95</versionedComponentId>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>Transform</name>
    <state>STOPPED</state>
    <type>INPUT_PORT</type>
</inputPorts>
<outputPorts>
    <id>2c355d30-5121-334f-0000-000000000000</id>
    <parentGroupId>ba384dd4-42ab-3c9f-0000-000000000000</parentGroupId>
    <position>
        <x>800.0</x>
        <y>368.0</y>
    </position>
    <versionedComponentId>1834958d-5cce-3162-8866-c81b1f9f9812</versionedComponentId>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>Transformed CSV</name>
    <state>STOPPED</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processGroups>
    <id>ccde89d8-8968-36f5-0000-000000000000</id>
    <parentGroupId>ba384dd4-42ab-3c9f-0000-000000000000</parentGroupId>
    <position>
        <x>80.0</x>
        <y>128.0</y>
    </position>
    <comments></comments>
    <contents>
        <connections>
            <id>15763d40-9042-3345-0000-000000000000</id>
            <parentGroupId>ccde89d8-8968-36f5-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>ccde89d8-8968-36f5-0000-000000000000</groupId>
                <id>cb6ebc5b-89a5-31a9-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>ccde89d8-8968-36f5-0000-000000000000</groupId>
                <id>4f9143e5-1e12-3ab9-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>42f2bcd7-4087-3e90-0000-000000000000</id>
            <parentGroupId>ccde89d8-8968-36f5-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>ccde89d8-8968-36f5-0000-000000000000</groupId>
                <id>9ce70497-01e1-3c98-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>ccde89d8-8968-36f5-0000-000000000000</groupId>
                <id>c7162a3f-e1bd-3636-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>d94755ac-f07e-30e3-0000-000000000000</id>
            <parentGroupId>ccde89d8-8968-36f5-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>ccde89d8-8968-36f5-0000-000000000000</groupId>
                <id>cb6ebc5b-89a5-31a9-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>ccde89d8-8968-36f5-0000-000000000000</groupId>
                <id>9ce70497-01e1-3c98-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>e65d2435-485a-3e10-0000-000000000000</id>
            <parentGroupId>ccde89d8-8968-36f5-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>ccde89d8-8968-36f5-0000-000000000000</groupId>
                <id>4f9143e5-1e12-3ab9-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>ccde89d8-8968-36f5-0000-000000000000</groupId>
                <id>c7162a3f-e1bd-3636-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <inputPorts>
            <id>c7162a3f-e1bd-3636-0000-000000000000</id>
            <parentGroupId>ccde89d8-8968-36f5-0000-000000000000</parentGroupId>
            <position>
                <x>368.0</x>
                <y>-192.0</y>
            </position>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <name>failure</name>
            <state>STOPPED</state>
            <type>INPUT_PORT</type>
        </inputPorts>
        <processors>
            <id>4f9143e5-1e12-3ab9-0000-000000000000</id>
            <parentGroupId>ccde89d8-8968-36f5-0000-000000000000</parentGroupId>
            <position>
                <x>16.0</x>
                <y>-72.0</y>
            </position>
            <bundle>
                <artifact>nifi-kafka-2-6-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>
                            <name>bootstrap.servers</name>
                        </value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>
                            <name>topic</name>
                        </value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>
                            <name>use-transactions</name>
                        </value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>
                            <dependencies>
<dependentValues>true</dependentValues>
<propertyName>use-transactions</propertyName>
                            </dependencies>
                            <name>transactional-id-prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                        <value>
                            <name>message-demarcator</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>
                            <name>Failure Strategy</name>
                        </value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>
                            <name>acks</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                        <value>
                            <name>attribute-name-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>
                            <name>message-header-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>
                            <name>security.protocol</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>
                            <name>sasl.mechanism</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.KerberosCredentialsService</identifiesControllerService>
                            <name>kerberos-credentials-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.SelfContainedKerberosUserService</identifiesControllerService>
                            <name>kerberos-user-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                        <value>
                            <name>sasl.kerberos.service.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                        <value>
                            <name>sasl.kerberos.principal</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                        <value>
                            <name>sasl.kerberos.keytab</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.username</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.password</name>
                        </value>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                        <value>
                            <dependencies>
<dependentValues>AWS_MSK_IAM</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>aws.profile.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>
                            <dependencies>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.token.auth</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                            <name>ssl.context.service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                        <value>
                            <name>kafka-key</name>
                        </value>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>
                            <name>key-attribute-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>
                            <name>max.request.size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>
                            <name>ack.wait.time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>
                            <name>max.block.ms</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>
                            <name>partitioner.class</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>
                            <name>partition</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>
                            <name>compression.type</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>#{kafka_broker}</value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>#{kafka_failed_topic}</value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>trans</value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>Route to Failure</value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>all</value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>UTF-8</value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>PLAINTEXT</value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>GSSAPI</value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>utf-8</value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>1 MB</value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>30 secs</value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>30 sec</value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>org.apache.kafka.clients.producer.internals.DefaultPartitioner</value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>gzip</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>FailedPublishKafka</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6</type>
        </processors>
        <processors>
            <id>9ce70497-01e1-3c98-0000-000000000000</id>
            <parentGroupId>ccde89d8-8968-36f5-0000-000000000000</parentGroupId>
            <position>
                <x>640.0</x>
                <y>-64.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.dbcp.DBCPService</identifiesControllerService>
                            <name>Database Connection Pooling Service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                        <value>
                            <name>sql-pre-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>
                            <name>SQL select query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                        <value>
                            <name>sql-post-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>
                            <name>Max Wait Time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>
                            <name>dbf-normalize</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>
                            <name>dbf-user-logical-types</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>
                            <name>compression-format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>
                            <name>dbf-default-precision</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>
                            <name>dbf-default-scale</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>
                            <name>esql-max-rows</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>
                            <name>esql-output-batch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>
                            <name>esql-fetch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>
                            <name>esql-auto-commit</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>480b2bf7-beb4-30ac-0000-000000000000</value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>UPDATE file_processing_log SET updated_at = '${now():format("yyyy-MM-dd HH:mm:ss")}', updated_by = 'nifi', status = '${status}', error_message ='${invokehttp.status.message}' WHERE order_no = '${orderNumber}' AND application = 'ejje-nebula-forward-order-creation';</value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>0 seconds</value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>NONE</value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>10</value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>true</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>ExecuteSQL</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.ExecuteSQL</type>
        </processors>
        <processors>
            <id>cb6ebc5b-89a5-31a9-0000-000000000000</id>
            <parentGroupId>ccde89d8-8968-36f5-0000-000000000000</parentGroupId>
            <position>
                <x>288.0</x>
                <y>168.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Log Level</key>
                        <value>
                            <name>Log Level</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>
                            <name>Log Payload</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                        <value>
                            <name>Attributes to Log</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>
                            <name>attributes-to-log-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                        <value>
                            <name>Attributes to Ignore</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                        <value>
                            <name>attributes-to-ignore-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>
                            <name>Log FlowFile Properties</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>
                            <name>Output Format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                        <value>
                            <name>Log prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>
                            <name>character-set</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Log Level</key>
                        <value>info</value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>.*</value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>true</value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>Line per Attribute</value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>UTF-8</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>25</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>LogAttribute</name>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.LogAttribute</type>
        </processors>
    </contents>
    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
    <logFileSuffix></logFileSuffix>
    <name>Failure logging and publishing</name>
    <variables/>
</processGroups>
<processors>
    <id>d7117f9b-b604-3aef-0000-000000000000</id>
    <parentGroupId>ba384dd4-42ab-3c9f-0000-000000000000</parentGroupId>
    <position>
        <x>744.0</x>
        <y>152.0</y>
    </position>
    <versionedComponentId>a831bd83-dd01-3953-a8d7-e6158ac036c9</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>include-zero-record-flowfiles</key>
                <value>
                    <name>include-zero-record-flowfiles</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>7680def1-e024-3f0a-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>9fb23311-aa4a-3398-0000-000000000000</value>
            </entry>
            <entry>
                <key>include-zero-record-flowfiles</key>
                <value>true</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>JSON to CSV transformation</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ConvertRecord</type>
</processors>
                            </contents>
                            <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                            <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                            <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                            <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                            <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                            <name>Transform</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>f4675caf-377f-341d-0000-000000000000</id>
                            <parentGroupId>facd6c3f-6d37-3efc-0000-000000000000</parentGroupId>
                            <position>
<x>648.0</x>
<y>184.0</y>
                            </position>
                            <versionedComponentId>7b9d3c2e-2844-39a4-960c-a26404555db2</versionedComponentId>
                            <comments></comments>
                            <contents>
<connections>
    <id>907d47c8-7197-30e7-0000-000000000000</id>
    <parentGroupId>f4675caf-377f-341d-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>ced2eeb3-7a14-35fc-0000-000000000000</groupId>
        <id>0c4abac4-9a68-3a44-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <source>
        <groupId>f4675caf-377f-341d-0000-000000000000</groupId>
        <id>e6e7ff51-9dce-340b-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>bfeb2366-c5ff-3684-ae05-d6ebf4bd475a</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>b90913e9-42c0-37d7-0000-000000000000</id>
    <parentGroupId>f4675caf-377f-341d-0000-000000000000</parentGroupId>
    <versionedComponentId>3171e39c-f9f0-3593-9dd0-a9fb691416dd</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>f4675caf-377f-341d-0000-000000000000</groupId>
        <id>7b8b23ae-1092-3f1d-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
        <versionedComponentId>62debb22-d2bf-3031-be70-58d5d18f5ff6</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>f4675caf-377f-341d-0000-000000000000</groupId>
        <id>e6e7ff51-9dce-340b-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>bfeb2366-c5ff-3684-ae05-d6ebf4bd475a</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>e0cd0d71-b511-3677-0000-000000000000</id>
    <parentGroupId>f4675caf-377f-341d-0000-000000000000</parentGroupId>
    <versionedComponentId>e0cd0d71-b511-3677-9aa4-58debfef724f</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>f4675caf-377f-341d-0000-000000000000</groupId>
        <id>e6e7ff51-9dce-340b-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>bfeb2366-c5ff-3684-ae05-d6ebf4bd475a</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>f4675caf-377f-341d-0000-000000000000</groupId>
        <id>23f17e51-dcdf-366f-0000-000000000000</id>
        <type>INPUT_PORT</type>
        <versionedComponentId>77a5804d-befc-3101-aa67-a1c01fc79064</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>23f17e51-dcdf-366f-0000-000000000000</id>
    <parentGroupId>f4675caf-377f-341d-0000-000000000000</parentGroupId>
    <position>
        <x>696.0</x>
        <y>744.0</y>
    </position>
    <versionedComponentId>77a5804d-befc-3101-aa67-a1c01fc79064</versionedComponentId>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>Validate JSON</name>
    <state>RUNNING</state>
    <type>INPUT_PORT</type>
</inputPorts>
<outputPorts>
    <id>7b8b23ae-1092-3f1d-0000-000000000000</id>
    <parentGroupId>f4675caf-377f-341d-0000-000000000000</parentGroupId>
    <position>
        <x>696.0</x>
        <y>1104.0</y>
    </position>
    <versionedComponentId>62debb22-d2bf-3031-be70-58d5d18f5ff6</versionedComponentId>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>Validated JSON</name>
    <state>STOPPED</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processGroups>
    <id>ced2eeb3-7a14-35fc-0000-000000000000</id>
    <parentGroupId>f4675caf-377f-341d-0000-000000000000</parentGroupId>
    <position>
        <x>-8.0</x>
        <y>848.0</y>
    </position>
    <comments></comments>
    <contents>
        <connections>
            <id>7aac05c2-d1d0-32fa-0000-000000000000</id>
            <parentGroupId>ced2eeb3-7a14-35fc-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>ced2eeb3-7a14-35fc-0000-000000000000</groupId>
                <id>7ab7ebb1-551a-3b75-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>ced2eeb3-7a14-35fc-0000-000000000000</groupId>
                <id>0c4abac4-9a68-3a44-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>875117ee-57bf-33c3-0000-000000000000</id>
            <parentGroupId>ced2eeb3-7a14-35fc-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>ced2eeb3-7a14-35fc-0000-000000000000</groupId>
                <id>0848827d-1c49-3815-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>ced2eeb3-7a14-35fc-0000-000000000000</groupId>
                <id>7ab7ebb1-551a-3b75-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>a6f2d012-9d35-32ca-0000-000000000000</id>
            <parentGroupId>ced2eeb3-7a14-35fc-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>ced2eeb3-7a14-35fc-0000-000000000000</groupId>
                <id>0848827d-1c49-3815-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>ced2eeb3-7a14-35fc-0000-000000000000</groupId>
                <id>32cfb0f8-8394-327c-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>f9bf1d6d-72f9-3f91-0000-000000000000</id>
            <parentGroupId>ced2eeb3-7a14-35fc-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>ced2eeb3-7a14-35fc-0000-000000000000</groupId>
                <id>32cfb0f8-8394-327c-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>ced2eeb3-7a14-35fc-0000-000000000000</groupId>
                <id>0c4abac4-9a68-3a44-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <inputPorts>
            <id>0c4abac4-9a68-3a44-0000-000000000000</id>
            <parentGroupId>ced2eeb3-7a14-35fc-0000-000000000000</parentGroupId>
            <position>
                <x>368.0</x>
                <y>-192.0</y>
            </position>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <name>failure</name>
            <state>STOPPED</state>
            <type>INPUT_PORT</type>
        </inputPorts>
        <processors>
            <id>0848827d-1c49-3815-0000-000000000000</id>
            <parentGroupId>ced2eeb3-7a14-35fc-0000-000000000000</parentGroupId>
            <position>
                <x>288.0</x>
                <y>168.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Log Level</key>
                        <value>
                            <name>Log Level</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>
                            <name>Log Payload</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                        <value>
                            <name>Attributes to Log</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>
                            <name>attributes-to-log-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                        <value>
                            <name>Attributes to Ignore</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                        <value>
                            <name>attributes-to-ignore-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>
                            <name>Log FlowFile Properties</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>
                            <name>Output Format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                        <value>
                            <name>Log prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>
                            <name>character-set</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Log Level</key>
                        <value>info</value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>.*</value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>true</value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>Line per Attribute</value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>UTF-8</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>25</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>LogAttribute</name>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.LogAttribute</type>
        </processors>
        <processors>
            <id>32cfb0f8-8394-327c-0000-000000000000</id>
            <parentGroupId>ced2eeb3-7a14-35fc-0000-000000000000</parentGroupId>
            <position>
                <x>640.0</x>
                <y>-64.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.dbcp.DBCPService</identifiesControllerService>
                            <name>Database Connection Pooling Service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                        <value>
                            <name>sql-pre-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>
                            <name>SQL select query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                        <value>
                            <name>sql-post-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>
                            <name>Max Wait Time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>
                            <name>dbf-normalize</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>
                            <name>dbf-user-logical-types</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>
                            <name>compression-format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>
                            <name>dbf-default-precision</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>
                            <name>dbf-default-scale</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>
                            <name>esql-max-rows</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>
                            <name>esql-output-batch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>
                            <name>esql-fetch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>
                            <name>esql-auto-commit</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>480b2bf7-beb4-30ac-0000-000000000000</value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>UPDATE file_processing_log SET updated_at = '${now():format("yyyy-MM-dd HH:mm:ss")}', updated_by = 'nifi', status = '${status}', error_message ='${invokehttp.status.message}' WHERE order_no = '${orderNumber}' AND application = 'ejje-nebula-forward-order-creation';</value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>0 seconds</value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>NONE</value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>10</value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>true</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>ExecuteSQL</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.ExecuteSQL</type>
        </processors>
        <processors>
            <id>7ab7ebb1-551a-3b75-0000-000000000000</id>
            <parentGroupId>ced2eeb3-7a14-35fc-0000-000000000000</parentGroupId>
            <position>
                <x>16.0</x>
                <y>-72.0</y>
            </position>
            <bundle>
                <artifact>nifi-kafka-2-6-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>
                            <name>bootstrap.servers</name>
                        </value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>
                            <name>topic</name>
                        </value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>
                            <name>use-transactions</name>
                        </value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>
                            <dependencies>
<dependentValues>true</dependentValues>
<propertyName>use-transactions</propertyName>
                            </dependencies>
                            <name>transactional-id-prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                        <value>
                            <name>message-demarcator</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>
                            <name>Failure Strategy</name>
                        </value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>
                            <name>acks</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                        <value>
                            <name>attribute-name-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>
                            <name>message-header-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>
                            <name>security.protocol</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>
                            <name>sasl.mechanism</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.KerberosCredentialsService</identifiesControllerService>
                            <name>kerberos-credentials-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.SelfContainedKerberosUserService</identifiesControllerService>
                            <name>kerberos-user-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                        <value>
                            <name>sasl.kerberos.service.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                        <value>
                            <name>sasl.kerberos.principal</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                        <value>
                            <name>sasl.kerberos.keytab</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.username</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.password</name>
                        </value>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                        <value>
                            <dependencies>
<dependentValues>AWS_MSK_IAM</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>aws.profile.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>
                            <dependencies>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.token.auth</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                            <name>ssl.context.service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                        <value>
                            <name>kafka-key</name>
                        </value>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>
                            <name>key-attribute-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>
                            <name>max.request.size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>
                            <name>ack.wait.time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>
                            <name>max.block.ms</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>
                            <name>partitioner.class</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>
                            <name>partition</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>
                            <name>compression.type</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>#{kafka_broker}</value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>#{kafka_failed_topic}</value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>trans</value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>Route to Failure</value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>all</value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>UTF-8</value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>PLAINTEXT</value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>GSSAPI</value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>utf-8</value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>1 MB</value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>30 secs</value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>30 sec</value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>org.apache.kafka.clients.producer.internals.DefaultPartitioner</value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>gzip</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>FailedPublishKafka</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6</type>
        </processors>
    </contents>
    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
    <logFileSuffix></logFileSuffix>
    <name>Failure logging and publishing</name>
    <variables/>
</processGroups>
<processors>
    <id>e6e7ff51-9dce-340b-0000-000000000000</id>
    <parentGroupId>f4675caf-377f-341d-0000-000000000000</parentGroupId>
    <position>
        <x>640.0</x>
        <y>872.0</y>
    </position>
    <versionedComponentId>bfeb2366-c5ff-3684-ae05-d6ebf4bd475a</versionedComponentId>
    <bundle>
        <artifact>nifi-scripting-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Script Engine</key>
                <value>
                    <name>Script Engine</name>
                </value>
            </entry>
            <entry>
                <key>Script File</key>
                <value>
                    <name>Script File</name>
                </value>
            </entry>
            <entry>
                <key>Script Body</key>
                <value>
                    <name>Script Body</name>
                </value>
            </entry>
            <entry>
                <key>Module Directory</key>
                <value>
                    <name>Module Directory</name>
                </value>
            </entry>
            <entry>
                <key>ripley_attribute_values_url</key>
                <value>
                    <name>ripley_attribute_values_url</name>
                </value>
            </entry>
            <entry>
                <key>ripley_attributes_url</key>
                <value>
                    <name>ripley_attributes_url</name>
                </value>
            </entry>
            <entry>
                <key>ripley_categories_url</key>
                <value>
                    <name>ripley_categories_url</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Script Engine</key>
                <value>Groovy</value>
            </entry>
            <entry>
                <key>Script File</key>
            </entry>
            <entry>
                <key>Script Body</key>
                <value>import org.apache.nifi.processor.io.StreamCallback
import groovy.json.JsonSlurper
import groovy.json.JsonBuilder
import groovy.json.JsonOutput
import org.apache.commons.io.IOUtils
import java.nio.charset.StandardCharsets
import java.net.HttpURLConnection
import java.net.URL


class TransformPayload implements StreamCallback {

    def context 
    def flowFile
    def ripleyAttributes
    def ripleyAttrValues
	def ripleyCategories
    def ripleyAttributesJSON
    def ripleyAttrValuesJSON
	def ripleyCategoryJSON
    def tenantId
    def businessGroupId
    def ripleyAttrToken
    def ripleyAttrURL
    def ripleyAttrValURL
    def ripleyCategoryURL
    

    TransformPayload(def context, def flowFile) { 
        this.context = context 
        this.flowFile = flowFile
    }

    def fetchAttributes(String url, String token, int page, int pageSize, String tenantId, String businessGroupId){

        def apiUrl = "${url}?page=${page}&amp;size=${pageSize}"
        def connection = new URL(apiUrl).openConnection() as HttpURLConnection
        connection.requestMethod = 'GET'
        connection.setRequestProperty("x-tenant-id", tenantId)
        connection.setRequestProperty("x-client-id", "backend")
        connection.setRequestProperty("x-trace-id", UUID.randomUUID().toString()) // Generate unique trace ID
        connection.setRequestProperty("x-business-group-id", businessGroupId)
        connection.setRequestProperty("Content-Type", "application/json")
        connection.setRequestProperty("Accept", "application/json")
        connection.setRequestProperty("Authorization", "Bearer ${token}")


        try {
            def responseCode = connection.responseCode
            if (responseCode != HttpURLConnection.HTTP_OK) {
                def errorStream = new BufferedReader(new InputStreamReader(connection.errorStream))
                def errorResponse = errorStream.text
                errorStream.close()
                def errorMessage
                if (errorResponse.trim().startsWith("{") || errorResponse.trim().startsWith("[")) {
                    try {
                        errorMessage = new JsonSlurper().parseText(errorResponse)
                    } catch (Exception ex) {
                        logger.warn("Failed to parse error response as JSON: ${ex.message}")
                        errorMessage = errorResponse
                    }
                } else {
                    errorMessage = errorResponse // It's probably HTML or plain text
                }

                def errorProperty = (responseCode &gt;= 500) ? "Server error" : "Client error"
                errorHandler(errorProperty, "API Error: ${responseCode}. Response: ${errorMessage}")
            }
            def reader = new BufferedReader(new InputStreamReader(
                responseCode == HttpURLConnection.HTTP_OK ? connection.inputStream : connection.errorStream
            ))
            
            def jsonResponse = new JsonSlurper().parse(reader)
            reader.close() 

            return jsonResponse
        } catch (Exception e) {
            throw new Exception(e.getMessage())
        } finally {
            connection.disconnect() 
        }

    }

    def callAPI(int page, int pageSize){

        ripleyAttributesJSON = fetchAttributes(ripleyAttrURL, ripleyAttrToken, page, pageSize, tenantId, businessGroupId)
        ripleyAttributes = ripleyAttributesJSON.attributes

        ripleyAttrValuesJSON = fetchAttributes(ripleyAttrValURL, ripleyAttrToken, page, pageSize, tenantId, businessGroupId)
        ripleyAttrValues = ripleyAttrValuesJSON.values_lists

        ripleyCategoryJSON = fetchAttributes(ripleyCategoryURL, ripleyAttrToken, page, pageSize, tenantId, businessGroupId)
        ripleyCategories = ripleyCategoryJSON.hierarchies
    }

    def setProductAttributes(Map inputJson, Map products, Map wordMap) {

        // As specified in Ripley API docs the 'product-id' should repeat the 'sku_id'
        products["product-id"] = products["sku"]
        
        // The values of 'product-id-type' and 'state' are constants given in Ripley API docs
        products["product-id-type"] = "SHOP_SKU"
        products["state"] = "11"
        products["update-delete"] = "UPDATE"

    }

   


    @Override
    void process(InputStream inputStream, OutputStream outputStream) throws IOException {

        // Extracting content from flowfile
        def jsonSlurper = new JsonSlurper()
        def inputJson = jsonSlurper.parse(new BufferedReader(new InputStreamReader(inputStream)))

        tenantId = flowFile.getAttribute('tenantId')
        businessGroupId = flowFile.getAttribute('businessGroupId')
        
        if (!tenantId || !businessGroupId) {
            throw new Exception("tenantId or businessGroupId missing")
        }

        ripleyAttrToken = flowFile.getAttribute('Token')

        ripleyAttrURL = context.getProperty("ripley_attributes_url").evaluateAttributeExpressions().getValue()
        ripleyAttrValURL = context.getProperty("ripley_attribute_values_url").evaluateAttributeExpressions().getValue()
        ripleyCategoryURL = context.getProperty("ripley_categories_url").evaluateAttributeExpressions().getValue()

        callAPI(1, 3000)

        def wordMap = [:]
        wordMap["categories"] = "categorias"
        wordMap["sku_id"] = "sku"
        wordMap["name"] = "Titulo"
        wordMap["description"] = "Descripcion"
        wordMap["variant_description"] = "Descripcion"
        wordMap["manufacturer_name"] = "Marca"
        wordMap["thumbnail"] = "thumbnail"
        wordMap["country_of_origin"] = "pais_fabricacion"


        // Basic details of product
        def productDetails = inputJson.article_basic_dtls
        
        def productWithVariants = inputJson.variants?.collect { variant -&gt; 
            // Product payload
            def products = [:]

            // 'sku_id' of the product
            if(variant?.sku_id) {
                addHeaders(wordMap["sku_id"], products, variant?.sku_id, "")

                products["sku"] = variant?.sku_id
                products["sku_seller"] = variant?.sku_id
            }else{
                errorHandler("Required field is missing", "Attribute sku_id is required but missing or empty")
            }

            // Title of the product variant
            if(variant?.variant_name){
                addHeaders(wordMap["name"], products, variant?.variant_name, "")
            }else{
                errorHandler("Required field is missing", "Attribute variant_name is required but missing or empty")
            }
        
            // Description of the product 
            if(variant?.variant_description) {
                addHeaders(wordMap["variant_description"], products, variant?.variant_description, "")
            }else{
                errorHandler("Required field is missing", "Attribute variant_description is required but missing or empty")
            }

            if(productDetails?.manufacturer_name){
                addHeaders(wordMap["manufacturer_name"], products, productDetails?.manufacturer_name, "")
            }else{
                errorHandler("Required field is missing", "Attribute manufacturer_name is required but missing or empty")
            }
  
            // Image URLs of product
            if(variant.image_urls &amp;&amp; !variant.image_urls.isEmpty()){
                for (int i = 0; i &lt; variant.image_urls.size(); i++) {
                    def imageUrl = variant.image_urls[i]
                    def isValid = imageUrl?.toLowerCase()?.matches(".*\\.(jpg|jpeg|png|bmp)\$")
                    if (isValid) {
                        products["imagen${i+1}"] = variant.image_urls[i]
                    } else {
                        errorHandler("Invalid image url", "Image url must end with jpg or jpeg or png or bmp")
                    }
                }
                
            }else{
                errorHandler("Required field is missing", "Images are required but missing")
            }

            // Variant Id
            products["variant_id"] = products["sku"]

            // Price of the product
            if(variant.price_info?.list_price) {
                def price = variant.price_info?.list_price?.amount
                products["price"] = price.toString().toDouble()
            }else{
                errorHandler("Required field is missing", "Attribute price information is required but missing or empty")
            }

            // Products available for sale
            products["quantity"] = 0

            // Variant attributes
            if(variant.variant_attributes &amp;&amp; !variant.variant_attributes.isEmpty()){
                def variantAttributes = variant.variant_attributes  
                // attributeChecker(variantAttributes, products)
                variantAttributes.each { attributes -&gt; 
                    addHeaders(attributes.attribute_name, products, attributes.attribute_value)
                }
            }


            def channels = variant.channels ?: []

            if(!channels.isEmpty()){
                def ripleyChannel = channels.find { channel -&gt;
                    channel?.channel_name == "RIPLEY"
                }
                if(ripleyChannel){
                    def addnl_attributes = ripleyChannel.additional_attributes ?: []
                    if(addnl_attributes &amp;&amp; !addnl_attributes.isEmpty()){
                        attributeChecker(addnl_attributes, products)
                    }
                    // addnl_attributes.each{ adnl_attribute -&gt; 
                    //     addHeaders(adnl_attribute.name, products, adnl_attribute.value)
                    // }

                }
            }
            setProductAttributes(inputJson, products, wordMap)

            if (products.containsKey(null)) {
                // log.error("Products map contains null keys: ${products}")
                products.remove(null) // Remove null keys if necessary
            }

            return products

        }
                
        def jsonBuilder = new JsonBuilder(productWithVariants)
        outputStream.write(jsonBuilder.toPrettyString().getBytes("UTF-8"))
           

    }   


    def errorHandler(String property, String message){
        def error = [:]
        error["code"] = "RIPLEY_NIFI_FLOW"
        error["property"] = property
        error["message"] = message
        def errors = []
        errors &lt;&lt; error
        def errorJson = JsonOutput.toJson([errors: errors])
        throw new Exception(errorJson)
    }


    def addHeaders(String code, Map products, String value, String productTypeCode){
        if (code == null) {
            // log.error("Attempted to add a null key to the products map")
            return
        }

        def ripleyAttributesArray = ripleyAttributes
  
        def attrObject = ripleyAttributesArray?.find{it.code == code}

        if(attrObject){
            if(attrObject?.required &amp;&amp; attrObject?.requirement_level == "REQUIRED"){
            
                if(attrObject?.values_list &amp;&amp; attrObject?.values_list != null){
                    def valuesList = attrObject?.values_list
                    def valObject = ripleyAttrValues?.find{ it.code == valuesList}
                    if(valObject){
                        def label = valObject?.label_translations?.find{it.locale == "es"}
                        def attributeValue = valObject?.values?.find{it -&gt; it.code.toString().equalsIgnoreCase(value.toString())}

                        if(!attributeValue){
                            errorHandler("${code}", "Attribute ${code} has invalid value")
                        }
                        def header = label.value
                        if(code == "Marca"){
                            header = "Marca"
                        }
                        validate(products, header, attributeValue.code, attrObject)
                        return
                    }
                    
                }else{
                    validate(products, code, value, attrObject)
                    return
                }

            } else {
                products[code] = value
                return
            }
        }


    }

    def requiredAttributesArray = []

    def attributeChecker(List attributesList, Map products){

        def page = 1
        def pageSize = 3000
        def totalPages = ripleyAttributesJSON.page_info.total_pages
        def ripleyAttributesArray = ripleyAttributes

        def categoryObject = attributesList.find{it.attribute_name == "categorias"}
        if(categoryObject == null){
            errorHandler("Required field is missing", "Attribute categorias is required but missing")
        }

        def category = categoryObject.attribute_value
        categoryValidator(products, "categorias", category)
        
        while (page &lt;= totalPages) {

            def matching = ripleyAttributesArray?.findAll { 
                it?.hierarchy_code == category &amp;&amp; it?.requirement_level == "REQUIRED"
            }

            if(matching &amp;&amp; matching.size() &gt; 0){
                requiredAttributesArray += matching
            }

            page = page + 1
            def ripleyAttributesObject = fetchAttributes(ripleyAttrURL, ripleyAttrToken, page, pageSize, tenantId, businessGroupId)
            ripleyAttributesArray = ripleyAttributesObject.attributes            
        }
        
        if(requiredAttributesArray.isEmpty()){
            errorHandler("Error in fetching required fields ", "Error in fetching required fields for given category")
        }
        
        def thumbnailObject = attributesList.find{it -&gt; it.attribute_name.toString().equalsIgnoreCase("thumbnail")}
        if(thumbnailObject == null){
            errorHandler("Required field is missing ", "Attribute ${requiredAttribute.code} is required but missing")
        }else{
            def thumbnailUrl = thumbnailObject.attribute_value
            def isValid = thumbnailUrl?.toLowerCase()?.matches(".*\\.(jpg|jpeg|png|bmp)\$")
            if (isValid) {
                products["thumbnail"] = thumbnailUrl
            } else {
                errorHandler("Invalid thumbnail url", "Thumbnail url must end with jpg or jpeg or png or bmp")
            }
        }

        requiredAttributesArray.each { requiredAttribute -&gt; 
            if(requiredAttribute.code != "categorias" &amp;&amp; 
                requiredAttribute.code != "import_id" &amp;&amp; 
                requiredAttribute.code != "product_import_id" &amp;&amp;
                requiredAttribute.code != "thumbnail" ){

                def requiredCode = requiredAttribute.code
                
                def required = attributesList.find{it -&gt; it.attribute_name.toString().equalsIgnoreCase(requiredCode.toString())}
                if(required == null){
                    errorHandler("Required field is missing ", "Attribute ${requiredAttribute.code} is required but missing")
                }
                if(required.attribute_name == "imagen14"){
                    def imageUrl = required.attribute_value
                    def isValid = imageUrl?.toLowerCase()?.matches(".*\\.(jpg|jpeg|png|bmp)\$")
                    if (isValid) {
                        products["imagen14"] = imageUrl
                    } else {
                        errorHandler("Invalid image url", "Image url must end with jpg or jpeg or png or bmp")
                    }
                }else{
                    def valueListCode = requiredAttribute.values_list ?: ""
                    valueValidator(requiredAttribute.code, products, required.attribute_value, valueListCode, requiredAttribute)
                }
                
            }
            
        }

    }


    def valueValidator(String code, Map products, String value, String valueListCode, Map requiredAttribute){
       
        def ripleyAttrValueArray = ripleyAttrValues

        def valueObject = ripleyAttrValueArray?.find{ it.code == valueListCode}
        if(valueObject){
            if(code == "tipo_de_producto"){
                def validValue = valueObject?.values?.find{it -&gt; it.code.toString().equalsIgnoreCase(value.toString())}

                if(!validValue){
                    errorHandler("tipo_de_producto", "Attribute tipo_de_producto has invalid value")
                }
                products["tipo_de_producto"] = value

            }else{
                if(valueListCode?.trim()){

                    def label = valueObject?.label_translations?.find{it.locale == "es"}
                    def attributeValue = valueObject?.values?.find{it -&gt; it.code.toString().equalsIgnoreCase(value.toString())}

                    if(!attributeValue){
                        errorHandler("${code}", "Attribute ${code} has invalid value")
                    }
                    def header = label.value
                    if(code == "Marca"){
                        header = "Marca"
                    }
                    validate(products, header, attributeValue.code, requiredAttribute)

                }else{
                    validate(products, code, value, requiredAttribute)
                }
            }
        }

    }



    def categoryValidator(Map products, String code, String value){
        def ripleyCategory = ripleyCategories.find{it.code == value}
        if(ripleyCategory){
            def parentCode = ripleyCategories.find{it.parent_code == value}
            if(parentCode){
                errorHandler("${code}", "Category should be a leaf")
            }
            products[code] = value
            return
        }else{
            errorHandler("Category not found", "Category ${value} not exists")
        }
    }

    def validate(Map products, String header, String value, Map attrObject){
        if(attrObject?.validations){
            def validationRules = attrObject?.validations
            def validationMap = formateValidators(validationRules)

            // Validation checks
            def errorMessage = []

            validationMap.each { rule, ruleValue -&gt;
                switch (rule) {
                    case "MAX_LENGTH":
                        if (value instanceof String &amp;&amp; value.length() &gt; ruleValue) {
                            errorMessage &lt;&lt; "ERROR: ${header} value exceeds maximum length of $ruleValue"
                        }
                        break

                    case "MIN_LENGTH":
                        if (value instanceof String &amp;&amp; value.length() &lt; ruleValue) {
                            errorMessage &lt;&lt; "ERROR: ${header} value is shorter than minimum length of $ruleValue"
                        }
                        break

                    case "REGEXP":
                        if (value instanceof String &amp;&amp; !(value ==~ ruleValue)) {
                            errorMessage &lt;&lt; "ERROR: ${header} value does not match the required pattern"
                        }
                        break

                    case "FORBIDDEN_WORDS":
                        if (value instanceof String &amp;&amp; value.matches('^[a-zA-Z\\s]+$')) {
                            List&lt;String&gt; wordsInValue = value.toLowerCase().split("\\s+") // Split sentence into words
                            
                            if(wordsInValue.size() == 1){
                                String lowerValue = value.toLowerCase()
                                boolean containsForbiddenWord2 = ruleValue.any { forbidden -&gt;
                                    lowerValue.contains(forbidden.toLowerCase())
                                }
                                if (containsForbiddenWord2) {
                                    errorMessage &lt;&lt; "ERROR: Given string: ${header} value contains forbidden words"
                                }
                            }else{
                                 boolean containsForbiddenWord = wordsInValue.any { word -&gt; 
                                    ruleValue.any { forbidden -&gt; word == forbidden.toLowerCase() } // Exact word match
                                }
                                
                                if (containsForbiddenWord) {
                                    errorMessage &lt;&lt; "ERROR: Given string: ${header} value contains forbidden words"
                                }
                            }
                            
                            
                           
                        }
                        break

                    default:
                        errorMessage &lt;&lt; "WARNING: Unknown validation rule '$rule'"
                }
            }


            if (errorMessage.isEmpty()) {
                products[header] = value
            } else {
                def errorMsg = errorMessage[0]
                errorHandler("Validation error", "${errorMsg}")
            }

        }else{
            products[header] = value
        }
    }

    def formateValidators(String validationRules){

        def keyValuePairs = validationRules.split(/,(?=(?:[^"]*"[^"]*")*[^"]*$)/)

        // Create a map to store parsed values
        def parsedMap = [:].withDefault { it -&gt; "" }

        // Process each key-value pair dynamically
        keyValuePairs.each { pair -&gt;
            def splitPair = pair.split(/\|/, 2) // Dynamically split at the first '|'
            if (splitPair.size() == 2) {
                def key = splitPair[0].trim()
                def value = splitPair[1].trim()

                // Store MAX_LENGTH and MIN_LENGTH as integers
                if (key in ['MAX_LENGTH', 'MIN_LENGTH']) {
                    parsedMap[key] = value.isInteger() ? value.toInteger() : value
                }
                // Store FORBIDDEN_WORDS as a list of strings
                else if (key == "FORBIDDEN_WORDS" &amp;&amp; value.startsWith('"') &amp;&amp; value.endsWith('"')) {
                    parsedMap[key] = value.replaceAll(/^"|"$/, '').split(/,/).collect { it.trim() }
                }
                // Store all other values as strings
                else {
                    parsedMap[key] = value.toString()
                }
            }
        }
        return parsedMap
    }


}


// Flow file processing
flowFile = session.get()
if (flowFile != null) {
    try {
        flowFile = session.write(flowFile, new TransformPayload(context, flowFile))
        session.transfer(flowFile, REL_SUCCESS)
    } catch (Exception e) {
        log.error('Something went wrong', e)
        flowFile = session.putAttribute(flowFile, 'error', 'true')
        def rawJsonString = e.getMessage()
        def parsedJson = new JsonSlurper().parseText(rawJsonString)
        def errormsg = parsedJson.errors[0].message
        flowFile = session.putAttribute(flowFile, 'error.message', errormsg)
        session.transfer(flowFile, REL_FAILURE)
    }
}</value>
            </entry>
            <entry>
                <key>Module Directory</key>
            </entry>
            <entry>
                <key>ripley_attribute_values_url</key>
                <value>#{ripley_attribute_values_url}</value>
            </entry>
            <entry>
                <key>ripley_attributes_url</key>
                <value>#{ripley_attributes_url}</value>
            </entry>
            <entry>
                <key>ripley_categories_url</key>
                <value>#{ripley_categories_url}</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Validation</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.script.ExecuteScript</type>
</processors>
                            </contents>
                            <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                            <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                            <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                            <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                            <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                            <name>JSON validation</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>f7aa948a-1316-3ba1-0000-000000000000</id>
                            <parentGroupId>facd6c3f-6d37-3efc-0000-000000000000</parentGroupId>
                            <position>
<x>648.0</x>
<y>-120.0</y>
                            </position>
                            <versionedComponentId>f7aa948a-1316-3ba1-b1b3-fbb6f77d1155</versionedComponentId>
                            <comments></comments>
                            <contents>
<connections>
    <id>01ca2f7c-ca72-3da9-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <versionedComponentId>01ca2f7c-ca72-3da9-ae7c-777cd035cf2f</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>c181afad-5ac6-3c3e-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>980029bd-c648-3ae4-a37b-b6a52c0e760c</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>62c59c9f-931b-338d-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>62c59c9f-931b-338d-9ce3-3c51c7ee28be</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>022754ef-b6c7-3bc3-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>abedb126-389d-303e-0000-000000000000</groupId>
        <id>f9aa5d98-a4f1-3a5b-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>7886d7db-eb3d-3b7a-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>7886d7db-eb3d-3b7a-8622-50753f933ab9</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>0d3ad6bd-d37a-3645-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>1016.0</x>
        <y>480.0</y>
    </bends>
    <destination>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>a6ec9d2d-96a9-31c1-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>e9690119-7658-3f6b-b445-1ac9483d4104</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>retry</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>e716bfd6-40fa-33b1-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>1136342c-84c0-33d3-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <versionedComponentId>1136342c-84c0-33d3-8e17-d4ffdfcefb66</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>7288d889-ef7f-33ad-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>7288d889-ef7f-33ad-b0ac-d8d089dcab4f</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>unmatched</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>4ae8c6ac-49b6-3d65-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>4ae8c6ac-49b6-3d65-b73f-feb36b8c9a40</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>1640af00-58e4-3d76-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <versionedComponentId>10fafee6-7d76-3ab3-810a-ab8564b69406</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>c181afad-5ac6-3c3e-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>980029bd-c648-3ae4-a37b-b6a52c0e760c</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>HasVariants</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>3f968d19-5420-3f18-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>0462592f-d4a3-37ec-9af9-b0f17f261620</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>185e98f3-720f-39b6-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <versionedComponentId>185e98f3-720f-39b6-8004-dba63375c7c1</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>becc8638-70fb-3d45-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>becc8638-70fb-3d45-b121-fd0d43bf8cf4</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>matched</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>4ae8c6ac-49b6-3d65-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>4ae8c6ac-49b6-3d65-b73f-feb36b8c9a40</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>1aa02a3a-63a8-3dd7-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>abedb126-389d-303e-0000-000000000000</groupId>
        <id>f9aa5d98-a4f1-3a5b-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>unmatched</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>e19f06f4-acd1-3904-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>30ea950f-0d74-37ba-803f-d7e63fa15d36</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>27d6b649-3c48-366f-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>abedb126-389d-303e-0000-000000000000</groupId>
        <id>f9aa5d98-a4f1-3a5b-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>retries_exceeded</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>e716bfd6-40fa-33b1-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>3acfe450-b0a4-380b-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <versionedComponentId>3acfe450-b0a4-380b-b861-0fadc257f2a5</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>4ae8c6ac-49b6-3d65-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>4ae8c6ac-49b6-3d65-b73f-feb36b8c9a40</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>96d2258e-8963-3827-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>96d2258e-8963-3827-80d3-808505a59fef</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>3c0d3bed-b1d7-32b9-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6d5a8466-4572-324d-0000-000000000000</groupId>
        <id>7bc39d88-e4f4-3a40-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>unmatched</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>25d22aca-1980-30c6-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>411279c1-b511-3fb6-9df7-01ca6364f6e4</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>3c2a9afe-de88-305b-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6d5a8466-4572-324d-0000-000000000000</groupId>
        <id>7bc39d88-e4f4-3a40-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>c181afad-5ac6-3c3e-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>980029bd-c648-3ae4-a37b-b6a52c0e760c</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>3d064a55-0e69-3992-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <versionedComponentId>3d064a55-0e69-3992-aafd-b915759ee18d</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>62c59c9f-931b-338d-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>62c59c9f-931b-338d-9ce3-3c51c7ee28be</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>becc8638-70fb-3d45-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>becc8638-70fb-3d45-b121-fd0d43bf8cf4</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>3e3f3d79-f6e3-3cd2-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <versionedComponentId>7b1dfa9e-36eb-34e2-abb1-b9e4f2088b80</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>33f5ee9d-a48e-3a70-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>9ff6f9a2-880e-3775-862f-c90e8c1e323c</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>Response</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>a6ec9d2d-96a9-31c1-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>e9690119-7658-3f6b-b445-1ac9483d4104</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>58f43989-7cc7-32af-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <versionedComponentId>7f03d1f1-2a67-319a-a0d4-42b599da86d8</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>3f968d19-5420-3f18-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>0462592f-d4a3-37ec-9af9-b0f17f261620</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>matched</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>33f5ee9d-a48e-3a70-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>9ff6f9a2-880e-3775-862f-c90e8c1e323c</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>595911db-54a8-3200-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>e716bfd6-40fa-33b1-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>Retry</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>a6ec9d2d-96a9-31c1-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>e9690119-7658-3f6b-b445-1ac9483d4104</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>7134e25e-4769-365c-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <versionedComponentId>7134e25e-4769-365c-83cd-241d71670155</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>a6ec9d2d-96a9-31c1-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>e9690119-7658-3f6b-b445-1ac9483d4104</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>7886d7db-eb3d-3b7a-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>7886d7db-eb3d-3b7a-8622-50753f933ab9</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>856d425f-0beb-3f91-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6d5a8466-4572-324d-0000-000000000000</groupId>
        <id>7bc39d88-e4f4-3a40-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>unmatched</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>33f5ee9d-a48e-3a70-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>9ff6f9a2-880e-3775-862f-c90e8c1e323c</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>a690fbcd-ca54-32c0-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6d5a8466-4572-324d-0000-000000000000</groupId>
        <id>7bc39d88-e4f4-3a40-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>NoVariants</selectedRelationships>
    <selectedRelationships>unmatched</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>3f968d19-5420-3f18-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>0462592f-d4a3-37ec-9af9-b0f17f261620</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>a7084fd2-04a5-3826-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <versionedComponentId>a7084fd2-04a5-3826-a4d8-ee5cf9c159a5</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>7288d889-ef7f-33ad-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>7288d889-ef7f-33ad-b0ac-d8d089dcab4f</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>62c59c9f-931b-338d-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>62c59c9f-931b-338d-9ce3-3c51c7ee28be</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>bc09527f-cb50-348c-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <versionedComponentId>bc09527f-cb50-348c-b3ce-9d040117c718</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>7886d7db-eb3d-3b7a-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>7886d7db-eb3d-3b7a-8622-50753f933ab9</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>matched</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>e19f06f4-acd1-3904-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>30ea950f-0d74-37ba-803f-d7e63fa15d36</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>c6b11b91-cc59-33a9-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>ac6a8bd1-ef33-3a70-0000-000000000000</groupId>
        <id>d65482d0-09a5-3710-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>Failure</selectedRelationships>
    <selectedRelationships>No Retry</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>a6ec9d2d-96a9-31c1-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>e9690119-7658-3f6b-b445-1ac9483d4104</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>d577d24e-55ca-3e36-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <versionedComponentId>d577d24e-55ca-3e36-b1a2-b68877f995eb</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>7288d889-ef7f-33ad-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>7288d889-ef7f-33ad-b0ac-d8d089dcab4f</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>becc8638-70fb-3d45-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>becc8638-70fb-3d45-b121-fd0d43bf8cf4</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>ee886d3e-edf4-3162-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <versionedComponentId>3ab81a53-cc00-33ca-80fe-e70c087e630d</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>25d22aca-1980-30c6-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>411279c1-b511-3fb6-9df7-01ca6364f6e4</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>c181afad-5ac6-3c3e-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>980029bd-c648-3ae4-a37b-b6a52c0e760c</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>f31f35d4-06dc-36c8-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <versionedComponentId>70306740-8c43-386e-baa3-975d2f7f2052</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>8eec1307-b80c-3156-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
        <versionedComponentId>7ff4f782-d13a-35dc-abf6-4c198153a3e1</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>hasMatchingVariants</selectedRelationships>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>25d22aca-1980-30c6-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>411279c1-b511-3fb6-9df7-01ca6364f6e4</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>ff50f1fc-cc96-3fe7-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <versionedComponentId>b09202d0-8953-30f1-81e4-2efb9edcb064</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>e19f06f4-acd1-3904-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>30ea950f-0d74-37ba-803f-d7e63fa15d36</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>f7aa948a-1316-3ba1-0000-000000000000</groupId>
        <id>e0fa613b-87fa-3bbe-0000-000000000000</id>
        <type>INPUT_PORT</type>
        <versionedComponentId>c5dd8283-bcf2-3fb8-9be7-d43b449f26d4</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>e0fa613b-87fa-3bbe-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <position>
        <x>520.0</x>
        <y>-8.0</y>
    </position>
    <versionedComponentId>c5dd8283-bcf2-3fb8-9be7-d43b449f26d4</versionedComponentId>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>Input</name>
    <state>STOPPED</state>
    <type>INPUT_PORT</type>
</inputPorts>
<outputPorts>
    <id>8eec1307-b80c-3156-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <position>
        <x>520.0</x>
        <y>1584.0</y>
    </position>
    <versionedComponentId>7ff4f782-d13a-35dc-abf6-4c198153a3e1</versionedComponentId>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>FilteredOutput</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processGroups>
    <id>6d5a8466-4572-324d-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <position>
        <x>-320.0</x>
        <y>1024.0</y>
    </position>
    <comments></comments>
    <contents>
        <connections>
            <id>050195a1-5e50-31c2-0000-000000000000</id>
            <parentGroupId>6d5a8466-4572-324d-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>6d5a8466-4572-324d-0000-000000000000</groupId>
                <id>923efd62-c71d-3ea3-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>6d5a8466-4572-324d-0000-000000000000</groupId>
                <id>227f0ca9-f39f-33d4-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>493b8b1a-99fe-3533-0000-000000000000</id>
            <parentGroupId>6d5a8466-4572-324d-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>6d5a8466-4572-324d-0000-000000000000</groupId>
                <id>227f0ca9-f39f-33d4-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>6d5a8466-4572-324d-0000-000000000000</groupId>
                <id>7bc39d88-e4f4-3a40-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>c806cafc-6e69-3edc-0000-000000000000</id>
            <parentGroupId>6d5a8466-4572-324d-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>6d5a8466-4572-324d-0000-000000000000</groupId>
                <id>2325136f-2945-3b7e-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>6d5a8466-4572-324d-0000-000000000000</groupId>
                <id>7bc39d88-e4f4-3a40-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>d4b0f1d2-373d-3a83-0000-000000000000</id>
            <parentGroupId>6d5a8466-4572-324d-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>6d5a8466-4572-324d-0000-000000000000</groupId>
                <id>923efd62-c71d-3ea3-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>6d5a8466-4572-324d-0000-000000000000</groupId>
                <id>2325136f-2945-3b7e-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <inputPorts>
            <id>7bc39d88-e4f4-3a40-0000-000000000000</id>
            <parentGroupId>6d5a8466-4572-324d-0000-000000000000</parentGroupId>
            <position>
                <x>368.0</x>
                <y>-192.0</y>
            </position>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <name>failure</name>
            <state>STOPPED</state>
            <type>INPUT_PORT</type>
        </inputPorts>
        <processors>
            <id>227f0ca9-f39f-33d4-0000-000000000000</id>
            <parentGroupId>6d5a8466-4572-324d-0000-000000000000</parentGroupId>
            <position>
                <x>16.0</x>
                <y>-72.0</y>
            </position>
            <bundle>
                <artifact>nifi-kafka-2-6-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>
                            <name>bootstrap.servers</name>
                        </value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>
                            <name>topic</name>
                        </value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>
                            <name>use-transactions</name>
                        </value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>
                            <dependencies>
<dependentValues>true</dependentValues>
<propertyName>use-transactions</propertyName>
                            </dependencies>
                            <name>transactional-id-prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                        <value>
                            <name>message-demarcator</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>
                            <name>Failure Strategy</name>
                        </value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>
                            <name>acks</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                        <value>
                            <name>attribute-name-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>
                            <name>message-header-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>
                            <name>security.protocol</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>
                            <name>sasl.mechanism</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.KerberosCredentialsService</identifiesControllerService>
                            <name>kerberos-credentials-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.SelfContainedKerberosUserService</identifiesControllerService>
                            <name>kerberos-user-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                        <value>
                            <name>sasl.kerberos.service.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                        <value>
                            <name>sasl.kerberos.principal</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                        <value>
                            <name>sasl.kerberos.keytab</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.username</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.password</name>
                        </value>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                        <value>
                            <dependencies>
<dependentValues>AWS_MSK_IAM</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>aws.profile.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>
                            <dependencies>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.token.auth</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                            <name>ssl.context.service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                        <value>
                            <name>kafka-key</name>
                        </value>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>
                            <name>key-attribute-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>
                            <name>max.request.size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>
                            <name>ack.wait.time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>
                            <name>max.block.ms</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>
                            <name>partitioner.class</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>
                            <name>partition</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>
                            <name>compression.type</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>#{kafka_broker}</value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>#{kafka_failed_topic}</value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>trans</value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>Route to Failure</value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>all</value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>UTF-8</value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>PLAINTEXT</value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>GSSAPI</value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>utf-8</value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>1 MB</value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>30 secs</value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>30 sec</value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>org.apache.kafka.clients.producer.internals.DefaultPartitioner</value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>gzip</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>FailedPublishKafka</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6</type>
        </processors>
        <processors>
            <id>2325136f-2945-3b7e-0000-000000000000</id>
            <parentGroupId>6d5a8466-4572-324d-0000-000000000000</parentGroupId>
            <position>
                <x>640.0</x>
                <y>-64.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.dbcp.DBCPService</identifiesControllerService>
                            <name>Database Connection Pooling Service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                        <value>
                            <name>sql-pre-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>
                            <name>SQL select query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                        <value>
                            <name>sql-post-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>
                            <name>Max Wait Time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>
                            <name>dbf-normalize</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>
                            <name>dbf-user-logical-types</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>
                            <name>compression-format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>
                            <name>dbf-default-precision</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>
                            <name>dbf-default-scale</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>
                            <name>esql-max-rows</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>
                            <name>esql-output-batch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>
                            <name>esql-fetch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>
                            <name>esql-auto-commit</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>480b2bf7-beb4-30ac-0000-000000000000</value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>UPDATE file_processing_log SET updated_at = '${now():format("yyyy-MM-dd HH:mm:ss")}', updated_by = 'nifi', status = '${status}', error_message ='${invokehttp.status.message}' WHERE order_no = '${orderNumber}' AND application = 'ejje-nebula-forward-order-creation';</value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>0 seconds</value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>NONE</value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>10</value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>true</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>ExecuteSQL</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.ExecuteSQL</type>
        </processors>
        <processors>
            <id>923efd62-c71d-3ea3-0000-000000000000</id>
            <parentGroupId>6d5a8466-4572-324d-0000-000000000000</parentGroupId>
            <position>
                <x>288.0</x>
                <y>168.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Log Level</key>
                        <value>
                            <name>Log Level</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>
                            <name>Log Payload</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                        <value>
                            <name>Attributes to Log</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>
                            <name>attributes-to-log-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                        <value>
                            <name>Attributes to Ignore</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                        <value>
                            <name>attributes-to-ignore-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>
                            <name>Log FlowFile Properties</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>
                            <name>Output Format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                        <value>
                            <name>Log prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>
                            <name>character-set</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Log Level</key>
                        <value>info</value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>.*</value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>true</value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>Line per Attribute</value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>UTF-8</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>25</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>LogAttribute</name>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.LogAttribute</type>
        </processors>
    </contents>
    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
    <logFileSuffix></logFileSuffix>
    <name>Copy of Failure logging and publishing</name>
    <variables/>
</processGroups>
<processGroups>
    <id>abedb126-389d-303e-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <position>
        <x>1168.0</x>
        <y>176.0</y>
    </position>
    <comments></comments>
    <contents>
        <connections>
            <id>2a42da87-86da-3af0-0000-000000000000</id>
            <parentGroupId>abedb126-389d-303e-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>abedb126-389d-303e-0000-000000000000</groupId>
                <id>47d05ae6-48a5-3a68-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>abedb126-389d-303e-0000-000000000000</groupId>
                <id>f9aa5d98-a4f1-3a5b-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>3177d276-dd77-31e1-0000-000000000000</id>
            <parentGroupId>abedb126-389d-303e-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>abedb126-389d-303e-0000-000000000000</groupId>
                <id>b6b8934a-3c6c-3c39-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>abedb126-389d-303e-0000-000000000000</groupId>
                <id>c31caa82-1251-338a-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>4466a743-7aea-364c-0000-000000000000</id>
            <parentGroupId>abedb126-389d-303e-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>abedb126-389d-303e-0000-000000000000</groupId>
                <id>c31caa82-1251-338a-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>abedb126-389d-303e-0000-000000000000</groupId>
                <id>f9aa5d98-a4f1-3a5b-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>aca85e21-da71-3b9d-0000-000000000000</id>
            <parentGroupId>abedb126-389d-303e-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>abedb126-389d-303e-0000-000000000000</groupId>
                <id>b6b8934a-3c6c-3c39-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>abedb126-389d-303e-0000-000000000000</groupId>
                <id>47d05ae6-48a5-3a68-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <inputPorts>
            <id>f9aa5d98-a4f1-3a5b-0000-000000000000</id>
            <parentGroupId>abedb126-389d-303e-0000-000000000000</parentGroupId>
            <position>
                <x>368.0</x>
                <y>-192.0</y>
            </position>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <name>failure</name>
            <state>STOPPED</state>
            <type>INPUT_PORT</type>
        </inputPorts>
        <processors>
            <id>47d05ae6-48a5-3a68-0000-000000000000</id>
            <parentGroupId>abedb126-389d-303e-0000-000000000000</parentGroupId>
            <position>
                <x>16.0</x>
                <y>-72.0</y>
            </position>
            <bundle>
                <artifact>nifi-kafka-2-6-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>
                            <name>bootstrap.servers</name>
                        </value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>
                            <name>topic</name>
                        </value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>
                            <name>use-transactions</name>
                        </value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>
                            <dependencies>
<dependentValues>true</dependentValues>
<propertyName>use-transactions</propertyName>
                            </dependencies>
                            <name>transactional-id-prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                        <value>
                            <name>message-demarcator</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>
                            <name>Failure Strategy</name>
                        </value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>
                            <name>acks</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                        <value>
                            <name>attribute-name-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>
                            <name>message-header-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>
                            <name>security.protocol</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>
                            <name>sasl.mechanism</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.KerberosCredentialsService</identifiesControllerService>
                            <name>kerberos-credentials-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.SelfContainedKerberosUserService</identifiesControllerService>
                            <name>kerberos-user-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                        <value>
                            <name>sasl.kerberos.service.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                        <value>
                            <name>sasl.kerberos.principal</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                        <value>
                            <name>sasl.kerberos.keytab</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.username</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.password</name>
                        </value>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                        <value>
                            <dependencies>
<dependentValues>AWS_MSK_IAM</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>aws.profile.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>
                            <dependencies>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.token.auth</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                            <name>ssl.context.service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                        <value>
                            <name>kafka-key</name>
                        </value>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>
                            <name>key-attribute-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>
                            <name>max.request.size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>
                            <name>ack.wait.time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>
                            <name>max.block.ms</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>
                            <name>partitioner.class</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>
                            <name>partition</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>
                            <name>compression.type</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>#{kafka_broker}</value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>#{kafka_failed_topic}</value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>trans</value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>Route to Failure</value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>all</value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>UTF-8</value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>PLAINTEXT</value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>GSSAPI</value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>utf-8</value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>1 MB</value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>30 secs</value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>30 sec</value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>org.apache.kafka.clients.producer.internals.DefaultPartitioner</value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>gzip</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>FailedPublishKafka</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6</type>
        </processors>
        <processors>
            <id>b6b8934a-3c6c-3c39-0000-000000000000</id>
            <parentGroupId>abedb126-389d-303e-0000-000000000000</parentGroupId>
            <position>
                <x>288.0</x>
                <y>168.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Log Level</key>
                        <value>
                            <name>Log Level</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>
                            <name>Log Payload</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                        <value>
                            <name>Attributes to Log</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>
                            <name>attributes-to-log-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                        <value>
                            <name>Attributes to Ignore</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                        <value>
                            <name>attributes-to-ignore-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>
                            <name>Log FlowFile Properties</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>
                            <name>Output Format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                        <value>
                            <name>Log prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>
                            <name>character-set</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Log Level</key>
                        <value>info</value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>.*</value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>true</value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>Line per Attribute</value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>UTF-8</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>25</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>LogAttribute</name>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.LogAttribute</type>
        </processors>
        <processors>
            <id>c31caa82-1251-338a-0000-000000000000</id>
            <parentGroupId>abedb126-389d-303e-0000-000000000000</parentGroupId>
            <position>
                <x>640.0</x>
                <y>-64.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.dbcp.DBCPService</identifiesControllerService>
                            <name>Database Connection Pooling Service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                        <value>
                            <name>sql-pre-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>
                            <name>SQL select query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                        <value>
                            <name>sql-post-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>
                            <name>Max Wait Time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>
                            <name>dbf-normalize</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>
                            <name>dbf-user-logical-types</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>
                            <name>compression-format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>
                            <name>dbf-default-precision</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>
                            <name>dbf-default-scale</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>
                            <name>esql-max-rows</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>
                            <name>esql-output-batch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>
                            <name>esql-fetch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>
                            <name>esql-auto-commit</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>480b2bf7-beb4-30ac-0000-000000000000</value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>UPDATE file_processing_log SET updated_at = '${now():format("yyyy-MM-dd HH:mm:ss")}', updated_by = 'nifi', status = '${status}', error_message ='${invokehttp.status.message}' WHERE order_no = '${orderNumber}' AND application = 'ejje-nebula-forward-order-creation';</value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>0 seconds</value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>NONE</value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>10</value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>true</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>ExecuteSQL</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.ExecuteSQL</type>
        </processors>
    </contents>
    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
    <logFileSuffix></logFileSuffix>
    <name>Failure logging and publishing</name>
    <variables/>
</processGroups>
<processGroups>
    <id>ac6a8bd1-ef33-3a70-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <position>
        <x>-184.0</x>
        <y>480.0</y>
    </position>
    <comments></comments>
    <contents>
        <connections>
            <id>01d78b98-e5fe-3cc2-0000-000000000000</id>
            <parentGroupId>ac6a8bd1-ef33-3a70-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>ac6a8bd1-ef33-3a70-0000-000000000000</groupId>
                <id>ebbdb253-1e8b-357a-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>ac6a8bd1-ef33-3a70-0000-000000000000</groupId>
                <id>d05ef8ef-9370-3858-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>2d48f6b9-b297-301e-0000-000000000000</id>
            <parentGroupId>ac6a8bd1-ef33-3a70-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>ac6a8bd1-ef33-3a70-0000-000000000000</groupId>
                <id>ebbdb253-1e8b-357a-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>ac6a8bd1-ef33-3a70-0000-000000000000</groupId>
                <id>fe5ed204-2d6e-3e86-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>3799af96-062c-3480-0000-000000000000</id>
            <parentGroupId>ac6a8bd1-ef33-3a70-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>ac6a8bd1-ef33-3a70-0000-000000000000</groupId>
                <id>ebbdb253-1e8b-357a-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>failure</selectedRelationships>
            <source>
                <groupId>ac6a8bd1-ef33-3a70-0000-000000000000</groupId>
                <id>67ccb43c-352a-39b8-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>80455364-c13f-3a57-0000-000000000000</id>
            <parentGroupId>ac6a8bd1-ef33-3a70-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>ac6a8bd1-ef33-3a70-0000-000000000000</groupId>
                <id>d05ef8ef-9370-3858-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>success</selectedRelationships>
            <source>
                <groupId>ac6a8bd1-ef33-3a70-0000-000000000000</groupId>
                <id>67ccb43c-352a-39b8-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>e38a6d35-ce69-36bd-0000-000000000000</id>
            <parentGroupId>ac6a8bd1-ef33-3a70-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>ac6a8bd1-ef33-3a70-0000-000000000000</groupId>
                <id>fe5ed204-2d6e-3e86-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>ac6a8bd1-ef33-3a70-0000-000000000000</groupId>
                <id>d65482d0-09a5-3710-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>e48a5bde-0fd9-30be-0000-000000000000</id>
            <parentGroupId>ac6a8bd1-ef33-3a70-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>ac6a8bd1-ef33-3a70-0000-000000000000</groupId>
                <id>67ccb43c-352a-39b8-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <source>
                <groupId>ac6a8bd1-ef33-3a70-0000-000000000000</groupId>
                <id>d65482d0-09a5-3710-0000-000000000000</id>
                <type>INPUT_PORT</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <inputPorts>
            <id>d65482d0-09a5-3710-0000-000000000000</id>
            <parentGroupId>ac6a8bd1-ef33-3a70-0000-000000000000</parentGroupId>
            <position>
                <x>296.0</x>
                <y>-200.0</y>
            </position>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <name>failure</name>
            <state>STOPPED</state>
            <type>INPUT_PORT</type>
        </inputPorts>
        <processors>
            <id>67ccb43c-352a-39b8-0000-000000000000</id>
            <parentGroupId>ac6a8bd1-ef33-3a70-0000-000000000000</parentGroupId>
            <position>
                <x>720.0</x>
                <y>-72.0</y>
            </position>
            <bundle>
                <artifact>nifi-scripting-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Script Engine</key>
                        <value>
                            <name>Script Engine</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Script File</key>
                        <value>
                            <name>Script File</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Script Body</key>
                        <value>
                            <name>Script Body</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Module Directory</key>
                        <value>
                            <name>Module Directory</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Script Engine</key>
                        <value>Groovy</value>
                    </entry>
                    <entry>
                        <key>Script File</key>
                    </entry>
                    <entry>
                        <key>Script Body</key>
                        <value>import org.apache.nifi.processor.io.StreamCallback
import org.apache.commons.io.IOUtils
import java.nio.charset.StandardCharsets

flowFile = session.get()
if (!flowFile) return

def statusCode = flowFile.getAttribute('invokehttp.status.code')

if (statusCode == '200') {
    flowFile = session.putAttribute(flowFile, 'status', 'Success')
} else if (statusCode.startsWith('4')) {
    flowFile = session.putAttribute(flowFile, 'status', 'Failure')
} else if (statusCode.startsWith('5')) {
    flowFile = session.putAttribute(flowFile, 'status', 'Retry')
} else {
    flowFile = session.putAttribute(flowFile, 'status', 'Unknown')
}

session.transfer(flowFile, REL_SUCCESS)</value>
                    </entry>
                    <entry>
                        <key>Module Directory</key>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>ExecuteScript</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.script.ExecuteScript</type>
        </processors>
        <processors>
            <id>d05ef8ef-9370-3858-0000-000000000000</id>
            <parentGroupId>ac6a8bd1-ef33-3a70-0000-000000000000</parentGroupId>
            <position>
                <x>720.0</x>
                <y>192.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.dbcp.DBCPService</identifiesControllerService>
                            <name>Database Connection Pooling Service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                        <value>
                            <name>sql-pre-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>
                            <name>SQL select query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                        <value>
                            <name>sql-post-query</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>
                            <name>Max Wait Time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>
                            <name>dbf-normalize</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>
                            <name>dbf-user-logical-types</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>
                            <name>compression-format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>
                            <name>dbf-default-precision</name>
                        </value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>
                            <name>dbf-default-scale</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>
                            <name>esql-max-rows</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>
                            <name>esql-output-batch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>
                            <name>esql-fetch-size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>
                            <name>esql-auto-commit</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Database Connection Pooling Service</key>
                        <value>480b2bf7-beb4-30ac-0000-000000000000</value>
                    </entry>
                    <entry>
                        <key>sql-pre-query</key>
                    </entry>
                    <entry>
                        <key>SQL select query</key>
                        <value>UPDATE file_processing_log SET updated_at = '${now():format("yyyy-MM-dd HH:mm:ss")}', updated_by = 'nifi', status = '${status}', error_message ='${invokehttp.status.message}' WHERE order_no = '${orderNumber}' AND application = 'ejje-nebula-forward-order-creation';</value>
                    </entry>
                    <entry>
                        <key>sql-post-query</key>
                    </entry>
                    <entry>
                        <key>Max Wait Time</key>
                        <value>0 seconds</value>
                    </entry>
                    <entry>
                        <key>dbf-normalize</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>dbf-user-logical-types</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>compression-format</key>
                        <value>NONE</value>
                    </entry>
                    <entry>
                        <key>dbf-default-precision</key>
                        <value>10</value>
                    </entry>
                    <entry>
                        <key>dbf-default-scale</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-max-rows</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-output-batch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-fetch-size</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>esql-auto-commit</key>
                        <value>true</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>ExecuteSQL</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.ExecuteSQL</type>
        </processors>
        <processors>
            <id>ebbdb253-1e8b-357a-0000-000000000000</id>
            <parentGroupId>ac6a8bd1-ef33-3a70-0000-000000000000</parentGroupId>
            <position>
                <x>16.0</x>
                <y>192.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Log Level</key>
                        <value>
                            <name>Log Level</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>
                            <name>Log Payload</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                        <value>
                            <name>Attributes to Log</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>
                            <name>attributes-to-log-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                        <value>
                            <name>Attributes to Ignore</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                        <value>
                            <name>attributes-to-ignore-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>
                            <name>Log FlowFile Properties</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>
                            <name>Output Format</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                        <value>
                            <name>Log prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>
                            <name>character-set</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Log Level</key>
                        <value>info</value>
                    </entry>
                    <entry>
                        <key>Log Payload</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Attributes to Log</key>
                    </entry>
                    <entry>
                        <key>attributes-to-log-regex</key>
                        <value>.*</value>
                    </entry>
                    <entry>
                        <key>Attributes to Ignore</key>
                    </entry>
                    <entry>
                        <key>attributes-to-ignore-regex</key>
                    </entry>
                    <entry>
                        <key>Log FlowFile Properties</key>
                        <value>true</value>
                    </entry>
                    <entry>
                        <key>Output Format</key>
                        <value>Line per Attribute</value>
                    </entry>
                    <entry>
                        <key>Log prefix</key>
                    </entry>
                    <entry>
                        <key>character-set</key>
                        <value>UTF-8</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>25</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>LogAttribute</name>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.LogAttribute</type>
        </processors>
        <processors>
            <id>fe5ed204-2d6e-3e86-0000-000000000000</id>
            <parentGroupId>ac6a8bd1-ef33-3a70-0000-000000000000</parentGroupId>
            <position>
                <x>16.0</x>
                <y>-72.0</y>
            </position>
            <bundle>
                <artifact>nifi-kafka-2-6-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.26.0</version>
            </bundle>
            <config>
                <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>
                            <name>bootstrap.servers</name>
                        </value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>
                            <name>topic</name>
                        </value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>
                            <name>use-transactions</name>
                        </value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>
                            <dependencies>
<dependentValues>true</dependentValues>
<propertyName>use-transactions</propertyName>
                            </dependencies>
                            <name>transactional-id-prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                        <value>
                            <name>message-demarcator</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>
                            <name>Failure Strategy</name>
                        </value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>
                            <name>acks</name>
                        </value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                        <value>
                            <name>attribute-name-regex</name>
                        </value>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>
                            <name>message-header-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>
                            <name>security.protocol</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>
                            <name>sasl.mechanism</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.KerberosCredentialsService</identifiesControllerService>
                            <name>kerberos-credentials-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.kerberos.SelfContainedKerberosUserService</identifiesControllerService>
                            <name>kerberos-user-service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                        <value>
                            <name>sasl.kerberos.service.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                        <value>
                            <name>sasl.kerberos.principal</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                        <value>
                            <name>sasl.kerberos.keytab</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.username</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                        <value>
                            <dependencies>
<dependentValues>PLAIN</dependentValues>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.password</name>
                        </value>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                        <value>
                            <dependencies>
<dependentValues>AWS_MSK_IAM</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>aws.profile.name</name>
                        </value>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>
                            <dependencies>
<dependentValues>SCRAM-SHA-512</dependentValues>
<dependentValues>SCRAM-SHA-256</dependentValues>
<propertyName>sasl.mechanism</propertyName>
                            </dependencies>
                            <name>sasl.token.auth</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                        <value>
                            <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                            <name>ssl.context.service</name>
                        </value>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                        <value>
                            <name>kafka-key</name>
                        </value>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>
                            <name>key-attribute-encoding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>
                            <name>max.request.size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>
                            <name>ack.wait.time</name>
                        </value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>
                            <name>max.block.ms</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>
                            <name>partitioner.class</name>
                        </value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>
                            <name>partition</name>
                        </value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>
                            <name>compression.type</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>bootstrap.servers</key>
                        <value>#{kafka_broker}</value>
                    </entry>
                    <entry>
                        <key>topic</key>
                        <value>#{kafka_failed_topic}</value>
                    </entry>
                    <entry>
                        <key>use-transactions</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>transactional-id-prefix</key>
                        <value>trans</value>
                    </entry>
                    <entry>
                        <key>message-demarcator</key>
                    </entry>
                    <entry>
                        <key>Failure Strategy</key>
                        <value>Route to Failure</value>
                    </entry>
                    <entry>
                        <key>acks</key>
                        <value>all</value>
                    </entry>
                    <entry>
                        <key>attribute-name-regex</key>
                    </entry>
                    <entry>
                        <key>message-header-encoding</key>
                        <value>UTF-8</value>
                    </entry>
                    <entry>
                        <key>security.protocol</key>
                        <value>PLAINTEXT</value>
                    </entry>
                    <entry>
                        <key>sasl.mechanism</key>
                        <value>GSSAPI</value>
                    </entry>
                    <entry>
                        <key>kerberos-credentials-service</key>
                    </entry>
                    <entry>
                        <key>kerberos-user-service</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.service.name</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.principal</key>
                    </entry>
                    <entry>
                        <key>sasl.kerberos.keytab</key>
                    </entry>
                    <entry>
                        <key>sasl.username</key>
                    </entry>
                    <entry>
                        <key>sasl.password</key>
                    </entry>
                    <entry>
                        <key>aws.profile.name</key>
                    </entry>
                    <entry>
                        <key>sasl.token.auth</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>ssl.context.service</key>
                    </entry>
                    <entry>
                        <key>kafka-key</key>
                    </entry>
                    <entry>
                        <key>key-attribute-encoding</key>
                        <value>utf-8</value>
                    </entry>
                    <entry>
                        <key>max.request.size</key>
                        <value>1 MB</value>
                    </entry>
                    <entry>
                        <key>ack.wait.time</key>
                        <value>30 secs</value>
                    </entry>
                    <entry>
                        <key>max.block.ms</key>
                        <value>30 sec</value>
                    </entry>
                    <entry>
                        <key>partitioner.class</key>
                        <value>org.apache.kafka.clients.producer.internals.DefaultPartitioner</value>
                    </entry>
                    <entry>
                        <key>partition</key>
                        <value>0</value>
                    </entry>
                    <entry>
                        <key>compression.type</key>
                        <value>gzip</value>
                    </entry>
                </properties>
                <retryCount>10</retryCount>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>FailedPublishKafka</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>failure</name>
                <retry>false</retry>
            </relationships>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
                <retry>false</retry>
            </relationships>
            <state>STOPPED</state>
            <style/>
            <type>org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6</type>
        </processors>
    </contents>
    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
    <logFileSuffix></logFileSuffix>
    <name>Failure logging and publishing-invokehttp</name>
    <variables/>
</processGroups>
<processors>
    <id>25d22aca-1980-30c6-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <position>
        <x>464.0</x>
        <y>1384.0</y>
    </position>
    <versionedComponentId>411279c1-b511-3fb6-9df7-01ca6364f6e4</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Routing Strategy</key>
                <value>
                    <name>Routing Strategy</name>
                </value>
            </entry>
            <entry>
                <key>hasMatchingVariants</key>
                <value>
                    <name>hasMatchingVariants</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Routing Strategy</key>
                <value>Route to Property name</value>
            </entry>
            <entry>
                <key>hasMatchingVariants</key>
                <value>${hasMatchingVariants:equals('true')}</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>25</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>RouteOnAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>hasMatchingVariants</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>unmatched</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
</processors>
<processors>
    <id>33f5ee9d-a48e-3a70-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <position>
        <x>464.0</x>
        <y>736.0</y>
    </position>
    <versionedComponentId>9ff6f9a2-880e-3775-862f-c90e8c1e323c</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Destination</key>
                <value>
                    <name>Destination</name>
                </value>
            </entry>
            <entry>
                <key>Return Type</key>
                <value>
                    <name>Return Type</name>
                </value>
            </entry>
            <entry>
                <key>Path Not Found Behavior</key>
                <value>
                    <dependencies>
                        <dependentValues>flowfile-attribute</dependentValues>
                        <propertyName>Destination</propertyName>
                    </dependencies>
                    <name>Path Not Found Behavior</name>
                </value>
            </entry>
            <entry>
                <key>Null Value Representation</key>
                <value>
                    <name>Null Value Representation</name>
                </value>
            </entry>
            <entry>
                <key>Max String Length</key>
                <value>
                    <name>Max String Length</name>
                </value>
            </entry>
            <entry>
                <key>has_variants</key>
                <value>
                    <name>has_variants</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Destination</key>
                <value>flowfile-attribute</value>
            </entry>
            <entry>
                <key>Return Type</key>
                <value>auto-detect</value>
            </entry>
            <entry>
                <key>Path Not Found Behavior</key>
                <value>ignore</value>
            </entry>
            <entry>
                <key>Null Value Representation</key>
                <value>empty string</value>
            </entry>
            <entry>
                <key>Max String Length</key>
                <value>20 MB</value>
            </entry>
            <entry>
                <key>has_variants</key>
                <value>$.has_variants</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Set has_vaiants attribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>matched</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>unmatched</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.EvaluateJsonPath</type>
</processors>
<processors>
    <id>3f968d19-5420-3f18-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <position>
        <x>464.0</x>
        <y>944.0</y>
    </position>
    <versionedComponentId>0462592f-d4a3-37ec-9af9-b0f17f261620</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Routing Strategy</key>
                <value>
                    <name>Routing Strategy</name>
                </value>
            </entry>
            <entry>
                <key>HasVariants</key>
                <value>
                    <name>HasVariants</name>
                </value>
            </entry>
            <entry>
                <key>NoVariants</key>
                <value>
                    <name>NoVariants</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Routing Strategy</key>
                <value>Route to Property name</value>
            </entry>
            <entry>
                <key>HasVariants</key>
                <value>${has_variants:equals('true')}</value>
            </entry>
            <entry>
                <key>NoVariants</key>
                <value>${has_variants:equals('false')}</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>25</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>RouteOnAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>HasVariants</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>NoVariants</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>unmatched</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
</processors>
<processors>
    <id>4ae8c6ac-49b6-3d65-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <position>
        <x>2048.0</x>
        <y>1376.0</y>
    </position>
    <versionedComponentId>4ae8c6ac-49b6-3d65-b73f-feb36b8c9a40</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Destination</key>
                <value>
                    <name>Destination</name>
                </value>
            </entry>
            <entry>
                <key>Return Type</key>
                <value>
                    <name>Return Type</name>
                </value>
            </entry>
            <entry>
                <key>Path Not Found Behavior</key>
                <value>
                    <dependencies>
                        <dependentValues>flowfile-attribute</dependentValues>
                        <propertyName>Destination</propertyName>
                    </dependencies>
                    <name>Path Not Found Behavior</name>
                </value>
            </entry>
            <entry>
                <key>Null Value Representation</key>
                <value>
                    <name>Null Value Representation</name>
                </value>
            </entry>
            <entry>
                <key>Max String Length</key>
                <value>
                    <name>Max String Length</name>
                </value>
            </entry>
            <entry>
                <key>businessGroupId</key>
                <value>
                    <name>businessGroupId</name>
                </value>
            </entry>
            <entry>
                <key>entityType</key>
                <value>
                    <name>entityType</name>
                </value>
            </entry>
            <entry>
                <key>eventType</key>
                <value>
                    <name>eventType</name>
                </value>
            </entry>
            <entry>
                <key>tenantId</key>
                <value>
                    <name>tenantId</name>
                </value>
            </entry>
            <entry>
                <key>traceId</key>
                <value>
                    <name>traceId</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Destination</key>
                <value>flowfile-attribute</value>
            </entry>
            <entry>
                <key>Return Type</key>
                <value>auto-detect</value>
            </entry>
            <entry>
                <key>Path Not Found Behavior</key>
                <value>ignore</value>
            </entry>
            <entry>
                <key>Null Value Representation</key>
                <value>empty string</value>
            </entry>
            <entry>
                <key>Max String Length</key>
                <value>20 MB</value>
            </entry>
            <entry>
                <key>businessGroupId</key>
                <value>$.detail.business_grp_id</value>
            </entry>
            <entry>
                <key>entityType</key>
                <value>$.detail.entity_type</value>
            </entry>
            <entry>
                <key>eventType</key>
                <value>$.detail.event_type</value>
            </entry>
            <entry>
                <key>tenantId</key>
                <value>$.detail.tenant_id</value>
            </entry>
            <entry>
                <key>traceId</key>
                <value>$.detail.trace_id</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Set flowfile attributes</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>matched</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>unmatched</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.EvaluateJsonPath</type>
</processors>
<processors>
    <id>62c59c9f-931b-338d-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <position>
        <x>1056.0</x>
        <y>1232.0</y>
    </position>
    <versionedComponentId>62c59c9f-931b-338d-9ce3-3c51c7ee28be</versionedComponentId>
    <bundle>
        <artifact>nifi-scripting-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Script Engine</key>
                <value>
                    <name>Script Engine</name>
                </value>
            </entry>
            <entry>
                <key>Script File</key>
                <value>
                    <name>Script File</name>
                </value>
            </entry>
            <entry>
                <key>Script Body</key>
                <value>
                    <name>Script Body</name>
                </value>
            </entry>
            <entry>
                <key>Module Directory</key>
                <value>
                    <name>Module Directory</name>
                </value>
            </entry>
            <entry>
                <key>api_token_url</key>
                <value>
                    <name>api_token_url</name>
                </value>
            </entry>
            <entry>
                <key>clientsecretrmg</key>
                <value>
                    <name>clientsecretrmg</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Script Engine</key>
                <value>Groovy</value>
            </entry>
            <entry>
                <key>Script File</key>
            </entry>
            <entry>
                <key>Script Body</key>
                <value>import java.net.HttpURLConnection
import java.net.URL
import java.nio.charset.StandardCharsets
import groovy.json.JsonSlurper
import groovy.json.JsonOutput
 
def flowFile = session.get()
if (flowFile != null) {
    try {
        // Extract required attributes from the flow file
        def tenantId = flowFile.getAttribute('tenantId')
        def businessGroupId = flowFile.getAttribute('businessGroupId')
 
        if (!tenantId || !businessGroupId) {
            log.error("Missing required attributes (tenantId, businessGroupId)")
            flowFile = session.putAttribute(flowFile, 'error', 'Missing required attributes')
            session.transfer(flowFile, REL_FAILURE)
            return
        }
       
        // Key for state management based on tenantId
        def stateKeyToken = "access_token_${tenantId}"
        def stateKeyExpiry = "token_expiry_${tenantId}"
       
        // Retrieve state (token and its expiry)
        def stateMap = context.getStateManager().getState(org.apache.nifi.components.state.Scope.CLUSTER).toMap()
        def accessToken = stateMap[stateKeyToken]
        def tokenExpiry = stateMap[stateKeyExpiry] ? Long.parseLong(stateMap[stateKeyExpiry]) : 0
        def currentTime = System.currentTimeMillis() / 1000
 
        // Check if token exists and is still valid (add some buffer time, e.g., 60 seconds)
        if (accessToken &amp;&amp; currentTime &lt; (tokenExpiry - 60)) {
            log.info("Using cached token for tenantId: ${tenantId}")
        } else {
            // Retrieve the client secret from the Parameter Context based on tenantId.
            def clientSecretPropertyName = "clientsecret${tenantId}"
            def clientSecret = context.getProperty(clientSecretPropertyName)?.evaluateAttributeExpressions()?.getValue()
           
            if (!clientSecret) {
                log.error("Missing client secret for tenantId: ${tenantId}")
                flowFile = session.putAttribute(flowFile, 'error', 'Missing client secret')
                session.transfer(flowFile, REL_FAILURE)
                return
            }
           
            def apiUrl = context.getProperty("api_token_url")?.evaluateAttributeExpressions()?.getValue()
           
            // Create JSON payload dynamically with the client secret retrieved
            def payloadJson = JsonOutput.toJson([
                client_secret: clientSecret,
                grant_type   : "client_credentials"
            ])
           
            // Make the POST request
            def connection = new URL(apiUrl).openConnection() as HttpURLConnection
            connection.requestMethod = 'POST'
            connection.setRequestProperty("x-tenant-id", tenantId)
            connection.setRequestProperty("x-client-id", "backend")
            connection.setRequestProperty("x-trace-id", UUID.randomUUID().toString()) // Generate unique trace ID
            connection.setRequestProperty("x-business-group-id", businessGroupId)
            connection.setRequestProperty("Content-Type", "application/json")
            connection.setRequestProperty("Accept", "application/json")
            connection.doOutput = true
           
            // Write the JSON payload to the request output stream
            try (def writer = new java.io.DataOutputStream(connection.outputStream)) {
                writer.write(payloadJson.getBytes(StandardCharsets.UTF_8))
            }
           
            // Read the response
            def responseCode = connection.responseCode
            def responseBody = responseCode == HttpURLConnection.HTTP_OK ? connection.inputStream.text : connection.errorStream.text
            connection.disconnect()
           
            // Parse the response and extract attributes
            def jsonResponse = new JsonSlurper().parseText(responseBody)
           
            if (jsonResponse.access_token) {
                accessToken = jsonResponse.access_token
                // Set token expiry. 'expires_in' is given in seconds.
                tokenExpiry = currentTime + jsonResponse.expires_in as long
               
                // Update state with the new token and its expiry
                def newState = [:]
                newState[stateKeyToken] = accessToken
                newState[stateKeyExpiry] = tokenExpiry.toString()
                context.getStateManager().setState(newState, org.apache.nifi.components.state.Scope.CLUSTER)
               
                log.info("Retrieved and cached new token for tenantId: ${tenantId}")
            } else {
                log.error("Access token not found in the response for tenantId: ${tenantId}. Response: ${responseBody}")
                flowFile = session.putAttribute(flowFile, 'error', 'Access token not found')
                session.transfer(flowFile, REL_FAILURE)
                return
            }
        }
       
        // Set the token as an attribute in the flow file for downstream use
        flowFile = session.putAttribute(flowFile, 'Token', accessToken)
        session.transfer(flowFile, REL_SUCCESS)
   
    } catch (Exception e) {
        log.error("Something went wrong for tenantId: ${flowFile.getAttribute('tenantId')}", e)
        flowFile = session.putAttribute(flowFile, 'error', 'true')
        session.transfer(flowFile, REL_FAILURE)
    }
}</value>
            </entry>
            <entry>
                <key>Module Directory</key>
            </entry>
            <entry>
                <key>api_token_url</key>
                <value>#{api_token_url}</value>
            </entry>
            <entry>
                <key>clientsecretrmg</key>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Get API token</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.script.ExecuteScript</type>
</processors>
<processors>
    <id>7288d889-ef7f-33ad-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <position>
        <x>1648.0</x>
        <y>1104.0</y>
    </position>
    <versionedComponentId>7288d889-ef7f-33ad-b0ac-d8d089dcab4f</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Log Level</key>
                <value>
                    <name>Log Level</name>
                </value>
            </entry>
            <entry>
                <key>Log Payload</key>
                <value>
                    <name>Log Payload</name>
                </value>
            </entry>
            <entry>
                <key>Attributes to Log</key>
                <value>
                    <name>Attributes to Log</name>
                </value>
            </entry>
            <entry>
                <key>attributes-to-log-regex</key>
                <value>
                    <name>attributes-to-log-regex</name>
                </value>
            </entry>
            <entry>
                <key>Attributes to Ignore</key>
                <value>
                    <name>Attributes to Ignore</name>
                </value>
            </entry>
            <entry>
                <key>attributes-to-ignore-regex</key>
                <value>
                    <name>attributes-to-ignore-regex</name>
                </value>
            </entry>
            <entry>
                <key>Log FlowFile Properties</key>
                <value>
                    <name>Log FlowFile Properties</name>
                </value>
            </entry>
            <entry>
                <key>Output Format</key>
                <value>
                    <name>Output Format</name>
                </value>
            </entry>
            <entry>
                <key>Log prefix</key>
                <value>
                    <name>Log prefix</name>
                </value>
            </entry>
            <entry>
                <key>character-set</key>
                <value>
                    <name>character-set</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Log Level</key>
                <value>info</value>
            </entry>
            <entry>
                <key>Log Payload</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Attributes to Log</key>
            </entry>
            <entry>
                <key>attributes-to-log-regex</key>
                <value>.*</value>
            </entry>
            <entry>
                <key>Attributes to Ignore</key>
            </entry>
            <entry>
                <key>attributes-to-ignore-regex</key>
            </entry>
            <entry>
                <key>Log FlowFile Properties</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Output Format</key>
                <value>Line per Attribute</value>
            </entry>
            <entry>
                <key>Log prefix</key>
            </entry>
            <entry>
                <key>character-set</key>
                <value>UTF-8</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>25</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>LogAttribute</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogAttribute</type>
</processors>
<processors>
    <id>7886d7db-eb3d-3b7a-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <position>
        <x>464.0</x>
        <y>304.0</y>
    </position>
    <versionedComponentId>7886d7db-eb3d-3b7a-8622-50753f933ab9</versionedComponentId>
    <bundle>
        <artifact>nifi-scripting-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Script Engine</key>
                <value>
                    <name>Script Engine</name>
                </value>
            </entry>
            <entry>
                <key>Script File</key>
                <value>
                    <name>Script File</name>
                </value>
            </entry>
            <entry>
                <key>Script Body</key>
                <value>
                    <name>Script Body</name>
                </value>
            </entry>
            <entry>
                <key>Module Directory</key>
                <value>
                    <name>Module Directory</name>
                </value>
            </entry>
            <entry>
                <key>api_token_url</key>
                <value>
                    <name>api_token_url</name>
                </value>
            </entry>
            <entry>
                <key>clientsecretrmg</key>
                <value>
                    <name>clientsecretrmg</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Script Engine</key>
                <value>Groovy</value>
            </entry>
            <entry>
                <key>Script File</key>
            </entry>
            <entry>
                <key>Script Body</key>
                <value>import java.net.HttpURLConnection
import java.net.URL
import java.nio.charset.StandardCharsets
import groovy.json.JsonSlurper
import groovy.json.JsonOutput
 
def flowFile = session.get()
if (flowFile != null) {
    try {
        // Extract required attributes from the flow file
        def tenantId = flowFile.getAttribute('tenantId')
        def businessGroupId = flowFile.getAttribute('businessGroupId')
 
        if (!tenantId || !businessGroupId) {
            log.error("Missing required attributes (tenantId, businessGroupId)")
            flowFile = session.putAttribute(flowFile, 'error', 'Missing required attributes')
            session.transfer(flowFile, REL_FAILURE)
            return
        }
       
        // Key for state management based on tenantId
        def stateKeyToken = "access_token_${tenantId}"
        def stateKeyExpiry = "token_expiry_${tenantId}"
       
        // Retrieve state (token and its expiry)
        def stateMap = context.getStateManager().getState(org.apache.nifi.components.state.Scope.CLUSTER).toMap()
        def accessToken = stateMap[stateKeyToken]
        def tokenExpiry = stateMap[stateKeyExpiry] ? Long.parseLong(stateMap[stateKeyExpiry]) : 0
        def currentTime = System.currentTimeMillis() / 1000
 
        // Check if token exists and is still valid (add some buffer time, e.g., 60 seconds)
        if (accessToken &amp;&amp; currentTime &lt; (tokenExpiry - 60)) {
            log.info("Using cached token for tenantId: ${tenantId}")
        } else {
            // Retrieve the client secret from the Parameter Context based on tenantId.
            def clientSecretPropertyName = "clientsecret${tenantId}"
            def clientSecret = context.getProperty(clientSecretPropertyName)?.evaluateAttributeExpressions()?.getValue()
           
            if (!clientSecret) {
                log.error("Missing client secret for tenantId: ${tenantId}")
                flowFile = session.putAttribute(flowFile, 'error', 'Missing client secret')
                session.transfer(flowFile, REL_FAILURE)
                return
            }
           
            def apiUrl = context.getProperty("api_token_url")?.evaluateAttributeExpressions()?.getValue()
           
            // Create JSON payload dynamically with the client secret retrieved
            def payloadJson = JsonOutput.toJson([
                client_secret: clientSecret,
                grant_type   : "client_credentials"
            ])
           
            // Make the POST request
            def connection = new URL(apiUrl).openConnection() as HttpURLConnection
            connection.requestMethod = 'POST'
            connection.setRequestProperty("x-tenant-id", tenantId)
            connection.setRequestProperty("x-client-id", "backend")
            connection.setRequestProperty("x-trace-id", UUID.randomUUID().toString()) // Generate unique trace ID
            connection.setRequestProperty("x-business-group-id", businessGroupId)
            connection.setRequestProperty("Content-Type", "application/json")
            connection.setRequestProperty("Accept", "application/json")
            connection.doOutput = true
           
            // Write the JSON payload to the request output stream
            try (def writer = new java.io.DataOutputStream(connection.outputStream)) {
                writer.write(payloadJson.getBytes(StandardCharsets.UTF_8))
            }
           
            // Read the response
            def responseCode = connection.responseCode
            def responseBody = responseCode == HttpURLConnection.HTTP_OK ? connection.inputStream.text : connection.errorStream.text
            connection.disconnect()
           
            // Parse the response and extract attributes
            def jsonResponse = new JsonSlurper().parseText(responseBody)
           
            if (jsonResponse.access_token) {
                accessToken = jsonResponse.access_token
                // Set token expiry. 'expires_in' is given in seconds.
                tokenExpiry = currentTime + jsonResponse.expires_in as long
               
                // Update state with the new token and its expiry
                def newState = [:]
                newState[stateKeyToken] = accessToken
                newState[stateKeyExpiry] = tokenExpiry.toString()
                context.getStateManager().setState(newState, org.apache.nifi.components.state.Scope.CLUSTER)
               
                log.info("Retrieved and cached new token for tenantId: ${tenantId}")
            } else {
                log.error("Access token not found in the response for tenantId: ${tenantId}. Response: ${responseBody}")
                flowFile = session.putAttribute(flowFile, 'error', 'Access token not found')
                session.transfer(flowFile, REL_FAILURE)
                return
            }
        }
       
        // Set the token as an attribute in the flow file for downstream use
        flowFile = session.putAttribute(flowFile, 'Token', accessToken)
        session.transfer(flowFile, REL_SUCCESS)
   
    } catch (Exception e) {
        log.error("Something went wrong for tenantId: ${flowFile.getAttribute('tenantId')}", e)
        flowFile = session.putAttribute(flowFile, 'error', 'true')
        session.transfer(flowFile, REL_FAILURE)
    }
}</value>
            </entry>
            <entry>
                <key>Module Directory</key>
            </entry>
            <entry>
                <key>api_token_url</key>
                <value>#{api_token_url}</value>
            </entry>
            <entry>
                <key>clientsecretrmg</key>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Get API token</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.script.ExecuteScript</type>
</processors>
<processors>
    <id>96d2258e-8963-3827-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <position>
        <x>2120.0</x>
        <y>1128.0</y>
    </position>
    <versionedComponentId>96d2258e-8963-3827-80d3-808505a59fef</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>File Size</key>
                <value>
                    <name>File Size</name>
                </value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>
                    <name>Batch Size</name>
                </value>
            </entry>
            <entry>
                <key>Data Format</key>
                <value>
                    <name>Data Format</name>
                </value>
            </entry>
            <entry>
                <key>Unique FlowFiles</key>
                <value>
                    <name>Unique FlowFiles</name>
                </value>
            </entry>
            <entry>
                <key>generate-ff-custom-text</key>
                <value>
                    <name>generate-ff-custom-text</name>
                </value>
            </entry>
            <entry>
                <key>character-set</key>
                <value>
                    <name>character-set</name>
                </value>
            </entry>
            <entry>
                <key>mime-type</key>
                <value>
                    <name>mime-type</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>File Size</key>
                <value>0B</value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>1</value>
            </entry>
            <entry>
                <key>Data Format</key>
                <value>Text</value>
            </entry>
            <entry>
                <key>Unique FlowFiles</key>
                <value>false</value>
            </entry>
            <entry>
                <key>generate-ff-custom-text</key>
                <value>{
  "id": "1ef0fbb9-0ce8-4002-8b44-65e7c940499c",
  "source": "NEBULA",
  "resources": "PRODUCT",
  "time": "2025-03-31T09:10:03.844037388Z",
  "detail_type": "EVENT",
  "detail": {
      "business_grp_id": "rmg",
      "tenant_id": "rmg",
      "trace_id": "9c83d30b-8f0f-42b8-873f-d867c80212cc",
      "entity_type": "PRODUCT",
      "event_type": "SKU_ENABLED_EVENT",
      "mime_type": "application/json",
      "message": "{\"article_id\":\"PSOF451\",\"product_type\":\"REGULAR\",\"status\":\"PUBLISHED\",\"is_active\":true,\"has_variants\":true,\"variants\":[{\"sku_id\":\"SKU1\",\"variant_name\":\"SOFAJACINTABLANCO\",\"variant_description\":\"Elsof\\u00e1Jacintaescontempor\\u00e1neo,pr\\u00e1cticoyv\",\"variant_attributes\":[],\"channels\":[{\"channel_id\":\"cl-marketplace-ripley\",\"country_code\":\"CL\",\"channel_type\":\"MARKETPLACE\",\"channel_name\":\"RIPLEY\",\"is_active\":true,\"additional_attributes\":[{\"attribute_seq\":1,\"attribute_name\":\"categorias\",\"attribute_value\":\"R010101000000\"},{\"attribute_seq\":2,\"attribute_name\":\"Marca\",\"attribute_value\":\"100%\"},{\"attribute_seq\":3,\"attribute_name\":\"thumbnail\",\"attribute_value\":\"https://kjnsdfs.jpg\"},{\"attribute_seq\":4,\"attribute_name\":\"tipo_de_producto\",\"attribute_value\":\"Afeitadoras\"},{\"attribute_seq\":5,\"attribute_name\":\"color_80\",\"attribute_value\":\"Acero\"},{\"attribute_seq\":6,\"attribute_name\":\"vida_util_promedio_segun_uso_esperado\",\"attribute_value\":\"7_meses\"},{\"attribute_seq\":7,\"attribute_name\":\"disponibilidad_repuestos_servicio_tecnico\",\"attribute_value\":\"7_meses\"},{\"attribute_seq\":8,\"attribute_name\":\"pais_fabricacion\",\"attribute_value\":\"China\"},{\"attribute_seq\":9,\"attribute_name\":\"imagen14\",\"attribute_value\":\"https://kjnsdfs.jpg\"}]}],\"price_info\":{\"unit_cost\":{\"amount\":157227,\"fraction\":1,\"currency\":\"USD\"},\"list_price\":{\"amount\":599900,\"fraction\":1,\"currency\":\"USD\"},\"is_tax_included_in_price\":true,\"is_taxable\":true},\"is_active\":true,\"image_urls\":[\"https://cdn.shopify.com/s/files/1/0219/4348/4496/files/p-JP5858-1.jpg\"]}],\"article_basic_dtls\":{\"name\":\"Testsku\",\"description\":\"testingproductbyCBT\",\"short_description\":\"SOFAJACINTABLANCO\",\"category\":\"1.1.1SOFASTELA&amp;PU\",\"manufacturer_name\":\"100%\",\"country_of_origin\":\"China\",\"locale\":\"es-CL\",\"currency_code\":\"USD\",\"unit_of_measure\":\"EA\",\"image_urls\":[]},\"other_product_identifiers\":{\"ean_number\":\"\",\"gtin_number\":\"win\",\"upc_number\":\"high\",\"barcode\":\"\"},\"price_info\":{\"unit_cost\":{\"amount\":157227,\"fraction\":1,\"currency\":\"USD\"},\"list_price\":{\"amount\":599900,\"fraction\":1,\"currency\":\"USD\"},\"is_tax_included_in_price\":true,\"is_taxable\":true},\"fulfillment_settings_config\":{\"is_one_man_fulfillable\":false,\"is_returnable\":true,\"return_time_window_days\":90,\"shipping_profile_category\":\"GLOBAL\",\"fixed_capacity_qty_per_line\":0,\"capacity_per_ordered_qty\":0,\"min_order_quantity\":1,\"max_order_quantity\":3,\"open_box_delivery_eligible\":true,\"shipping_allowed\":true,\"customer_delivery_allowed\":true,\"pickup_allowed\":true,\"freezer_required\":false,\"ship_by_air_allowed\":false,\"product_lead_time_in_mins\":60,\"release_consolidation_in_mins\":0,\"release_cut_off_in_mins\":0,\"ship_notification_in_mins\":60},\"inventory_settings_config\":{\"tag_controlled\":false,\"is_hazmat\":false,\"is_perishable\":false,\"special_handling\":\"NA\",\"item_substitution_allowed\":false,\"procurement_allowed\":false,\"forwarding_allowed\":false,\"on_hand_safety_factor_percentage\":0.0,\"future_safety_factor_percentage\":0.0,\"is_serialised_tracking\":false,\"fifo_tracked\":false},\"product_dimensions\":{\"length\":{\"dimension_value\":120.0,\"unit_of_measure\":\"CMS\"},\"width\":{\"dimension_value\":85.0,\"unit_of_measure\":\"CMS\"},\"height\":{\"dimension_value\":85.0,\"unit_of_measure\":\"CMS\"},\"weight\":{\"dimension_value\":92.0,\"unit_of_measure\":\"KGS\"}},\"packaging_dimensions\":{\"length\":{\"dimension_value\":128.0,\"unit_of_measure\":\"CMS\"},\"width\":{\"dimension_value\":91.0,\"unit_of_measure\":\"CMS\"},\"height\":{\"dimension_value\":91.0,\"unit_of_measure\":\"CMS\"},\"weight\":{\"dimension_value\":98.0,\"unit_of_measure\":\"KGS\"}}}",
      "version": "v1"
  }
}</value>
            </entry>
            <entry>
                <key>character-set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>mime-type</key>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>1 min</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>GenerateFlowFile</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
</processors>
<processors>
    <id>a6ec9d2d-96a9-31c1-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <position>
        <x>464.0</x>
        <y>504.0</y>
    </position>
    <versionedComponentId>e9690119-7658-3f6b-b445-1ac9483d4104</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>HTTP Method</key>
                <value>
                    <name>HTTP Method</name>
                </value>
            </entry>
            <entry>
                <key>Remote URL</key>
                <value>
                    <name>Remote URL</name>
                </value>
            </entry>
            <entry>
                <key>disable-http2</key>
                <value>
                    <name>disable-http2</name>
                </value>
            </entry>
            <entry>
                <key>SSL Context Service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                    <name>SSL Context Service</name>
                </value>
            </entry>
            <entry>
                <key>Connection Timeout</key>
                <value>
                    <name>Connection Timeout</name>
                </value>
            </entry>
            <entry>
                <key>Read Timeout</key>
                <value>
                    <name>Read Timeout</name>
                </value>
            </entry>
            <entry>
                <key>Socket Write Timeout</key>
                <value>
                    <name>Socket Write Timeout</name>
                </value>
            </entry>
            <entry>
                <key>idle-timeout</key>
                <value>
                    <name>idle-timeout</name>
                </value>
            </entry>
            <entry>
                <key>max-idle-connections</key>
                <value>
                    <name>max-idle-connections</name>
                </value>
            </entry>
            <entry>
                <key>proxy-configuration-service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.proxy.ProxyConfigurationService</identifiesControllerService>
                    <name>proxy-configuration-service</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Host</key>
                <value>
                    <name>Proxy Host</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Port</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>Proxy Port</name>
                </value>
            </entry>
            <entry>
                <key>Proxy Type</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>Proxy Type</name>
                </value>
            </entry>
            <entry>
                <key>invokehttp-proxy-user</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>invokehttp-proxy-user</name>
                </value>
            </entry>
            <entry>
                <key>invokehttp-proxy-password</key>
                <value>
                    <dependencies>
                        <propertyName>Proxy Host</propertyName>
                    </dependencies>
                    <name>invokehttp-proxy-password</name>
                </value>
            </entry>
            <entry>
                <key>oauth2-access-token-provider</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.oauth2.OAuth2AccessTokenProvider</identifiesControllerService>
                    <name>oauth2-access-token-provider</name>
                </value>
            </entry>
            <entry>
                <key>Basic Authentication Username</key>
                <value>
                    <name>Basic Authentication Username</name>
                </value>
            </entry>
            <entry>
                <key>Basic Authentication Password</key>
                <value>
                    <name>Basic Authentication Password</name>
                </value>
            </entry>
            <entry>
                <key>Digest Authentication</key>
                <value>
                    <dependencies>
                        <propertyName>Basic Authentication Username</propertyName>
                    </dependencies>
                    <name>Digest Authentication</name>
                </value>
            </entry>
            <entry>
                <key>Penalize on "No Retry"</key>
                <value>
                    <name>Penalize on "No Retry"</name>
                </value>
            </entry>
            <entry>
                <key>send-message-body</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>send-message-body</name>
                </value>
            </entry>
            <entry>
                <key>form-body-form-name</key>
                <value>
                    <dependencies>
                        <dependentValues>true</dependentValues>
                        <propertyName>send-message-body</propertyName>
                    </dependencies>
                    <name>form-body-form-name</name>
                </value>
            </entry>
            <entry>
                <key>set-form-filename</key>
                <value>
                    <dependencies>
                        <propertyName>form-body-form-name</propertyName>
                    </dependencies>
                    <name>set-form-filename</name>
                </value>
            </entry>
            <entry>
                <key>Use Chunked Encoding</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>Use Chunked Encoding</name>
                </value>
            </entry>
            <entry>
                <key>Content-Encoding</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>Content-Encoding</name>
                </value>
            </entry>
            <entry>
                <key>Content-Type</key>
                <value>
                    <dependencies>
                        <dependentValues>POST</dependentValues>
                        <dependentValues>PATCH</dependentValues>
                        <dependentValues>PUT</dependentValues>
                        <propertyName>HTTP Method</propertyName>
                    </dependencies>
                    <name>Content-Type</name>
                </value>
            </entry>
            <entry>
                <key>Include Date Header</key>
                <value>
                    <name>Include Date Header</name>
                </value>
            </entry>
            <entry>
                <key>Attributes to Send</key>
                <value>
                    <name>Attributes to Send</name>
                </value>
            </entry>
            <entry>
                <key>Useragent</key>
                <value>
                    <name>Useragent</name>
                </value>
            </entry>
            <entry>
                <key>Put Response Body In Attribute</key>
                <value>
                    <name>Put Response Body In Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Max Length To Put In Attribute</key>
                <value>
                    <dependencies>
                        <propertyName>Put Response Body In Attribute</propertyName>
                    </dependencies>
                    <name>Max Length To Put In Attribute</name>
                </value>
            </entry>
            <entry>
                <key>ignore-response-content</key>
                <value>
                    <name>ignore-response-content</name>
                </value>
            </entry>
            <entry>
                <key>use-etag</key>
                <value>
                    <name>use-etag</name>
                </value>
            </entry>
            <entry>
                <key>etag-max-cache-size</key>
                <value>
                    <dependencies>
                        <dependentValues>true</dependentValues>
                        <propertyName>use-etag</propertyName>
                    </dependencies>
                    <name>etag-max-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>cookie-strategy</key>
                <value>
                    <name>cookie-strategy</name>
                </value>
            </entry>
            <entry>
                <key>Always Output Response</key>
                <value>
                    <name>Always Output Response</name>
                </value>
            </entry>
            <entry>
                <key>flow-file-naming-strategy</key>
                <value>
                    <name>flow-file-naming-strategy</name>
                </value>
            </entry>
            <entry>
                <key>Add Response Headers to Request</key>
                <value>
                    <name>Add Response Headers to Request</name>
                </value>
            </entry>
            <entry>
                <key>Follow Redirects</key>
                <value>
                    <name>Follow Redirects</name>
                </value>
            </entry>
            <entry>
                <key>Authorization</key>
                <value>
                    <name>Authorization</name>
                </value>
            </entry>
            <entry>
                <key>x-business-group-id</key>
                <value>
                    <name>x-business-group-id</name>
                </value>
            </entry>
            <entry>
                <key>x-client-id</key>
                <value>
                    <name>x-client-id</name>
                </value>
            </entry>
            <entry>
                <key>x-shopify-shop-domain</key>
                <value>
                    <name>x-shopify-shop-domain</name>
                </value>
            </entry>
            <entry>
                <key>x-tenant-id</key>
                <value>
                    <name>x-tenant-id</name>
                </value>
            </entry>
            <entry>
                <key>x-trace-id</key>
                <value>
                    <name>x-trace-id</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>HTTP Method</key>
                <value>GET</value>
            </entry>
            <entry>
                <key>Remote URL</key>
                <value>#{product_details_url}</value>
            </entry>
            <entry>
                <key>disable-http2</key>
                <value>False</value>
            </entry>
            <entry>
                <key>SSL Context Service</key>
            </entry>
            <entry>
                <key>Connection Timeout</key>
                <value>5 secs</value>
            </entry>
            <entry>
                <key>Read Timeout</key>
                <value>15 secs</value>
            </entry>
            <entry>
                <key>Socket Write Timeout</key>
                <value>15 secs</value>
            </entry>
            <entry>
                <key>idle-timeout</key>
                <value>5 mins</value>
            </entry>
            <entry>
                <key>max-idle-connections</key>
                <value>5</value>
            </entry>
            <entry>
                <key>proxy-configuration-service</key>
            </entry>
            <entry>
                <key>Proxy Host</key>
            </entry>
            <entry>
                <key>Proxy Port</key>
            </entry>
            <entry>
                <key>Proxy Type</key>
                <value>http</value>
            </entry>
            <entry>
                <key>invokehttp-proxy-user</key>
            </entry>
            <entry>
                <key>invokehttp-proxy-password</key>
            </entry>
            <entry>
                <key>oauth2-access-token-provider</key>
            </entry>
            <entry>
                <key>Basic Authentication Username</key>
            </entry>
            <entry>
                <key>Basic Authentication Password</key>
            </entry>
            <entry>
                <key>Digest Authentication</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Penalize on "No Retry"</key>
                <value>false</value>
            </entry>
            <entry>
                <key>send-message-body</key>
                <value>true</value>
            </entry>
            <entry>
                <key>form-body-form-name</key>
            </entry>
            <entry>
                <key>set-form-filename</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Use Chunked Encoding</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Content-Encoding</key>
                <value>DISABLED</value>
            </entry>
            <entry>
                <key>Content-Type</key>
                <value>application/json</value>
            </entry>
            <entry>
                <key>Include Date Header</key>
                <value>True</value>
            </entry>
            <entry>
                <key>Attributes to Send</key>
            </entry>
            <entry>
                <key>Useragent</key>
            </entry>
            <entry>
                <key>Put Response Body In Attribute</key>
            </entry>
            <entry>
                <key>Max Length To Put In Attribute</key>
                <value>256</value>
            </entry>
            <entry>
                <key>ignore-response-content</key>
                <value>false</value>
            </entry>
            <entry>
                <key>use-etag</key>
                <value>false</value>
            </entry>
            <entry>
                <key>etag-max-cache-size</key>
                <value>10MB</value>
            </entry>
            <entry>
                <key>cookie-strategy</key>
                <value>DISABLED</value>
            </entry>
            <entry>
                <key>Always Output Response</key>
                <value>false</value>
            </entry>
            <entry>
                <key>flow-file-naming-strategy</key>
                <value>RANDOM</value>
            </entry>
            <entry>
                <key>Add Response Headers to Request</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Follow Redirects</key>
                <value>True</value>
            </entry>
            <entry>
                <key>Authorization</key>
                <value>Bearer ${Token}</value>
            </entry>
            <entry>
                <key>x-business-group-id</key>
                <value>${businessGroupId}</value>
            </entry>
            <entry>
                <key>x-client-id</key>
                <value>backend</value>
            </entry>
            <entry>
                <key>x-shopify-shop-domain</key>
                <value>nebulacommerce.myshopify.com</value>
            </entry>
            <entry>
                <key>x-tenant-id</key>
                <value>${tenantId}</value>
            </entry>
            <entry>
                <key>x-trace-id</key>
                <value>${traceId}</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Get product details</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>No Retry</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>Original</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Response</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>Retry</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.InvokeHTTP</type>
</processors>
<processors>
    <id>becc8638-70fb-3d45-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <position>
        <x>1472.0</x>
        <y>1456.0</y>
    </position>
    <versionedComponentId>becc8638-70fb-3d45-b121-fd0d43bf8cf4</versionedComponentId>
    <bundle>
        <artifact>nifi-scripting-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Script Engine</key>
                <value>
                    <name>Script Engine</name>
                </value>
            </entry>
            <entry>
                <key>Script File</key>
                <value>
                    <name>Script File</name>
                </value>
            </entry>
            <entry>
                <key>Script Body</key>
                <value>
                    <name>Script Body</name>
                </value>
            </entry>
            <entry>
                <key>Module Directory</key>
                <value>
                    <name>Module Directory</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Script Engine</key>
                <value>Groovy</value>
            </entry>
            <entry>
                <key>Script File</key>
            </entry>
            <entry>
                <key>Script Body</key>
                <value>import org.apache.commons.io.IOUtils
import java.nio.charset.StandardCharsets
import groovy.json.JsonSlurper
import groovy.json.JsonOutput

def flowFile = session.get()
if (flowFile != null) {
    try {
        flowFile = session.write(flowFile, {
            inputStream, outputStream -&gt; def text = IOUtils.toString(inputStream, StandardCharsets.UTF_8)
            def inputJson = new JsonSlurper().parseText(text)
            def message = new JsonSlurper().parseText(inputJson.detail.message)

            def outputJson = [:]
            
            outputJson &lt;&lt; [
                message
            ]
			
            outputStream.write(JsonOutput.prettyPrint(JsonOutput.toJson(outputJson)).getBytes(StandardCharsets.UTF_8))
        } as StreamCallback)
        session.transfer(flowFile, REL_SUCCESS)
    } catch (Exception e) {
        log.error('Something went wrong', e)
        flowFile = session.putAttribute(flowFile, 'error', 'true')
        session.transfer(flowFile, REL_FAILURE)
    }
}
</value>
            </entry>
            <entry>
                <key>Module Directory</key>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Extract message</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.script.ExecuteScript</type>
</processors>
<processors>
    <id>c181afad-5ac6-3c3e-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <position>
        <x>464.0</x>
        <y>1160.0</y>
    </position>
    <versionedComponentId>980029bd-c648-3ae4-a37b-b6a52c0e760c</versionedComponentId>
    <bundle>
        <artifact>nifi-scripting-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Script Engine</key>
                <value>
                    <name>Script Engine</name>
                </value>
            </entry>
            <entry>
                <key>Script File</key>
                <value>
                    <name>Script File</name>
                </value>
            </entry>
            <entry>
                <key>Script Body</key>
                <value>
                    <name>Script Body</name>
                </value>
            </entry>
            <entry>
                <key>Module Directory</key>
                <value>
                    <name>Module Directory</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Script Engine</key>
                <value>Groovy</value>
            </entry>
            <entry>
                <key>Script File</key>
            </entry>
            <entry>
                <key>Script Body</key>
                <value>import org.apache.nifi.processor.io.StreamCallback
import org.apache.commons.io.IOUtils
import groovy.json.JsonSlurper
import groovy.json.JsonOutput
import groovy.json.JsonBuilder
import java.nio.charset.StandardCharsets

// Get the incoming FlowFile
flowFile = session.get()
if (!flowFile) return

// We'll use a one-element list as a mutable container for our boolean result
def hasMatchingVariantsResult = [false]
// We'll store the updated JSON in a variable so we can add it to an attribute
def updatedJson = ""

try {
    flowFile = session.write(flowFile, { inputStream, outputStream -&gt;
        // Read and parse the original JSON
        def jsonText = IOUtils.toString(inputStream, StandardCharsets.UTF_8)
        def json = new JsonSlurper().parseText(jsonText)
        
        // Check if the JSON contains a "variants" array
        if (json.variants instanceof List) {
            // Filter variants: keep any variant that has at least one channel matching:
            //   channel_name == "RIPLEY", is_active == true,
            //   and (additional_attributes is null or empty)
            def filteredVariants = json.variants.findAll { variant -&gt;
                variant.channels &amp;&amp; variant.channels.find { channel -&gt;
                    if(channel.channel_name == "RIPLEY" &amp;&amp; channel.is_active == true){
                        // (!channel.additional_attributes || channel.additional_attributes.isEmpty())
                        //Get additional attributes
                        def attrs = channel.additional_attributes ?: []
                        if(attrs.isEmpty()){
                            return false
                        }
                        def isCreatedAttr = attrs.find {it.name == "import_id" }
                        if(!isCreatedAttr){
                            return true
                        }
                        def importIdValue = isCreatedAttr?.value

                        if (importIdValue &amp;&amp; importIdValue.trim()) {
                            return false
                        }
                    }else{
                        return false
                    }
                    
                    
                }
            }
            
            // Determine if there were any matching variants
            hasMatchingVariantsResult[0] = !filteredVariants.isEmpty()
            
            // Replace the variants array with the filtered list
            json.variants = filteredVariants
        }
        
        // Convert the modified JSON to a string
        updatedJson = JsonOutput.toJson(json)
        
        // Write the modified JSON back to the FlowFile
        //outputStream.write(updatedJson.getBytes(StandardCharsets.UTF_8))

		def jsonBuilder = new JsonBuilder(json)
        outputStream.write(jsonBuilder.toPrettyString().getBytes("UTF-8"))
    } as StreamCallback)
    
    // Add an attribute indicating whether any matching variants were found
    flowFile = session.putAttribute(flowFile, "hasMatchingVariants", hasMatchingVariantsResult[0].toString())
    
    // Also store the updated (filtered) JSON as an attribute
    flowFile = session.putAttribute(flowFile, "filteredPayload", updatedJson)
    
    // Transfer to success
    session.transfer(flowFile, REL_SUCCESS)

} catch (Exception e) {
    // If anything goes wrong, log the error, set an attribute, and route to failure
    log.error('Something went wrong', e)
    flowFile = session.putAttribute(flowFile, 'error', 'true')
    session.transfer(flowFile, REL_FAILURE)
}</value>
            </entry>
            <entry>
                <key>Module Directory</key>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Filtered variants</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.script.ExecuteScript</type>
</processors>
<processors>
    <id>e19f06f4-acd1-3904-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <position>
        <x>464.0</x>
        <y>96.0</y>
    </position>
    <versionedComponentId>30ea950f-0d74-37ba-803f-d7e63fa15d36</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Destination</key>
                <value>
                    <name>Destination</name>
                </value>
            </entry>
            <entry>
                <key>Return Type</key>
                <value>
                    <name>Return Type</name>
                </value>
            </entry>
            <entry>
                <key>Path Not Found Behavior</key>
                <value>
                    <dependencies>
                        <dependentValues>flowfile-attribute</dependentValues>
                        <propertyName>Destination</propertyName>
                    </dependencies>
                    <name>Path Not Found Behavior</name>
                </value>
            </entry>
            <entry>
                <key>Null Value Representation</key>
                <value>
                    <name>Null Value Representation</name>
                </value>
            </entry>
            <entry>
                <key>Max String Length</key>
                <value>
                    <name>Max String Length</name>
                </value>
            </entry>
            <entry>
                <key>articleId</key>
                <value>
                    <name>articleId</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Destination</key>
                <value>flowfile-attribute</value>
            </entry>
            <entry>
                <key>Return Type</key>
                <value>auto-detect</value>
            </entry>
            <entry>
                <key>Path Not Found Behavior</key>
                <value>ignore</value>
            </entry>
            <entry>
                <key>Null Value Representation</key>
                <value>empty string</value>
            </entry>
            <entry>
                <key>Max String Length</key>
                <value>20 MB</value>
            </entry>
            <entry>
                <key>articleId</key>
                <value>$.skus[0].article_id</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Set article_id attribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>matched</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>unmatched</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.EvaluateJsonPath</type>
</processors>
<processors>
    <id>e716bfd6-40fa-33b1-0000-000000000000</id>
    <parentGroupId>f7aa948a-1316-3ba1-0000-000000000000</parentGroupId>
    <position>
        <x>1184.0</x>
        <y>504.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.26.0</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>retry-attribute</key>
                <value>
                    <name>retry-attribute</name>
                </value>
            </entry>
            <entry>
                <key>maximum-retries</key>
                <value>
                    <name>maximum-retries</name>
                </value>
            </entry>
            <entry>
                <key>penalize-retries</key>
                <value>
                    <name>penalize-retries</name>
                </value>
            </entry>
            <entry>
                <key>Fail on Non-numerical Overwrite</key>
                <value>
                    <name>Fail on Non-numerical Overwrite</name>
                </value>
            </entry>
            <entry>
                <key>reuse-mode</key>
                <value>
                    <name>reuse-mode</name>
                </value>
            </entry>
            <entry>
                <key>Retry Interval</key>
                <value>
                    <name>Retry Interval</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>retry-attribute</key>
                <value>flowfile.retries</value>
            </entry>
            <entry>
                <key>maximum-retries</key>
                <value>3</value>
            </entry>
            <entry>
                <key>penalize-retries</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Fail on Non-numerical Overwrite</key>
                <value>false</value>
            </entry>
            <entry>
                <key>reuse-mode</key>
                <value>fail</value>
            </entry>
            <entry>
                <key>Retry Interval</key>
                <value>50000ms</value>
            </entry>
        </properties>
        <retryCount>10</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>RetryFlowFile</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>retries_exceeded</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>retry</name>
        <retry>false</retry>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.RetryFlowFile</type>
</processors>
                            </contents>
                            <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                            <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                            <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                            <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                            <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                            <name>Get Product Details By Article ID API call</name>
                            <variables/>
                        </processGroups>
                        <processors>
                            <id>564212c9-ee43-386b-0000-000000000000</id>
                            <parentGroupId>facd6c3f-6d37-3efc-0000-000000000000</parentGroupId>
                            <position>
<x>664.0</x>
<y>-360.0</y>
                            </position>
                            <versionedComponentId>03a16738-c521-3d30-9fb1-b37cc924880d</versionedComponentId>
                            <bundle>
<artifact>nifi-scripting-nar</artifact>
<group>org.apache.nifi</group>
<version>1.26.0</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Script Engine</key>
        <value>
            <name>Script Engine</name>
        </value>
    </entry>
    <entry>
        <key>Script File</key>
        <value>
            <name>Script File</name>
        </value>
    </entry>
    <entry>
        <key>Script Body</key>
        <value>
            <name>Script Body</name>
        </value>
    </entry>
    <entry>
        <key>Module Directory</key>
        <value>
            <name>Module Directory</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Script Engine</key>
        <value>Groovy</value>
    </entry>
    <entry>
        <key>Script File</key>
    </entry>
    <entry>
        <key>Script Body</key>
        <value>import org.apache.commons.io.IOUtils
import java.nio.charset.StandardCharsets
import groovy.json.JsonSlurper
import groovy.json.JsonOutput

def flowFile = session.get()
if (flowFile != null) {
    try {
        flowFile = session.write(flowFile, {
            inputStream, outputStream -&gt; def text = IOUtils.toString(inputStream, StandardCharsets.UTF_8)
            def inputJson = new JsonSlurper().parseText(text)
            def message = new JsonSlurper().parseText(inputJson.detail.message)

            def outputJson = [:]
            
            outputJson &lt;&lt; [
                message
            ]
			
            outputStream.write(JsonOutput.prettyPrint(JsonOutput.toJson(outputJson)).getBytes(StandardCharsets.UTF_8))
        } as StreamCallback)
        session.transfer(flowFile, REL_SUCCESS)
    } catch (Exception e) {
        log.error('Something went wrong', e)
        flowFile = session.putAttribute(flowFile, 'error', 'true')
        session.transfer(flowFile, REL_FAILURE)
    }
}
</value>
    </entry>
    <entry>
        <key>Module Directory</key>
    </entry>
</properties>
<retryCount>10</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Extract message</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.script.ExecuteScript</type>
                        </processors>
                    </contents>
                    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                    <name>Product creation</name>
                    <variables/>
                </processGroups>
                <processors>
                    <id>255edd10-3d17-390a-0000-000000000000</id>
                    <parentGroupId>7e5f32d7-88e1-3276-0000-000000000000</parentGroupId>
                    <position>
                        <x>1000.0</x>
                        <y>-600.0</y>
                    </position>
                    <versionedComponentId>c6e61b9e-f142-3967-99e0-150706cb7032</versionedComponentId>
                    <bundle>
                        <artifact>nifi-kafka-2-6-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.26.0</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>bootstrap.servers</key>
<value>
    <name>bootstrap.servers</name>
</value>
                            </entry>
                            <entry>
<key>topic</key>
<value>
    <name>topic</name>
</value>
                            </entry>
                            <entry>
<key>topic_type</key>
<value>
    <name>topic_type</name>
</value>
                            </entry>
                            <entry>
<key>group.id</key>
<value>
    <name>group.id</name>
</value>
                            </entry>
                            <entry>
<key>Commit Offsets</key>
<value>
    <name>Commit Offsets</name>
</value>
                            </entry>
                            <entry>
<key>max-uncommit-offset-wait</key>
<value>
    <dependencies>
        <dependentValues>true</dependentValues>
        <propertyName>Commit Offsets</propertyName>
    </dependencies>
    <name>max-uncommit-offset-wait</name>
</value>
                            </entry>
                            <entry>
<key>honor-transactions</key>
<value>
    <name>honor-transactions</name>
</value>
                            </entry>
                            <entry>
<key>message-demarcator</key>
<value>
    <name>message-demarcator</name>
</value>
                            </entry>
                            <entry>
<key>separate-by-key</key>
<value>
    <name>separate-by-key</name>
</value>
                            </entry>
                            <entry>
<key>security.protocol</key>
<value>
    <name>security.protocol</name>
</value>
                            </entry>
                            <entry>
<key>sasl.mechanism</key>
<value>
    <name>sasl.mechanism</name>
</value>
                            </entry>
                            <entry>
<key>kerberos-credentials-service</key>
<value>
    <identifiesControllerService>org.apache.nifi.kerberos.KerberosCredentialsService</identifiesControllerService>
    <name>kerberos-credentials-service</name>
</value>
                            </entry>
                            <entry>
<key>kerberos-user-service</key>
<value>
    <identifiesControllerService>org.apache.nifi.kerberos.SelfContainedKerberosUserService</identifiesControllerService>
    <name>kerberos-user-service</name>
</value>
                            </entry>
                            <entry>
<key>sasl.kerberos.service.name</key>
<value>
    <name>sasl.kerberos.service.name</name>
</value>
                            </entry>
                            <entry>
<key>sasl.kerberos.principal</key>
<value>
    <name>sasl.kerberos.principal</name>
</value>
                            </entry>
                            <entry>
<key>sasl.kerberos.keytab</key>
<value>
    <name>sasl.kerberos.keytab</name>
</value>
                            </entry>
                            <entry>
<key>sasl.username</key>
<value>
    <dependencies>
        <dependentValues>PLAIN</dependentValues>
        <dependentValues>SCRAM-SHA-512</dependentValues>
        <dependentValues>SCRAM-SHA-256</dependentValues>
        <propertyName>sasl.mechanism</propertyName>
    </dependencies>
    <name>sasl.username</name>
</value>
                            </entry>
                            <entry>
<key>sasl.password</key>
<value>
    <dependencies>
        <dependentValues>PLAIN</dependentValues>
        <dependentValues>SCRAM-SHA-512</dependentValues>
        <dependentValues>SCRAM-SHA-256</dependentValues>
        <propertyName>sasl.mechanism</propertyName>
    </dependencies>
    <name>sasl.password</name>
</value>
                            </entry>
                            <entry>
<key>sasl.token.auth</key>
<value>
    <dependencies>
        <dependentValues>SCRAM-SHA-512</dependentValues>
        <dependentValues>SCRAM-SHA-256</dependentValues>
        <propertyName>sasl.mechanism</propertyName>
    </dependencies>
    <name>sasl.token.auth</name>
</value>
                            </entry>
                            <entry>
<key>aws.profile.name</key>
<value>
    <dependencies>
        <dependentValues>AWS_MSK_IAM</dependentValues>
        <propertyName>sasl.mechanism</propertyName>
    </dependencies>
    <name>aws.profile.name</name>
</value>
                            </entry>
                            <entry>
<key>ssl.context.service</key>
<value>
    <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
    <name>ssl.context.service</name>
</value>
                            </entry>
                            <entry>
<key>key-attribute-encoding</key>
<value>
    <name>key-attribute-encoding</name>
</value>
                            </entry>
                            <entry>
<key>auto.offset.reset</key>
<value>
    <name>auto.offset.reset</name>
</value>
                            </entry>
                            <entry>
<key>message-header-encoding</key>
<value>
    <name>message-header-encoding</name>
</value>
                            </entry>
                            <entry>
<key>header-name-regex</key>
<value>
    <name>header-name-regex</name>
</value>
                            </entry>
                            <entry>
<key>max.poll.records</key>
<value>
    <name>max.poll.records</name>
</value>
                            </entry>
                            <entry>
<key>Communications Timeout</key>
<value>
    <name>Communications Timeout</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>bootstrap.servers</key>
<value>#{kafka_broker}</value>
                            </entry>
                            <entry>
<key>topic</key>
<value>#{kafka_consume_topic}</value>
                            </entry>
                            <entry>
<key>topic_type</key>
<value>names</value>
                            </entry>
                            <entry>
<key>group.id</key>
<value>#{kafka_consume_group}</value>
                            </entry>
                            <entry>
<key>Commit Offsets</key>
<value>true</value>
                            </entry>
                            <entry>
<key>max-uncommit-offset-wait</key>
<value>1 secs</value>
                            </entry>
                            <entry>
<key>honor-transactions</key>
<value>true</value>
                            </entry>
                            <entry>
<key>message-demarcator</key>
                            </entry>
                            <entry>
<key>separate-by-key</key>
<value>false</value>
                            </entry>
                            <entry>
<key>security.protocol</key>
<value>PLAINTEXT</value>
                            </entry>
                            <entry>
<key>sasl.mechanism</key>
<value>GSSAPI</value>
                            </entry>
                            <entry>
<key>kerberos-credentials-service</key>
                            </entry>
                            <entry>
<key>kerberos-user-service</key>
                            </entry>
                            <entry>
<key>sasl.kerberos.service.name</key>
                            </entry>
                            <entry>
<key>sasl.kerberos.principal</key>
                            </entry>
                            <entry>
<key>sasl.kerberos.keytab</key>
                            </entry>
                            <entry>
<key>sasl.username</key>
                            </entry>
                            <entry>
<key>sasl.password</key>
                            </entry>
                            <entry>
<key>sasl.token.auth</key>
<value>false</value>
                            </entry>
                            <entry>
<key>aws.profile.name</key>
                            </entry>
                            <entry>
<key>ssl.context.service</key>
                            </entry>
                            <entry>
<key>key-attribute-encoding</key>
<value>utf-8</value>
                            </entry>
                            <entry>
<key>auto.offset.reset</key>
<value>latest</value>
                            </entry>
                            <entry>
<key>message-header-encoding</key>
<value>UTF-8</value>
                            </entry>
                            <entry>
<key>header-name-regex</key>
                            </entry>
                            <entry>
<key>max.poll.records</key>
<value>10000</value>
                            </entry>
                            <entry>
<key>Communications Timeout</key>
<value>60 secs</value>
                            </entry>
                        </properties>
                        <retryCount>10</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>ConsumeKafka_2_6</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>STOPPED</state>
                    <style/>
                    <type>org.apache.nifi.processors.kafka.pubsub.ConsumeKafka_2_6</type>
                </processors>
                <processors>
                    <id>32c526f2-6175-3e88-0000-000000000000</id>
                    <parentGroupId>7e5f32d7-88e1-3276-0000-000000000000</parentGroupId>
                    <position>
                        <x>1600.0</x>
                        <y>-600.0</y>
                    </position>
                    <versionedComponentId>34e09b78-0625-35eb-bcb1-ecb650fa16a5</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.26.0</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>File Size</key>
<value>
    <name>File Size</name>
</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>
    <name>Batch Size</name>
</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>
    <name>Data Format</name>
</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>
    <name>Unique FlowFiles</name>
</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
<value>
    <name>generate-ff-custom-text</name>
</value>
                            </entry>
                            <entry>
<key>character-set</key>
<value>
    <name>character-set</name>
</value>
                            </entry>
                            <entry>
<key>mime-type</key>
<value>
    <name>mime-type</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>File Size</key>
<value>0B</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>1</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>Text</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>false</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
<value>{
    "id": "1ef0fbb9-0ce8-4002-8b44-65e7c940499c",
    "source": "NEBULA",
    "resources": "PRODUCT",
    "time": "2025-03-31T09:10:03.844037388Z",
    "detail_type": "EVENT",
    "detail": {
        "business_grp_id": "rmg",
        "tenant_id": "rmg",
        "trace_id": "9c83d30b-8f0f-42b8-873f-d867c80212cc",
        "entity_type": "PRODUCT",
        "event_type": "SKU_ENABLED_EVENT",
        "mime_type": "application/json",
        "message": "{\"skus\":[{\"article_id\":\"QWERTY-TEST\",\"sku_id\":\"QWERTY\"}]}",
        "version": "v1"
    }
}</value>
                            </entry>
                            <entry>
<key>character-set</key>
<value>UTF-8</value>
                            </entry>
                            <entry>
<key>mime-type</key>
                            </entry>
                        </properties>
                        <retryCount>10</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>1 min</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>GenerateFlowFile</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>STOPPED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                </processors>
                <processors>
                    <id>59d0252e-7a85-3e45-0000-000000000000</id>
                    <parentGroupId>7e5f32d7-88e1-3276-0000-000000000000</parentGroupId>
                    <position>
                        <x>1000.0</x>
                        <y>-200.0</y>
                    </position>
                    <versionedComponentId>59d0252e-7a85-3e45-b34a-d81e9c108cf3</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.26.0</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Routing Strategy</key>
<value>
    <name>Routing Strategy</name>
</value>
                            </entry>
                            <entry>
<key>filteration</key>
<value>
    <name>filteration</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Routing Strategy</key>
<value>Route to 'match' if all match</value>
                            </entry>
                            <entry>
<key>filteration</key>
<value>${
eventType:equals('SKU_ENABLED_EVENT'):and(${
entityType:equals('PRODUCT')})}</value>
                            </entry>
                        </properties>
                        <retryCount>10</retryCount>
                        <runDurationMillis>25</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>RouteOnAttribute</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>matched</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>unmatched</name>
                        <retry>false</retry>
                    </relationships>
                    <state>STOPPED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                </processors>
                <processors>
                    <id>9c75520c-1cc6-39e2-0000-000000000000</id>
                    <parentGroupId>7e5f32d7-88e1-3276-0000-000000000000</parentGroupId>
                    <position>
                        <x>1000.0</x>
                        <y>-400.0</y>
                    </position>
                    <versionedComponentId>d3656d22-fb4b-356c-b2fc-52a1b901f9d3</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.26.0</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Destination</key>
<value>
    <name>Destination</name>
</value>
                            </entry>
                            <entry>
<key>Return Type</key>
<value>
    <name>Return Type</name>
</value>
                            </entry>
                            <entry>
<key>Path Not Found Behavior</key>
<value>
    <dependencies>
        <dependentValues>flowfile-attribute</dependentValues>
        <propertyName>Destination</propertyName>
    </dependencies>
    <name>Path Not Found Behavior</name>
</value>
                            </entry>
                            <entry>
<key>Null Value Representation</key>
<value>
    <name>Null Value Representation</name>
</value>
                            </entry>
                            <entry>
<key>Max String Length</key>
<value>
    <name>Max String Length</name>
</value>
                            </entry>
                            <entry>
<key>businessGroupId</key>
<value>
    <name>businessGroupId</name>
</value>
                            </entry>
                            <entry>
<key>entityType</key>
<value>
    <name>entityType</name>
</value>
                            </entry>
                            <entry>
<key>eventType</key>
<value>
    <name>eventType</name>
</value>
                            </entry>
                            <entry>
<key>tenantId</key>
<value>
    <name>tenantId</name>
</value>
                            </entry>
                            <entry>
<key>traceId</key>
<value>
    <name>traceId</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Destination</key>
<value>flowfile-attribute</value>
                            </entry>
                            <entry>
<key>Return Type</key>
<value>auto-detect</value>
                            </entry>
                            <entry>
<key>Path Not Found Behavior</key>
<value>ignore</value>
                            </entry>
                            <entry>
<key>Null Value Representation</key>
<value>empty string</value>
                            </entry>
                            <entry>
<key>Max String Length</key>
<value>20 MB</value>
                            </entry>
                            <entry>
<key>businessGroupId</key>
<value>$.detail.business_grp_id</value>
                            </entry>
                            <entry>
<key>entityType</key>
<value>$.detail.entity_type</value>
                            </entry>
                            <entry>
<key>eventType</key>
<value>$.detail.event_type</value>
                            </entry>
                            <entry>
<key>tenantId</key>
<value>$.detail.tenant_id</value>
                            </entry>
                            <entry>
<key>traceId</key>
<value>$.detail.trace_id</value>
                            </entry>
                        </properties>
                        <retryCount>10</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Set flowfile attributes</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>failure</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>matched</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>unmatched</name>
                        <retry>false</retry>
                    </relationships>
                    <state>STOPPED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.EvaluateJsonPath</type>
                </processors>
            </contents>
            <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
            <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
            <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
            <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
            <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
            <name>Ripley-product-creation-final</name>
            <variables/>
        </processGroups>
    </snippet>
    <timestamp>04/15/2025 09:26:11 UTC</timestamp>
</template>
